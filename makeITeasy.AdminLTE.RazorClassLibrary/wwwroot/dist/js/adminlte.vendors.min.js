var VectorCanvas,ColorScale,JQVMap,version;!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function t(){return ie.apply(null,arguments)}function it(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function ti(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function o(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function yu(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;for(var t in n)if(o(n,t))return;return 1}function k(n){return void 0===n}function at(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function ki(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function re(n,t){for(var r=[],u=n.length,i=0;i<u;++i)r.push(t(n[i],i));return r}function dt(n,t){for(var i in t)o(t,i)&&(n[i]=t[i]);return o(t,"toString")&&(n.toString=t.toString),o(t,"valueOf")&&(n.valueOf=t.valueOf),n}function et(n,t,i,r){return uo(n,t,i,r,!0).utc()}function f(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function pu(n){if(null==n._isValid){var t=f(n),i=fs.call(t.parsedDateParts,function(n){return null!=n}),i=!isNaN(n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(n._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function cr(n){var t=et(NaN);return null!=n?dt(f(t),n):f(t).userInvalidated=!0,t}function bu(n,t){var i,r,u,e=ue.length;if(k(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),k(t._i)||(n._i=t._i),k(t._f)||(n._f=t._f),k(t._l)||(n._l=t._l),k(t._strict)||(n._strict=t._strict),k(t._tzm)||(n._tzm=t._tzm),k(t._isUTC)||(n._isUTC=t._isUTC),k(t._offset)||(n._offset=t._offset),k(t._pf)||(n._pf=f(t)),k(t._locale)||(n._locale=t._locale),0<e)for(i=0;i<e;i++)k(u=t[r=ue[i]])||(n[r]=u);return n}function di(n){bu(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===wu&&(wu=!0,t.updateOffset(this),wu=!1)}function rt(n){return n instanceof di||null!=n&&null!=n._isAMomentObject}function fe(n){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function g(n,i){var r=!0;return dt(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,n),r){for(var u,e,s=[],h=arguments.length,f=0;f<h;f++){if(u="","object"==typeof arguments[f]){for(e in u+="\n["+f+"] ",arguments[0])o(arguments[0],e)&&(u+=e+": "+arguments[0][e]+", ");u=u.slice(0,-2)}else u=arguments[f];s.push(u)}fe(n+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack);r=!1}return i.apply(this,arguments)},i)}function oe(n,i){null!=t.deprecationHandler&&t.deprecationHandler(n,i);ee[n]||(fe(i),ee[n]=!0)}function ot(n){return"undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function ku(n,t){var i,r=dt({},n);for(i in t)o(t,i)&&(ti(n[i])&&ti(t[i])?(r[i]={},dt(r[i],n[i]),dt(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);for(i in n)o(n,i)&&!o(t,i)&&ti(n[i])&&(r[i]=dt({},r[i]));return r}function du(n){null!=n&&this.set(n)}function st(n,t,i){var r=""+Math.abs(n);return(0<=n?i?"+":"":"-")+Math.pow(10,Math.max(0,t-r.length)).toString().substr(1)+r}function u(n,t,i,r){var u="string"==typeof r?function(){return this[r]()}:r;n&&(oi[n]=u);t&&(oi[t[0]]=function(){return st(u.apply(this,arguments),t[1],t[2])});i&&(oi[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function ar(n,t){return n.isValid()?(t=he(t,n.localeData()),nf[t]=nf[t]||function(n){for(var r,t=n.match(gu),i=0,u=t.length;i<u;i++)t[i]=oi[t[i]]?oi[t[i]]:(r=t[i]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(i){for(var f="",r=0;r<u;r++)f+=ot(t[r])?t[r].call(i,n):t[r];return f}}(t),nf[t](n)):n.localeData().invalidDate()}function he(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(lr.lastIndex=0;0<=i&&lr.test(n);)n=n.replace(lr,r),lr.lastIndex=0,--i;return n}function y(n,t){var i=n.toLowerCase();si[i]=si[i+"s"]=si[t]=n}function nt(n){if("string"==typeof n)return si[n]||si[n.toLowerCase()]}function tf(n){var i,t,r={};for(t in n)o(n,t)&&(i=nt(t))&&(r[i]=n[t]);return r}function p(n,t){rf[n]=t}function vr(n){return n%4==0&&n%100!=0||n%400==0}function tt(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function e(n){var t=+n,n=0;return 0!=t&&isFinite(t)?tt(t):n}function hi(n,i){return function(r){return null!=r?(ce(this,n,r),t.updateOffset(this,i),this):yr(this,n)}}function yr(n,t){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+t]():NaN}function ce(n,t,i){n.isValid()&&!isNaN(i)&&("FullYear"===t&&vr(n.year())&&1===n.month()&&29===n.date()?(i=e(i),n._d["set"+(n._isUTC?"UTC":"")+t](i,n.month(),nu(i,n.month()))):n._d["set"+(n._isUTC?"UTC":"")+t](i))}function r(n,t,i){dr[n]=ot(t)?t:function(n){return n&&i?i:t}}function os(n,t){return o(dr,n)?dr[n](t._strict,t._locale):new RegExp(d(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})))}function d(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(n,t){var i,r,u=t;for("string"==typeof n&&(n=[n]),at(t)&&(u=function(n,i){i[t]=e(n)}),r=n.length,i=0;i<r;i++)gr[n[i]]=u}function nr(n,t){s(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function nu(n,t){if(isNaN(n)||isNaN(t))return NaN;var i=(t%(i=12)+i)%i;return n+=(t-i)/12,1==i?vr(n)?29:28:31-i%7%2}function ve(n,t){var i;if(!n.isValid())return n;if("string"==typeof t)if(/^\d+$/.test(t))t=e(t);else if(!at(t=n.localeData().monthsParse(t)))return n;return i=Math.min(n.date(),nu(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n}function ye(n){return null!=n?(ve(this,n),t.updateOffset(this,!0),this):yr(this,"Month")}function pe(){function f(n,t){return t.length-n.length}for(var i,r=[],u=[],t=[],n=0;n<12;n++)i=et([2e3,n]),r.push(this.monthsShort(i,"")),u.push(this.months(i,"")),t.push(this.months(i,"")),t.push(this.monthsShort(i,""));for(r.sort(f),u.sort(f),t.sort(f),n=0;n<12;n++)r[n]=d(r[n]),u[n]=d(u[n]);for(n=0;n<24;n++)t[n]=d(t[n]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+u.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ir(n){return vr(n)?366:365}function as(n,t,i,r,u,f,e){var o;return n<100&&0<=n?(o=new Date(n+400,t,i,r,u,f,e),isFinite(o.getFullYear())&&o.setFullYear(n)):o=new Date(n,t,i,r,u,f,e),o}function ur(n){var t;return n<100&&0<=n?((t=Array.prototype.slice.call(arguments))[0]=n+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n)):t=new Date(Date.UTC.apply(null,arguments)),t}function tu(n,t,i){return i=7+t-i,i-(7+ur(n,0,i).getUTCDay()-t)%7-1}function we(n,t,i,r,u){var f,u=1+7*(t-1)+(7+i-r)%7+tu(n,r,u),u=u<=0?ir(f=n-1)+u:u>ir(n)?(f=n+1,u-ir(n)):(f=n,u);return{year:f,dayOfYear:u}}function fr(n,t,i){var u,f,r=tu(n.year(),t,i),r=Math.floor((n.dayOfYear()-r-1)/7)+1;return r<1?u=r+wt(f=n.year()-1,t,i):r>wt(n.year(),t,i)?(u=r-wt(n.year(),t,i),f=n.year()+1):(f=n.year(),u=r),{week:u,year:f}}function wt(n,t,i){var r=tu(n,t,i),i=tu(n+1,t,i);return(ir(n)-r+i)/7}function uf(n,t){return n.slice(t,7).concat(n.slice(0,t))}function ff(){function i(n,t){return t.length-n.length}for(var r,u,n,f=[],e=[],o=[],t=[],s=0;s<7;s++)n=et([2e3,1]).day(s),r=d(this.weekdaysMin(n,"")),u=d(this.weekdaysShort(n,"")),n=d(this.weekdays(n,"")),f.push(r),e.push(u),o.push(n),t.push(r),t.push(u),t.push(n);f.sort(i);e.sort(i);o.sort(i);t.sort(i);this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+e.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+f.join("|")+")","i")}function ef(){return this.hours()%12||12}function ke(n,t){u(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function de(n,t){return t._meridiemParse}function no(n){return n&&n.toLowerCase().replace("_","-")}function ws(n){for(var t,i,f,u,r=0;r<n.length;){for(t=(u=no(n[r]).split("-")).length,i=(i=no(n[r+1]))?i.split("-"):null;0<t;){if(f=iu(u.slice(0,t).join("-")))return f;if(i&&i.length>=t&&function(n,t){for(var r=Math.min(n.length,t.length),i=0;i<r;i+=1)if(n[i]!==t[i])return i;return r}(u,i)>=t-1)break;t--}r++}return sr}function iu(n){var t;if(void 0===l[n]&&"undefined"!=typeof module&&module&&module.exports&&null!=n.match("^[^/\\\\]*$"))try{t=sr._abbr;require("./locale/"+n);gt(t)}catch(t){l[n]=null}return l[n]}function gt(n,t){return n&&((t=k(t)?bt(n):hf(n,t))?sr=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),sr._abbr}function hf(n,t){if(null===t)return delete l[n],null;var r,i=ge;if(t.abbr=n,null!=l[n])oe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=l[n]._config;else if(null!=t.parentLocale)if(null!=l[t.parentLocale])i=l[t.parentLocale]._config;else{if(null==(r=iu(t.parentLocale)))return hr[t.parentLocale]||(hr[t.parentLocale]=[]),hr[t.parentLocale].push({name:n,config:t}),null;i=r._config}return l[n]=new du(ku(i,t)),hr[n]&&hr[n].forEach(function(n){hf(n.name,n.config)}),gt(n),l[n]}function bt(n){var t;if(!(n=n&&n._locale&&n._locale._abbr?n._locale._abbr:n))return sr;if(!it(n)){if(t=iu(n))return t;n=[n]}return ws(n)}function cf(n){var t=n._a;return t&&-2===f(n).overflow&&(t=t[yt]<0||11<t[yt]?yt:t[ht]<1||t[ht]>nu(t[w],t[yt])?ht:t[v]<0||24<t[v]||24===t[v]&&(0!==t[ut]||0!==t[pt]||0!==t[ri])?v:t[ut]<0||59<t[ut]?ut:t[pt]<0||59<t[pt]?pt:t[ri]<0||999<t[ri]?ri:-1,f(n)._overflowDayOfYear&&(t<w||ht<t)&&(t=ht),f(n)._overflowWeeks&&-1===t&&(t=ss),f(n)._overflowWeekday&&-1===t&&(t=hs),f(n).overflow=t),n}function to(n){var t,r,s,e,u,h,o=n._i,i=bs.exec(o)||ks.exec(o),c=ru.length,o=lf.length;if(i){for(f(n).iso=!0,t=0,r=c;t<r;t++)if(ru[t][1].exec(i[1])){e=ru[t][0];s=!1!==ru[t][2];break}if(null!=e){if(i[3]){for(t=0,r=o;t<r;t++)if(lf[t][1].exec(i[3])){u=(i[2]||" ")+lf[t][0];break}if(null==u)return void(n._isValid=!1)}if(s||null==u){if(i[4]){if(!ds.exec(i[4]))return void(n._isValid=!1);h="Z"}n._f=e+(u||"")+(h||"");vf(n)}else n._isValid=!1}else n._isValid=!1}else n._isValid=!1}function ih(n,t,i,r,u,f){return u=[function(n){return(n=parseInt(n,10),n<=49)?2e3+n:n<=999?1900+n:n}(n),le.indexOf(t),parseInt(i,10),parseInt(r,10),parseInt(u,10)],f&&u.push(parseInt(f,10)),u}function io(n){var i,e,u,r,t=nh.exec(n._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));t?(i=ih(t[4],t[3],t[2],t[5],t[6],t[7]),e=t[1],u=i,r=n,e&&be.indexOf(e)!==new Date(u[0],u[1],u[2]).getDay()?(f(r).weekdayMismatch=!0,r._isValid=!1):(n._a=i,n._tzm=(r=t[8],i=t[9],t=t[10],r?th[r]:i?0:60*(((i=parseInt(t,10))-(t=i%100))/100)+t),n._d=ur.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),f(n).rfc2822=!0)):n._isValid=!1}function yi(n,t,i){return null!=n?n:null!=t?t:i}function af(n){var i,e,r,s,u,o=[];if(!n._d){for(s=n,u=new Date(t.now()),e=s._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],n._w&&null==n._a[ht]&&null==n._a[yt]&&function(n){var t,o,e,r,u,i,s,h;null!=(t=n._w).GG||null!=t.W||null!=t.E?(u=1,i=4,o=yi(t.GG,n._a[w],fr(c(),1,4).year),e=yi(t.W,1),((r=yi(t.E,1))<1||7<r)&&(s=!0)):(u=n._locale._week.dow,i=n._locale._week.doy,h=fr(c(),u,i),o=yi(t.gg,n._a[w],h.year),e=yi(t.w,h.week),null!=t.d?((r=t.d)<0||6<r)&&(s=!0):null!=t.e?(r=t.e+u,(t.e<0||6<t.e)&&(s=!0)):r=u);e<1||e>wt(o,u,i)?f(n)._overflowWeeks=!0:null!=s?f(n)._overflowWeekday=!0:(i=we(o,e,r,u,i),n._a[w]=i.year,n._dayOfYear=i.dayOfYear)}(n),null!=n._dayOfYear&&(r=yi(n._a[w],e[w]),(n._dayOfYear>ir(r)||0===n._dayOfYear)&&(f(n)._overflowDayOfYear=!0),r=ur(r,0,n._dayOfYear),n._a[yt]=r.getUTCMonth(),n._a[ht]=r.getUTCDate()),i=0;i<3&&null==n._a[i];++i)n._a[i]=o[i]=e[i];for(;i<7;i++)n._a[i]=o[i]=null==n._a[i]?2===i?1:0:n._a[i];24===n._a[v]&&0===n._a[ut]&&0===n._a[pt]&&0===n._a[ri]&&(n._nextDay=!0,n._a[v]=0);n._d=(n._useUTC?ur:as).apply(null,o);r=n._useUTC?n._d.getUTCDay():n._d.getDay();null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[v]=24);n._w&&void 0!==n._w.d&&n._w.d!==r&&(f(n).weekdayMismatch=!0)}}function vf(n){if(n._f!==t.ISO_8601)if(n._f!==t.RFC_2822){n._a=[];f(n).empty=!0;for(var r,u,e,s,h,i=""+n._i,c=i.length,a=0,y=he(n._f,n._locale).match(gu)||[],p=y.length,l=0;l<p;l++)u=y[l],(r=(i.match(os(u,n))||[])[0])&&(0<(s=i.substr(0,i.indexOf(r))).length&&f(n).unusedInput.push(s),i=i.slice(i.indexOf(r)+r.length),a+=r.length),oi[u]?(r?f(n).empty=!1:f(n).unusedTokens.push(u),e=u,h=n,null!=(s=r)&&o(gr,e)&&gr[e](s,h._a,h,e)):n._strict&&!r&&f(n).unusedTokens.push(u);f(n).charsLeftOver=c-a;0<i.length&&f(n).unusedInput.push(i);n._a[v]<=12&&!0===f(n).bigHour&&0<n._a[v]&&(f(n).bigHour=void 0);f(n).parsedDateParts=n._a.slice(0);f(n).meridiem=n._meridiem;n._a[v]=function(n,t,i){return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?((i=n.isPM(i))&&t<12&&(t+=12),t=i||12!==t?t:0):t}(n._locale,n._a[v],n._meridiem);null!==(c=f(n).era)&&(n._a[w]=n._locale.erasConvertYear(c,n._a[w]));af(n);cf(n)}else io(n);else to(n)}function ro(n){var i=n._i,r=n._f;return n._locale=n._locale||bt(n._l),null===i||void 0===r&&""===i?cr({nullInput:!0}):("string"==typeof i&&(n._i=i=n._locale.preparse(i)),rt(i)?new di(cf(i)):(ki(i)?n._d=i:it(r)?function(n){var t,o,r,u,i,e,s=!1,h=n._f.length;if(0===h)return f(n).invalidFormat=!0,n._d=new Date(NaN);for(u=0;u<h;u++)i=0,e=!1,t=bu({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[u],vf(t),pu(t)&&(e=!0),i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,s?i<r&&(r=i,o=t):(null==r||i<r||e)&&(r=i,o=t,e&&(s=!0));dt(n,o||t)}(n):r?vf(n):k(r=(i=n)._i)?i._d=new Date(t.now()):ki(r)?i._d=new Date(r.valueOf()):"string"==typeof r?function(n){var i=gs.exec(n._i);null===i?(to(n),!1===n._isValid&&(delete n._isValid,io(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:t.createFromInputFallback(n)))):n._d=new Date(+i[1])}(i):it(r)?(i._a=re(r.slice(0),function(n){return parseInt(n,10)}),af(i)):ti(r)?function(n){var t,i;n._d||(i=void 0===(t=tf(n._i)).day?t.date:t.day,n._a=re([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),af(n))}(i):at(r)?i._d=new Date(r):t.createFromInputFallback(i),pu(n)||(n._d=null),n))}function uo(n,t,i,r,u){var f={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==i&&!1!==i||(r=i,i=void 0),(ti(n)&&yu(n)||it(n)&&0===n.length)&&(n=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,(f=new di(cf(ro(f=f))))._nextDay&&(f.add(1,"d"),f._nextDay=void 0),f}function c(n,t,i,r){return uo(n,t,i,r,!1)}function fo(n,t){var r,i;if(!(t=1===t.length&&it(t[0])?t[0]:t).length)return c();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][n](r)||(r=t[i]);return r}function eu(n){var t=tf(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||t.isoWeek||0,s=t.day||0,h=t.hour||0,c=t.minute||0,l=t.second||0,n=t.millisecond||0;this._isValid=function(n){var i,t,r=!1,u=pi.length;for(i in n)if(o(n,i)&&(-1===a.call(pi,i)||null!=n[i]&&isNaN(n[i])))return!1;for(t=0;t<u;++t)if(n[pi[t]]){if(r)return!1;parseFloat(n[pi[t]])!==e(n[pi[t]])&&(r=!0)}return!0}(t);this._milliseconds=+n+1e3*l+6e4*c+36e5*h;this._days=+s+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=bt();this._bubble()}function ou(n){return n instanceof eu}function yf(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function eo(n,t){u(n,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+st(~~(n/60),2)+t+st(~~n%60,2)})}function pf(n,t){return t=(t||"").match(n),null===t?null:0===(t=60*(n=((t[t.length-1]||[])+"").match(oo)||["-",0,0])[1]+e(n[2]))?0:"+"===n[0]?t:-t}function wf(n,i){var r;return i._isUTC?(r=i.clone(),i=(rt(n)||ki(n)?n:c(n)).valueOf()-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):c(n).local()}function bf(n){return-Math.round(n._d.getTimezoneOffset())}function so(){return!!this.isValid()&&this._isUTC&&0===this._offset}function ft(n,t){var r,i=n,u=null;return ou(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:at(n)||!isNaN(+n)?(i={},t?i[t]=+n:i.milliseconds=+n):(u=ho.exec(n))?(r="-"===u[1]?-1:1,i={y:0,d:e(u[ht])*r,h:e(u[v])*r,m:e(u[ut])*r,s:e(u[pt])*r,ms:e(yf(1e3*u[ri]))*r}):(u=co.exec(n))?(r="-"===u[1]?-1:1,i={y:ui(u[2],r),M:ui(u[3],r),w:ui(u[4],r),d:ui(u[5],r),h:ui(u[6],r),m:ui(u[7],r),s:ui(u[8],r)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(r=function(n,t){var i;return!n.isValid()||!t.isValid()?{milliseconds:0,months:0}:(t=wf(t,n),n.isBefore(t)?i=lo(n,t):((i=lo(t,n)).milliseconds=-i.milliseconds,i.months=-i.months),i)}(c(i.from),c(i.to)),(i={}).ms=r.milliseconds,i.M=r.months),i=new eu(i),ou(n)&&o(n,"_locale")&&(i._locale=n._locale),ou(n)&&o(n,"_isValid")&&(i._isValid=n._isValid),i}function ui(n,t){return n=n&&parseFloat(n.replace(",",".")),(isNaN(n)?0:n)*t}function lo(n,t){var i={};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function ao(n,t){return function(i,r){var u;return null===r||isNaN(+r)||(oe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=i,i=r,r=u),vo(this,ft(i,r),n),this}}function vo(n,i,r,u){var e=i._milliseconds,f=yf(i._days),i=yf(i._months);n.isValid()&&(u=null==u||u,i&&ve(n,yr(n,"Month")+i*r),f&&ce(n,"Date",yr(n,"Date")+f*r),e&&n._d.setTime(n._d.valueOf()+e*r),u&&t.updateOffset(n,f||i))}function yo(n){return"string"==typeof n||n instanceof String}function rh(n){return rt(n)||ki(n)||yo(n)||at(n)||function(n){var t=it(n),i=!1;return t&&(i=0===n.filter(function(t){return!at(t)&&yo(n)}).length),t&&i}(n)||function(n){for(var r,f=ti(n)&&!yu(n),i=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],e=u.length,t=0;t<e;t+=1)r=u[t],i=i||o(n,r);return f&&i}(n)||null==n}function hu(n,t){if(n.date()<t.date())return-hu(t,n);var r=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(r,"months"),i=t-i<0?(t-i)/(i-n.clone().add(r-1,"months")):(t-i)/(n.clone().add(1+r,"months")-i);return-(r+i)||0}function po(n){return void 0===n?this._locale._abbr:(null!=(n=bt(n))&&(this._locale=n),this)}function wo(){return this._locale}function wi(n,t){return(n%t+t)%t}function bo(n,t,i){return n<100&&0<=n?new Date(n+400,t,i)-kf:new Date(n,t,i).valueOf()}function ko(n,t,i){return n<100&&0<=n?Date.UTC(n+400,t,i)-kf:Date.UTC(n,t,i)}function df(n,t){return t.erasAbbrRegex(n)}function gf(){for(var r=[],u=[],f=[],i=[],t=this.eras(),n=0,e=t.length;n<e;++n)u.push(d(t[n].name)),r.push(d(t[n].abbr)),f.push(d(t[n].narrow)),i.push(d(t[n].name)),i.push(d(t[n].abbr)),i.push(d(t[n].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i");this._erasNameRegex=new RegExp("^("+u.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+f.join("|")+")","i")}function cu(n,t){u(0,[n,n.length],0,t)}function go(n,t,i,r,u){var f;return null==n?fr(this,r,u).year:(f=wt(n,r,u),function(n,t,i,r,u){return u=we(n,t,i,r,u),u=ur(u.year,0,u.dayOfYear),this.year(u.getUTCFullYear()),this.month(u.getUTCMonth()),this.date(u.getUTCDate()),this}.call(this,n,t=f<t?f:t,i,r,u))}function uh(n,t){t[ri]=e(1e3*("0."+n))}function ns(n){return n}function lu(n,t,i,r){var u=bt(),t=et().set(r,t);return u[i](t,n)}function ts(n,t,i){if(at(n)&&(t=n,n=void 0),n=n||"",null!=t)return lu(n,t,i,"month");for(var u=[],r=0;r<12;r++)u[r]=lu(n,r,i,"month");return u}function ne(n,t,i,r){t=("boolean"==typeof n?at(t)&&(i=t,t=void 0):(t=n,n=!1,at(i=t)&&(i=t,t=void 0)),t||"");var u,o=bt(),f=n?o._week.dow:0,e=[];if(null!=i)return lu(t,(i+f)%7,r,"day");for(u=0;u<7;u++)e[u]=lu(t,(u+f)%7,r,"day");return e}function is(n,t,i,r){return i=ft(t,i),n._milliseconds+=r*i._milliseconds,n._days+=r*i._days,n._months+=r*i._months,n._bubble()}function rs(n){return n<0?Math.floor(n):Math.ceil(n)}function us(n){return 4800*n/146097}function te(n){return 146097*n/4800}function kt(n){return function(){return this.as(n)}}function fi(n){return function(){return this.isValid()?this._data[n]:NaN}}function fh(n,t,i,r){var f=ft(n).abs(),e=lt(f.as("s")),o=lt(f.as("m")),s=lt(f.as("h")),u=lt(f.as("d")),h=lt(f.as("M")),c=lt(f.as("w")),f=lt(f.as("y")),u=(e<=i.ss?["s",e]:e<i.s&&["ss",e])||o<=1&&["m"]||o<i.m&&["mm",o]||s<=1&&["h"]||s<i.h&&["hh",s]||u<=1&&["d"]||u<i.d&&["dd",u];return(u=(u=null!=i.w?u||c<=1&&["w"]||c<i.w&&["ww",c]:u)||h<=1&&["M"]||h<i.M&&["MM",h]||f<=1&&["y"]||["yy",f])[2]=t,u[3]=0<+n,u[4]=r,function(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}.apply(null,u)}function bi(n){return(0<n)-(n<0)||+n}function vu(){if(!this.isValid())return this.localeData().invalidDate();var n,r,e,s,o,h,u,t=au(this._milliseconds)/1e3,c=au(this._days),f=au(this._months),i=this.asSeconds();return i?(n=tt(t/60),r=tt(n/60),t%=60,n%=60,e=tt(f/12),f%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",o=bi(this._months)!==bi(i)?"-":"",h=bi(this._days)!==bi(i)?"-":"",u=bi(this._milliseconds)!==bi(i)?"-":"",(i<0?"-":"")+"P"+(e?o+e+"Y":"")+(f?o+f+"M":"")+(c?h+c+"D":"")+(r||n||t?"T":"")+(r?u+r+"H":"")+(n?u+n+"M":"")+(t?u+s+"S":"")):"P0D"}var ie,fs=Array.prototype.some||function(n){for(var i=Object(this),r=i.length>>>0,t=0;t<r;t++)if(t in i&&n.call(this,i[t],t,i))return!0;return!1},ue=t.momentProperties=[],wu=!1,ee={},se,si,rf,dr,gr,rr,uu,fu,pi,oo,ho,co,su,vt,kf,ni,er,ct,lt,ei,au;t.suppressDeprecationWarnings=!1;t.deprecationHandler=null;se=Object.keys||function(n){var t,i=[];for(t in n)o(n,t)&&i.push(t);return i};var gu=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,lr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,nf={},oi={};si={};rf={};var pr=/\d/,b=/\d\d/,wr=/\d{3}/,i=/\d{4}/,ci=/[+-]?\d{6}/,h=/\d\d?/,gi=/\d\d\d\d?/,ii=/\d\d\d\d\d\d?/,li=/\d{1,3}/,n=/\d{1,4}/,ai=/[+-]?\d{1,6}/,vi=/\d+/,br=/[+-]?\d+/,es=/Z|[+-]\d\d:?\d\d/gi,kr=/Z|[+-]\d\d(?::?\d\d)?/gi,vt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;dr={};gr={};var a,w=0,yt=1,ht=2,v=3,ut=4,pt=5,ri=6,ss=7,hs=8;a=Array.prototype.indexOf||function(n){for(var t=0;t<this.length;++t)if(this[t]===n)return t;return-1};u("M",["MM",2],"Mo",function(){return this.month()+1});u("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});u("MMMM",0,0,function(n){return this.localeData().months(this,n)});y("month","M");p("month",8);r("M",h);r("MM",h,b);r("MMM",function(n,t){return t.monthsShortRegex(n)});r("MMMM",function(n,t){return t.monthsRegex(n)});s(["M","MM"],function(n,t){t[yt]=e(n)-1});s(["MMM","MMMM"],function(n,t,i,r){r=i._locale.monthsParse(n,r,i._strict);null!=r?t[yt]=r:f(i).invalidMonth=n});var tr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),le="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cs=vt,ls=vt;u("Y",0,0,function(){var n=this.year();return n<=9999?st(n,4):"+"+n});u(0,["YY",2],0,function(){return this.year()%100});u(0,["YYYY",4],0,"year");u(0,["YYYYY",5],0,"year");u(0,["YYYYYY",6,!0],0,"year");y("year","y");p("year",1);r("Y",br);r("YY",h,b);r("YYYY",n,i);r("YYYYY",ai,ci);r("YYYYYY",ai,ci);s(["YYYYY","YYYYYY"],w);s("YYYY",function(n,i){i[w]=2===n.length?t.parseTwoDigitYear(n):e(n)});s("YY",function(n,i){i[w]=t.parseTwoDigitYear(n)});s("Y",function(n,t){t[w]=parseInt(n,10)});t.parseTwoDigitYear=function(n){return e(n)+(68<e(n)?1900:2e3)};rr=hi("FullYear",!0);u("w",["ww",2],"wo","week");u("W",["WW",2],"Wo","isoWeek");y("week","w");y("isoWeek","W");p("week",5);p("isoWeek",5);r("w",h);r("ww",h,b);r("W",h);r("WW",h,b);nr(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=e(n)});u("d",0,"do","day");u("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});u("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});u("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});u("e",0,0,"weekday");u("E",0,0,"isoWeekday");y("day","d");y("weekday","e");y("isoWeekday","E");p("day",11);p("weekday",11);p("isoWeekday",11);r("d",h);r("e",h);r("E",h);r("dd",function(n,t){return t.weekdaysMinRegex(n)});r("ddd",function(n,t){return t.weekdaysShortRegex(n)});r("dddd",function(n,t){return t.weekdaysRegex(n)});nr(["dd","ddd","dddd"],function(n,t,i,r){r=i._locale.weekdaysParse(n,r,i._strict);null!=r?t.d=r:f(i).invalidWeekday=n});nr(["d","e","E"],function(n,t,i,r){t[r]=e(n)});var er="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),or="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vs=vt,ys=vt,ps=vt;u("H",["HH",2],0,"hour");u("h",["hh",2],0,ef);u("k",["kk",2],0,function(){return this.hours()||24});u("hmm",0,0,function(){return""+ef.apply(this)+st(this.minutes(),2)});u("hmmss",0,0,function(){return""+ef.apply(this)+st(this.minutes(),2)+st(this.seconds(),2)});u("Hmm",0,0,function(){return""+this.hours()+st(this.minutes(),2)});u("Hmmss",0,0,function(){return""+this.hours()+st(this.minutes(),2)+st(this.seconds(),2)});ke("a",!0);ke("A",!1);y("hour","h");p("hour",13);r("a",de);r("A",de);r("H",h);r("h",h);r("k",h);r("HH",h,b);r("hh",h,b);r("kk",h,b);r("hmm",gi);r("hmmss",ii);r("Hmm",gi);r("Hmmss",ii);s(["H","HH"],v);s(["k","kk"],function(n,t){n=e(n);t[v]=24===n?0:n});s(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n});s(["h","hh"],function(n,t,i){t[v]=e(n);f(i).bigHour=!0});s("hmm",function(n,t,i){var r=n.length-2;t[v]=e(n.substr(0,r));t[ut]=e(n.substr(r));f(i).bigHour=!0});s("hmmss",function(n,t,i){var r=n.length-4,u=n.length-2;t[v]=e(n.substr(0,r));t[ut]=e(n.substr(r,2));t[pt]=e(n.substr(u));f(i).bigHour=!0});s("Hmm",function(n,t){var i=n.length-2;t[v]=e(n.substr(0,i));t[ut]=e(n.substr(i))});s("Hmmss",function(n,t){var i=n.length-4,r=n.length-2;t[v]=e(n.substr(0,i));t[ut]=e(n.substr(i,2));t[pt]=e(n.substr(r))});var sf=hi("Hours",!0),sr,ge={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:tr,monthsShort:le,week:{dow:0,doy:6},weekdays:er,weekdaysMin:or,weekdaysShort:be,meridiemParse:/[ap]\.?m?\.?/i},l={},hr={};var bs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ks=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ds=/Z|[+-]\d\d(?::?\d\d)?/,ru=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],lf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gs=/^\/?Date\((-?\d+)/i,nh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,th={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};for(t.createFromInputFallback=g("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){},uu=g("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:cr()}),fu=g("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?this<n?this:n:cr()}),pi=["year","quarter","month","week","day","hour","minute","second","millisecond"],eo("Z",":"),eo("ZZ",""),r("Z",kr),r("ZZ",kr),s(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=pf(kr,n)}),oo=/([\+\-]|\d\d)/gi,t.updateOffset=function(){},ho=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,co=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,ft.fn=eu.prototype,ft.invalid=function(){return ft(NaN)},su=ao(1,"add"),vt=ao(-1,"subtract"),t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",gi=g("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)}),kf=126227808e5,u("N",0,0,"eraAbbr"),u("NN",0,0,"eraAbbr"),u("NNN",0,0,"eraAbbr"),u("NNNN",0,0,"eraName"),u("NNNNN",0,0,"eraNarrow"),u("y",["y",1],"yo","eraYear"),u("y",["yy",2],0,"eraYear"),u("y",["yyy",3],0,"eraYear"),u("y",["yyyy",4],0,"eraYear"),r("N",df),r("NN",df),r("NNN",df),r("NNNN",function(n,t){return t.erasNameRegex(n)}),r("NNNNN",function(n,t){return t.erasNarrowRegex(n)}),s(["N","NN","NNN","NNNN","NNNNN"],function(n,t,i,r){r=i._locale.erasParse(n,r,i._strict);r?f(i).era=r:f(i).invalidEra=n}),r("y",vi),r("yy",vi),r("yyy",vi),r("yyyy",vi),r("yo",function(n,t){return t._eraYearOrdinalRegex||vi}),s(["y","yy","yyy","yyyy"],w),s(["yo"],function(n,t,i){var r;i._locale._eraYearOrdinalRegex&&(r=n.match(i._locale._eraYearOrdinalRegex));t[w]=i._locale.eraYearOrdinalParse?i._locale.eraYearOrdinalParse(n,r):parseInt(n,10)}),u(0,["gg",2],0,function(){return this.weekYear()%100}),u(0,["GG",2],0,function(){return this.isoWeekYear()%100}),cu("gggg","weekYear"),cu("ggggg","weekYear"),cu("GGGG","isoWeekYear"),cu("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),p("weekYear",1),p("isoWeekYear",1),r("G",br),r("g",br),r("GG",h,b),r("gg",h,b),r("GGGG",n,i),r("gggg",n,i),r("GGGGG",ai,ci),r("ggggg",ai,ci),nr(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=e(n)}),nr(["gg","GG"],function(n,i,r,u){i[u]=t.parseTwoDigitYear(n)}),u("Q",0,"Qo","quarter"),y("quarter","Q"),p("quarter",7),r("Q",pr),s("Q",function(n,t){t[yt]=3*(e(n)-1)}),u("D",["DD",2],"Do","date"),y("date","D"),p("date",9),r("D",h),r("DD",h,b),r("Do",function(n,t){return n?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),s(["D","DD"],ht),s("Do",function(n,t){t[ht]=e(n.match(h)[0])}),ii=hi("Date",!0),u("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),p("dayOfYear",4),r("DDD",li),r("DDDD",wr),s(["DDD","DDDD"],function(n,t,i){i._dayOfYear=e(n)}),u("m",["mm",2],0,"minute"),y("minute","m"),p("minute",14),r("m",h),r("mm",h,b),s(["m","mm"],ut),tr=hi("Minutes",!1),u("s",["ss",2],0,"second"),y("second","s"),p("second",15),r("s",h),r("ss",h,b),s(["s","ss"],pt),er=hi("Seconds",!1),u("S",0,0,function(){return~~(this.millisecond()/100)}),u(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),u(0,["SSS",3],0,"millisecond"),u(0,["SSSS",4],0,function(){return 10*this.millisecond()}),u(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),u(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),u(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),u(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),u(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),y("millisecond","ms"),p("millisecond",16),r("S",li,pr),r("SS",li,b),r("SSS",li,wr),ni="SSSS";ni.length<=9;ni+="S")r(ni,vi);for(ni="S";ni.length<=9;ni+="S")s(ni,uh);return or=hi("Milliseconds",!1),u("z",0,0,"zoneAbbr"),u("zz",0,0,"zoneName"),n=di.prototype,n.add=su,n.calendar=function(n,i){1===arguments.length&&(arguments[0]?rh(arguments[0])?(n=arguments[0],i=void 0):function(n){for(var u=ti(n)&&!yu(n),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i=0;i<r.length;i+=1)t=t||o(n,r[i]);return u&&t}(arguments[0])&&(i=arguments[0],n=void 0):i=n=void 0);var r=n||c(),n=wf(r,this).startOf("day"),n=t.calendarFormat(this,n)||"sameElse",i=i&&(ot(i[n])?i[n].call(this,r):i[n]);return this.format(i||this.localeData().calendar(n,this,c(r)))},n.clone=function(){return new di(this)},n.diff=function(n,t,i){var r,f,u;if(!this.isValid())return NaN;if(!(r=wf(n,this)).isValid())return NaN;switch(f=6e4*(r.utcOffset()-this.utcOffset()),t=nt(t)){case"year":u=hu(this,r)/12;break;case"month":u=hu(this,r);break;case"quarter":u=hu(this,r)/3;break;case"second":u=(this-r)/1e3;break;case"minute":u=(this-r)/6e4;break;case"hour":u=(this-r)/36e5;break;case"day":u=(this-r-f)/864e5;break;case"week":u=(this-r-f)/6048e5;break;default:u=this-r}return i?u:tt(u)},n.endOf=function(n){var i,r;if(void 0===(n=nt(n))||"millisecond"===n||!this.isValid())return this;switch(r=this._isUTC?ko:bo,n){case"year":i=r(this.year()+1,0,1)-1;break;case"quarter":i=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=r(this.year(),this.month()+1,1)-1;break;case"week":i=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf();i+=3599999-wi(i+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":i=this._d.valueOf();i+=59999-wi(i,6e4);break;case"second":i=this._d.valueOf();i+=999-wi(i,1e3)}return this._d.setTime(i),t.updateOffset(this,!0),this},n.format=function(n){return n=n||(this.isUtc()?t.defaultFormatUtc:t.defaultFormat),n=ar(this,n),this.localeData().postformat(n)},n.from=function(n,t){return this.isValid()&&(rt(n)&&n.isValid()||c(n).isValid())?ft({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},n.fromNow=function(n){return this.from(c(),n)},n.to=function(n,t){return this.isValid()&&(rt(n)&&n.isValid()||c(n).isValid())?ft({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},n.toNow=function(n){return this.to(c(),n)},n.get=function(n){return ot(this[n=nt(n)])?this[n]():this},n.invalidAt=function(){return f(this).overflow},n.isAfter=function(n,t){return n=rt(n)?n:c(n),!(!this.isValid()||!n.isValid())&&("millisecond"===(t=nt(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},n.isBefore=function(n,t){return n=rt(n)?n:c(n),!(!this.isValid()||!n.isValid())&&("millisecond"===(t=nt(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},n.isBetween=function(n,t,i,r){return n=rt(n)?n:c(n),t=rt(t)?t:c(t),!!(this.isValid()&&n.isValid()&&t.isValid())&&("("===(r=r||"()")[0]?this.isAfter(n,i):!this.isBefore(n,i))&&(")"===r[1]?this.isBefore(t,i):!this.isAfter(t,i))},n.isSame=function(n,t){return n=rt(n)?n:c(n),!(!this.isValid()||!n.isValid())&&("millisecond"===(t=nt(t)||"millisecond")?this.valueOf()===n.valueOf():(n=n.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},n.isSameOrAfter=function(n,t){return this.isSame(n,t)||this.isAfter(n,t)},n.isSameOrBefore=function(n,t){return this.isSame(n,t)||this.isBefore(n,t)},n.isValid=function(){return pu(this)},n.lang=gi,n.locale=po,n.localeData=wo,n.max=fu,n.min=uu,n.parsingFlags=function(){return dt({},f(this))},n.set=function(n,t){if("object"==typeof n)for(var r=function(n){var t,i=[];for(t in n)o(n,t)&&i.push({unit:t,priority:rf[t]});return i.sort(function(n,t){return n.priority-t.priority}),i}(n=tf(n)),u=r.length,i=0;i<u;i++)this[r[i].unit](n[r[i].unit]);else if(ot(this[n=nt(n)]))return this[n](t);return this},n.startOf=function(n){var i,r;if(void 0===(n=nt(n))||"millisecond"===n||!this.isValid())return this;switch(r=this._isUTC?ko:bo,n){case"year":i=r(this.year(),0,1);break;case"quarter":i=r(this.year(),this.month()-this.month()%3,1);break;case"month":i=r(this.year(),this.month(),1);break;case"week":i=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=r(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf();i-=wi(i+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":i=this._d.valueOf();i-=wi(i,6e4);break;case"second":i=this._d.valueOf();i-=wi(i,1e3)}return this._d.setTime(i),t.updateOffset(this,!0),this},n.subtract=vt,n.toArray=function(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]},n.toObject=function(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}},n.toDate=function(){return new Date(this.valueOf())},n.toISOString=function(n){if(!this.isValid())return null;var t=!0!==n;return(n=t?this.clone().utc():this).year()<0||9999<n.year()?ar(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ot(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",ar(n,"Z")):ar(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},n.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,n="moment",i="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+n+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+n+"-MM-DD[T]HH:mm:ss.SSS"+(i+'[")]'))},"undefined"!=typeof Symbol&&null!=Symbol.for&&(n[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},n.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},n.eraName=function(){for(var i,t=this.localeData().eras(),n=0,r=t.length;n<r;++n)if((i=this.clone().startOf("day").valueOf(),t[n].since<=i&&i<=t[n].until)||t[n].until<=i&&i<=t[n].since)return t[n].name;return""},n.eraNarrow=function(){for(var i,t=this.localeData().eras(),n=0,r=t.length;n<r;++n)if((i=this.clone().startOf("day").valueOf(),t[n].since<=i&&i<=t[n].until)||t[n].until<=i&&i<=t[n].since)return t[n].narrow;return""},n.eraAbbr=function(){for(var i,t=this.localeData().eras(),n=0,r=t.length;n<r;++n)if((i=this.clone().startOf("day").valueOf(),t[n].since<=i&&i<=t[n].until)||t[n].until<=i&&i<=t[n].since)return t[n].abbr;return""},n.eraYear=function(){for(var u,r,i=this.localeData().eras(),n=0,f=i.length;n<f;++n)if(u=i[n].since<=i[n].until?1:-1,r=this.clone().startOf("day").valueOf(),i[n].since<=r&&r<=i[n].until||i[n].until<=r&&r<=i[n].since)return(this.year()-t(i[n].since).year())*u+i[n].offset;return this.year()},n.year=rr,n.isLeapYear=function(){return vr(this.year())},n.weekYear=function(n){return go.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},n.isoWeekYear=function(n){return go.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)},n.quarter=n.quarters=function(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)},n.month=ye,n.daysInMonth=function(){return nu(this.year(),this.month())},n.week=n.weeks=function(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")},n.isoWeek=n.isoWeeks=function(n){var t=fr(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")},n.weeksInYear=function(){var n=this.localeData()._week;return wt(this.year(),n.dow,n.doy)},n.weeksInWeekYear=function(){var n=this.localeData()._week;return wt(this.weekYear(),n.dow,n.doy)},n.isoWeeksInYear=function(){return wt(this.year(),1,4)},n.isoWeeksInISOWeekYear=function(){return wt(this.isoWeekYear(),1,4)},n.date=ii,n.day=n.days=function(n){if(!this.isValid())return null!=n?this:NaN;var t,i,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(t=n,i=this.localeData(),n="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(n-r,"d")):r},n.weekday=function(n){if(!this.isValid())return null!=n?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")},n.isoWeekday=function(n){if(!this.isValid())return null!=n?this:NaN;if(null==n)return this.day()||7;var t=(t=n,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?t:t-7)},n.dayOfYear=function(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")},n.hour=n.hours=sf,n.minute=n.minutes=tr,n.second=n.seconds=er,n.millisecond=n.milliseconds=or,n.utcOffset=function(n,i,r){var u,f=this._offset||0;if(!this.isValid())return null!=n?this:NaN;if(null==n)return this._isUTC?f:bf(this);if("string"==typeof n){if(null===(n=pf(kr,n)))return this}else Math.abs(n)<16&&!r&&(n*=60);return!this._isUTC&&i&&(u=bf(this)),this._offset=n,this._isUTC=!0,null!=u&&this.add(u,"m"),f!==n&&(!i||this._changeInProgress?vo(this,ft(n-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this},n.utc=function(n){return this.utcOffset(0,n)},n.local=function(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(bf(this),"m")),this},n.parseZone=function(){var n;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(n=pf(es,this._i))?this.utcOffset(n):this.utcOffset(0,!0)),this},n.hasAlignedHourOffset=function(n){return!!this.isValid()&&(n=n?c(n).utcOffset():0,(this.utcOffset()-n)%60==0)},n.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},n.isLocal=function(){return!!this.isValid()&&!this._isUTC},n.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},n.isUtc=so,n.isUTC=so,n.zoneAbbr=function(){return this._isUTC?"UTC":""},n.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},n.dates=g("dates accessor is deprecated. Use date instead.",ii),n.months=g("months accessor is deprecated. Use month instead",ye),n.years=g("years accessor is deprecated. Use year instead",rr),n.zone=g("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(n,t){return null!=n?(this.utcOffset(n="string"!=typeof n?-n:n,t),this):-this.utcOffset()}),n.isDSTShifted=g("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!k(this._isDSTShifted))return this._isDSTShifted;var t,n={};return bu(n,this),(n=ro(n))._a?(t=(n._isUTC?et:c)(n._a),this._isDSTShifted=this.isValid()&&0<function(n,t,i){for(var f=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),u=0,r=0;r<f;r++)(i&&n[r]!==t[r]||!i&&e(n[r])!==e(t[r]))&&u++;return u+o}(n._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),i=du.prototype,i.calendar=function(n,t,i){return ot(n=this._calendar[n]||this._calendar.sameElse)?n.call(t,i):n},i.longDateFormat=function(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.match(gu).map(function(n){return"MMMM"===n||"MM"===n||"DD"===n||"dddd"===n?n.slice(1):n}).join(""),this._longDateFormat[n])},i.invalidDate=function(){return this._invalidDate},i.ordinal=function(n){return this._ordinal.replace("%d",n)},i.preparse=ns,i.postformat=ns,i.relativeTime=function(n,t,i,r){var u=this._relativeTime[i];return ot(u)?u(n,t,i,r):u.replace(/%d/i,n)},i.pastFuture=function(n,t){return ot(n=this._relativeTime[0<n?"future":"past"])?n(t):n.replace(/%s/i,t)},i.set=function(n){var i;for(var t in n)o(n,t)&&(ot(i=n[t])?this[t]=i:this["_"+t]=i);this._config=n;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},i.eras=function(){for(var r,n=this._eras||bt("en")._eras,i=0,u=n.length;i<u;++i)switch("string"==typeof n[i].since&&(r=t(n[i].since).startOf("day"),n[i].since=r.valueOf()),typeof n[i].until){case"undefined":n[i].until=1/0;break;case"string":r=t(n[i].until).startOf("day").valueOf();n[i].until=r.valueOf()}return n},i.erasParse=function(n,t,i){var r,s,f,e,o,u=this.eras();for(n=n.toUpperCase(),r=0,s=u.length;r<s;++r)if(f=u[r].name.toUpperCase(),e=u[r].abbr.toUpperCase(),o=u[r].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(e===n)return u[r];break;case"NNNN":if(f===n)return u[r];break;case"NNNNN":if(o===n)return u[r]}else if(0<=[f,e,o].indexOf(n))return u[r]},i.erasConvertYear=function(n,i){var r=n.since<=n.until?1:-1;return void 0===i?t(n.since).year():t(n.since).year()+(i-n.offset)*r},i.erasAbbrRegex=function(n){return o(this,"_erasAbbrRegex")||gf.call(this),n?this._erasAbbrRegex:this._erasRegex},i.erasNameRegex=function(n){return o(this,"_erasNameRegex")||gf.call(this),n?this._erasNameRegex:this._erasRegex},i.erasNarrowRegex=function(n){return o(this,"_erasNarrowRegex")||gf.call(this),n?this._erasNarrowRegex:this._erasRegex},i.months=function(n,t){return n?(it(this._months)?this._months:this._months[(this._months.isFormat||ae).test(t)?"format":"standalone"])[n.month()]:it(this._months)?this._months:this._months.standalone},i.monthsShort=function(n,t){return n?(it(this._monthsShort)?this._monthsShort:this._monthsShort[ae.test(t)?"format":"standalone"])[n.month()]:it(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},i.monthsParse=function(n,t,i){var r,u;if(this._monthsParseExact)return function(n,t,i){var u,r,f,n=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;u<12;++u)f=et([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(f,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=a.call(this._shortMonthsParse,n))?r:null:-1!==(r=a.call(this._longMonthsParse,n))?r:null:"MMM"===t?-1!==(r=a.call(this._shortMonthsParse,n))||-1!==(r=a.call(this._longMonthsParse,n))?r:null:-1!==(r=a.call(this._longMonthsParse,n))||-1!==(r=a.call(this._shortMonthsParse,n))?r:null}.call(this,n,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if((u=et([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(u="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(u.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r},i.monthsRegex=function(n){return this._monthsParseExact?(o(this,"_monthsRegex")||pe.call(this),n?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=ls),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)},i.monthsShortRegex=function(n){return this._monthsParseExact?(o(this,"_monthsRegex")||pe.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=cs),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)},i.week=function(n){return fr(n,this._week.dow,this._week.doy).week},i.firstDayOfYear=function(){return this._week.doy},i.firstDayOfWeek=function(){return this._week.dow},i.weekdays=function(n,t){return t=it(this._weekdays)?this._weekdays:this._weekdays[n&&!0!==n&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===n?uf(t,this._week.dow):n?t[n.day()]:t},i.weekdaysMin=function(n){return!0===n?uf(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin},i.weekdaysShort=function(n){return!0===n?uf(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort},i.weekdaysParse=function(n,t,i){var r,u;if(this._weekdaysParseExact)return function(n,t,i){var u,r,f,n=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],u=0;u<7;++u)f=et([2e3,1]).day(u),this._minWeekdaysParse[u]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[u]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[u]=this.weekdays(f,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=a.call(this._weekdaysParse,n))?r:null:"ddd"===t?-1!==(r=a.call(this._shortWeekdaysParse,n))?r:null:-1!==(r=a.call(this._minWeekdaysParse,n))?r:null:"dddd"===t?-1!==(r=a.call(this._weekdaysParse,n))||-1!==(r=a.call(this._shortWeekdaysParse,n))||-1!==(r=a.call(this._minWeekdaysParse,n))?r:null:"ddd"===t?-1!==(r=a.call(this._shortWeekdaysParse,n))||-1!==(r=a.call(this._weekdaysParse,n))||-1!==(r=a.call(this._minWeekdaysParse,n))?r:null:-1!==(r=a.call(this._minWeekdaysParse,n))||-1!==(r=a.call(this._weekdaysParse,n))||-1!==(r=a.call(this._shortWeekdaysParse,n))?r:null}.call(this,n,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++)if((u=et([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(u,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(u,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(u,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(u="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[r]=new RegExp(u.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[r].test(n))||i&&"ddd"===t&&this._shortWeekdaysParse[r].test(n)||i&&"dd"===t&&this._minWeekdaysParse[r].test(n)||!i&&this._weekdaysParse[r].test(n))return r},i.weekdaysRegex=function(n){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ff.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=vs),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)},i.weekdaysShortRegex=function(n){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ff.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ys),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},i.weekdaysMinRegex=function(n){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ff.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ps),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},i.isPM=function(n){return"p"===(n+"").toLowerCase().charAt(0)},i.meridiem=function(n,t,i){return 11<n?i?"pm":"PM":i?"am":"AM"},gt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10;return n+(1===e(n%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),t.lang=g("moment.lang is deprecated. Use moment.locale instead.",gt),t.langData=g("moment.langData is deprecated. Use moment.localeData instead.",bt),ct=Math.abs,ai=kt("ms"),ci=kt("s"),pr=kt("m"),b=kt("h"),li=kt("d"),wr=kt("w"),su=kt("M"),fu=kt("Q"),uu=kt("y"),vt=fi("milliseconds"),sf=fi("seconds"),tr=fi("minutes"),er=fi("hours"),or=fi("days"),ii=fi("months"),rr=fi("years"),lt=Math.round,ei={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},au=Math.abs,i=eu.prototype,i.isValid=function(){return this._isValid},i.abs=function(){var n=this._data;return this._milliseconds=ct(this._milliseconds),this._days=ct(this._days),this._months=ct(this._months),n.milliseconds=ct(n.milliseconds),n.seconds=ct(n.seconds),n.minutes=ct(n.minutes),n.hours=ct(n.hours),n.months=ct(n.months),n.years=ct(n.years),this},i.add=function(n,t){return is(this,n,t,1)},i.subtract=function(n,t){return is(this,n,t,-1)},i.as=function(n){if(!this.isValid())return NaN;var t,r,i=this._milliseconds;if("month"===(n=nt(n))||"quarter"===n||"year"===n)switch(t=this._days+i/864e5,r=this._months+us(t),n){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(te(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}},i.asMilliseconds=ai,i.asSeconds=ci,i.asMinutes=pr,i.asHours=b,i.asDays=li,i.asWeeks=wr,i.asMonths=su,i.asQuarters=fu,i.asYears=uu,i.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*e(this._months/12):NaN},i._bubble=function(){var n=this._milliseconds,t=this._days,i=this._months,r=this._data;return 0<=n&&0<=t&&0<=i||n<=0&&t<=0&&i<=0||(n+=864e5*rs(te(i)+t),i=t=0),r.milliseconds=n%1e3,n=tt(n/1e3),r.seconds=n%60,n=tt(n/60),r.minutes=n%60,n=tt(n/60),r.hours=n%24,t+=tt(n/24),i+=n=tt(us(t)),t-=rs(te(n)),n=tt(i/12),i%=12,r.days=t,r.months=i,r.years=n,this},i.clone=function(){return ft(this)},i.get=function(n){return n=nt(n),this.isValid()?this[n+"s"]():NaN},i.milliseconds=vt,i.seconds=sf,i.minutes=tr,i.hours=er,i.days=or,i.weeks=function(){return tt(this.days()/7)},i.months=ii,i.years=rr,i.humanize=function(n,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,i=ei;return"object"==typeof n&&(t=n,n=!1),"boolean"==typeof n&&(r=n),"object"==typeof t&&(i=Object.assign({},ei,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),t=this.localeData(),i=fh(this,!r,i,t),r&&(i=t.pastFuture(+this,i)),t.postformat(i)},i.toISOString=vu,i.toString=vu,i.toJSON=vu,i.locale=po,i.localeData=wo,i.toIsoString=g("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vu),i.lang=gi,u("X",0,0,"unix"),u("x",0,0,"valueOf"),r("x",br),r("X",/[+-]?\d+(\.\d{1,3})?/),s("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n))}),s("x",function(n,t,i){i._d=new Date(e(n))}),t.version="2.29.2",ie=c,t.fn=n,t.min=function(){return fo("isBefore",[].slice.call(arguments,0))},t.max=function(){return fo("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=et,t.unix=function(n){return c(1e3*n)},t.months=function(n,t){return ts(n,t,"months")},t.isDate=ki,t.locale=gt,t.invalid=cr,t.duration=ft,t.isMoment=rt,t.weekdays=function(n,t,i){return ne(n,t,i,"weekdays")},t.parseZone=function(){return c.apply(null,arguments).parseZone()},t.localeData=bt,t.isDuration=ou,t.monthsShort=function(n,t){return ts(n,t,"monthsShort")},t.weekdaysMin=function(n,t,i){return ne(n,t,i,"weekdaysMin")},t.defineLocale=hf,t.updateLocale=function(n,t){var i,r;return null!=t?(r=ge,null!=l[n]&&null!=l[n].parentLocale?l[n].set(ku(l[n]._config,t)):(t=ku(r=null!=(i=iu(n))?i._config:r,t),null==i&&(t.abbr=n),(t=new du(t)).parentLocale=l[n],l[n]=t),gt(n)):null!=l[n]&&(null!=l[n].parentLocale?(l[n]=l[n].parentLocale,n===gt()&&gt(n)):null!=l[n]&&delete l[n]),l[n]},t.locales=function(){return se(l)},t.weekdaysShort=function(n,t,i){return ne(n,t,i,"weekdaysShort")},t.normalizeUnits=nt,t.relativeTimeRounding=function(n){return void 0===n?lt:"function"==typeof n&&(lt=n,!0)},t.relativeTimeThreshold=function(n,t){return void 0!==ei[n]&&(void 0===t?ei[n]:(ei[n]=t,"s"===n&&(ei.ss=t-1),!0))},t.calendarFormat=function(n,t){return(t=n.diff(t,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},t.prototype=n,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t});
/*! jQuery UI - v1.13.1 - 2022-01-20
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){"use strict";function vt(n,t,i){return[parseFloat(n[0])*(it.test(n[0])?t/100:1),parseFloat(n[1])*(it.test(n[1])?i/100:1)]}function a(t,i){return parseInt(n.css(t,i),10)||0}function yt(n){return null!=n&&n===n.window}function c(n){return null==n?n+"":"object"==typeof n?rt[gi.call(n)]||"object":typeof n}function v(n,t,i){var r=wt[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:Math.min(r.max,Math.max(0,n)))}function kt(n){var u=i(),e=u._rgba=[];return n=n.toLowerCase(),r(tr,function(t,i){var r=i.re.exec(n),r=r&&i.parse(r),i=i.space||"rgba";if(r)return r=u[i](r),u[f[i].cache]=r[f[i].cache],e=u._rgba=r._rgba,!1}),e.length?("0,0,0,0"===e.join()&&t.extend(e,ft.transparent),u):ft[n]}function ut(n,t,i){return 6*(i=(i+1)%1)<1?n+(t-n)*i*6:2*i<1?t:3*i<2?n+(t-n)*(2/3-i)*6:n}function oi(n){var i,r,t=n.ownerDocument.defaultView?n.ownerDocument.defaultView.getComputedStyle(n,null):n.currentStyle,u={};if(t&&t.length&&t[0]&&t[t[0]])for(r=t.length;r--;)"string"==typeof t[i=t[r]]&&(u[i.replace(/-([\da-z])/gi,function(n,t){return t.toUpperCase()})]=t[i]);else for(i in t)"string"==typeof t[i]&&(u[i]=t[i]);return u}function w(t,i,r,u){return t={effect:t=n.isPlainObject(t)?(i=t).effect:t},"function"==typeof(i=null==i?{}:i)&&(u=i,r=null,i={}),"number"!=typeof i&&!n.fx.speeds[i]||(u=r,r=i,i={}),"function"==typeof r&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function st(t){return!t||"number"==typeof t||n.fx.speeds[t]||"string"==typeof t&&!n.effects.effect[t]||"function"==typeof t||"object"==typeof t&&!t.effect}function si(n,t){var i=t.outerWidth(),t=t.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(n)||["",0,i,t,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?t:parseFloat(n[3]),left:parseFloat(n[4])||0}}function yi(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.regional.en=n.extend(!0,{},this.regional[""]);this.regional["en-US"]=n.extend(!0,{},this.regional.en);this.dpDiv=pi(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function pi(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,wi)}function wi(){n.datepicker._isDisabledDatepicker((e.inline?e.dpDiv.parent():e.input)[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))}function b(t,i){for(var r in n.extend(t,i),i)null==i[r]&&(t[r]=i[r]);return t}function bi(n,t,i){return t<=n&&n<t+i}function o(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}var k,s,u,d,g,nt,tt,it,at,hi,ci,li,ai,vi,e,l,ht;n.ui=n.ui||{};n.ui.version="1.13.1";var ct,ki=0,di=Array.prototype.hasOwnProperty,lt=Array.prototype.slice;n.cleanData=(ct=n.cleanData,function(t){for(var r,i,u=0;null!=(i=t[u]);u++)(r=n._data(i,"events"))&&r.remove&&n(i).triggerHandler("remove");ct(t)});n.widget=function(t,i,r){var f,u,o,h={},e=t.split(".")[0],s=e+"-"+(t=t.split(".")[1]);return r||(r=i,i=n.Widget),Array.isArray(r)&&(r=n.extend.apply(null,[{}].concat(r))),n.expr.pseudos[s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this||!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),(o=new i).options=n.widget.extend({},o.options),n.each(r,function(n,t){function r(){return i.prototype[n].apply(this,arguments)}function u(t){return i.prototype[n].apply(this,t)}h[n]="function"==typeof t?function(){var n,i=this._super,f=this._superApply;return this._super=r,this._superApply=u,n=t.apply(this,arguments),this._super=i,this._superApply=f,n}:t}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f&&o.widgetEventPrefix||t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var i,r,f=lt.call(arguments,1),u=0,e=f.length;u<e;u++)for(i in f[u])r=f[u][i],di.call(f[u],i)&&void 0!==r&&(t[i]=n.isPlainObject(r)?n.isPlainObject(t[i])?n.widget.extend({},t[i],r):n.widget.extend({},r):r);return t};n.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;n.fn[t]=function(u){var o="string"==typeof u,e=lt.call(arguments,1),f=this;return o?this.length||"instance"!==u?this.each(function(){var i,o=n.data(this,r);return"instance"===u?(f=o,!1):o?"function"!=typeof o[u]||"_"===u.charAt(0)?n.error("no such method '"+u+"' for "+t+" widget instance"):(i=o[u].apply(o,e))!==o&&void 0!==i?(f=i&&i.jquery?f.pushStack(i.get()):i,!1):void 0:n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+u+"'")}):f=void 0:(e.length&&(u=n.widget.extend.apply(null,[u].concat(e))),this.each(function(){var t=n.data(this,r);t?(t.option(u||{}),t._init&&t._init()):n.data(this,r,new i(u,this))})),f}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=ki++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();this.classesElementLookup={};i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){var t=this;this._destroy();n.each(this.classesElementLookup,function(n,i){t._removeClass(i,n)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var u,r,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},t=(u=t.split(".")).shift(),u.length){for(r=e[t]=n.widget.extend({},this.options[t]),f=0;f<u.length-1;f++)r[u[f]]=r[u[f]]||{},r=r[u[f]];if(t=u.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return"classes"===n&&this._setOptionClasses(t),this.options[n]=t,"disabled"===n&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,u,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(u=n(r.get()),this._removeClass(r,i),u.addClass(this._classes({element:u,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(n){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!n);n&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function u(u,f){for(var o,e=0;e<u.length;e++)o=i.classesElementLookup[u[e]]||n(),o=t.add?(function(){var r=[];t.element.each(function(t,u){n.map(i.classesElementLookup,function(n){return n}).some(function(n){return n.is(u)})||r.push(u)});i._on(n(r),{remove:"_untrackClassesElement"})}(),n(n.uniqueSort(o.get().concat(t.element.get())))):n(o.not(t.element).get()),i.classesElementLookup[u[e]]=o,r.push(u[e]),f&&t.classes[u[e]]&&r.push(t.classes[u[e]])}var r=[],i=this;return(t=n.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&u(t.keys.match(/\S+/g)||[],!0),t.extra&&u(t.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(t){var i=this;n.each(i.classesElementLookup,function(r,u){-1!==n.inArray(t.target,u)&&(i.classesElementLookup[r]=n(u.not(t.target).get()))});this._off(n(t.target))},_removeClass:function(n,t,i){return this._toggleClass(n,t,i,!1)},_addClass:function(n,t,i){return this._toggleClass(n,t,i,!0)},_toggleClass:function(n,t,i,r){var u="string"==typeof n||null===n,i={extra:u?t:i,keys:u?n:t,element:u?this.element:n,add:r="boolean"==typeof r?r:i};return i.element.toggleClass(this._classes(i),r),this},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||!0!==u.options.disabled&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),r=s[1]+u.eventNamespace,s=s[2];s?f.on(r,s,o):i.on(r,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){var i=this;return setTimeout(function(){return("string"==typeof n?i[n]:n).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){this._addClass(n(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){this._addClass(n(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},(i=n.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!("function"==typeof e&&!1===e.apply(this.element[0],[i].concat(r))||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){var o,e=(u="string"==typeof u?{effect:u}:u)?!0!==u&&"number"!=typeof u&&u.effect||i:t;"number"==typeof(u=u||{})?u={duration:u}:!0===u&&(u={});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});n.widget;s=Math.max;u=Math.abs;d=/left|center|right/;g=/top|center|bottom/;nt=/[\+\-]\d+(\.[\d]+)?%?/;tt=/^\w+/;it=/%$/;at=n.fn.position;n.position={scrollbarWidth:function(){if(void 0!==k)return k;var r,t=n("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'><\/div><\/div>"),i=t.children()[0];return n("body").append(t),r=i.offsetWidth,t.css("overflow","scroll"),r===(i=i.offsetWidth)&&(i=t[0].clientWidth),t.remove(),k=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?n.position.scrollbarWidth():0,height:i?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=yt(i[0]),u=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:r,isDocument:u,offset:!r&&!u?n(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}};n.fn.position=function(t){if(!t||!t.of)return at.apply(this,arguments);var o,r,f,h,e,c,v="string"==typeof(t=n.extend({},t)).of?n(document).find(t.of):n(t.of),p=n.position.getWithinInfo(t.within),w=n.position.getScrollInfo(p),l=(t.collision||"flip").split(" "),y={},i=9===(c=(i=v)[0]).nodeType?{width:i.width(),height:i.height(),offset:{top:0,left:0}}:yt(c)?{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()};return v[0].preventDefault&&(t.at="left top"),r=i.width,f=i.height,e=n.extend({},h=i.offset),n.each(["my","at"],function(){var i,r,n=(t[this]||"").split(" ");(n=1===n.length?d.test(n[0])?n.concat(["center"]):g.test(n[0])?["center"].concat(n):["center","center"]:n)[0]=d.test(n[0])?n[0]:"center";n[1]=g.test(n[1])?n[1]:"center";i=nt.exec(n[0]);r=nt.exec(n[1]);y[this]=[i?i[0]:0,r?r[0]:0];t[this]=[tt.exec(n[0])[0],tt.exec(n[1])[0]]}),1===l.length&&(l[1]=l[0]),"right"===t.at[0]?e.left+=r:"center"===t.at[0]&&(e.left+=r/2),"bottom"===t.at[1]?e.top+=f:"center"===t.at[1]&&(e.top+=f/2),o=vt(y.at,r,f),e.left+=o[0],e.top+=o[1],this.each(function(){var g,nt,c=n(this),b=c.outerWidth(),k=c.outerHeight(),tt=a(this,"marginLeft"),it=a(this,"marginTop"),rt=b+tt+a(this,"marginRight")+w.width,ut=k+it+a(this,"marginBottom")+w.height,i=n.extend({},e),d=vt(y.my,c.outerWidth(),c.outerHeight());"right"===t.my[0]?i.left-=b:"center"===t.my[0]&&(i.left-=b/2);"bottom"===t.my[1]?i.top-=k:"center"===t.my[1]&&(i.top-=k/2);i.left+=d[0];i.top+=d[1];g={marginLeft:tt,marginTop:it};n.each(["left","top"],function(u,e){n.ui.position[l[u]]&&n.ui.position[l[u]][e](i,{targetWidth:r,targetHeight:f,elemWidth:b,elemHeight:k,collisionPosition:g,collisionWidth:rt,collisionHeight:ut,offset:[o[0]+d[0],o[1]+d[1]],my:t.my,at:t.at,within:p,elem:c})});t.using&&(nt=function(n){var e=h.left-i.left,a=e+r-b,o=h.top-i.top,y=o+f-k,l={target:{element:v,left:h.left,top:h.top,width:r,height:f},element:{element:c,left:i.left,top:i.top,width:b,height:k},horizontal:a<0?"left":0<e?"right":"center",vertical:y<0?"top":0<o?"bottom":"middle"};r<b&&u(e+a)<r&&(l.horizontal="center");f<k&&u(o+y)<f&&(l.vertical="middle");l.important=s(u(e),u(a))>s(u(o),u(y))?"horizontal":"vertical";t.using.call(this,n,l)});c.offset(n.extend(i,{using:nt}))})};n.ui.position={fit:{left:function(n,t){var r=t.within,u=r.isWindow?r.scrollLeft:r.offset.left,e=r.width,o=n.left-t.collisionPosition.marginLeft,i=u-o,f=o+t.collisionWidth-e-u;t.collisionWidth>e?0<i&&f<=0?(r=n.left+i+t.collisionWidth-e-u,n.left+=i-r):n.left=!(0<f&&i<=0)&&f<i?u+e-t.collisionWidth:u:0<i?n.left+=i:0<f?n.left-=f:n.left=s(n.left-o,n.left)},top:function(n,t){var r=t.within,u=r.isWindow?r.scrollTop:r.offset.top,e=t.within.height,o=n.top-t.collisionPosition.marginTop,i=u-o,f=o+t.collisionHeight-e-u;t.collisionHeight>e?0<i&&f<=0?(r=n.top+i+t.collisionHeight-e-u,n.top+=i-r):n.top=!(0<f&&i<=0)&&f<i?u+e-t.collisionHeight:u:0<i?n.top+=i:0<f?n.top-=f:n.top=s(n.top-o,n.top)}},flip:{left:function(n,t){var i=t.within,o=i.offset.left+i.scrollLeft,s=i.width,f=i.isWindow?i.scrollLeft:i.offset.left,r=n.left-t.collisionPosition.marginLeft,h=r-f,c=r+t.collisionWidth-s-f,e="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,i="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,r=-2*t.offset[0];h<0?((o=n.left+e+i+r+t.collisionWidth-s-o)<0||o<u(h))&&(n.left+=e+i+r):0<c&&(0<(f=n.left-t.collisionPosition.marginLeft+e+i+r-f)||u(f)<c)&&(n.left+=e+i+r)},top:function(n,t){var i=t.within,o=i.offset.top+i.scrollTop,s=i.height,f=i.isWindow?i.scrollTop:i.offset.top,r=n.top-t.collisionPosition.marginTop,h=r-f,c=r+t.collisionHeight-s-f,e="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,i="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,r=-2*t.offset[1];h<0?((o=n.top+e+i+r+t.collisionHeight-s-o)<0||o<u(h))&&(n.top+=e+i+r):0<c&&(0<(f=n.top-t.collisionPosition.marginTop+e+i+r-f)||u(f)<c)&&(n.top+=e+i+r)}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}};n.ui.position;n.extend(n.expr.pseudos,{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])}});n.fn.extend({disableSelection:(pt="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(pt+".ui-disableSelection",function(n){n.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var pt,t=n,rt={},gi=rt.toString,nr=/^([\-+])=\s*(\d+\.?\d*)/,tr=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),n[4]?(parseInt(n[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),n[4]?(parseInt(n[4]+n[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=t.Color=function(n,i,r,u){return new t.Color.fn.parse(n,i,r,u)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},wt={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},bt=i.support={},h=t("<p>")[0],r=t.each;h.style.cssText="background-color:rgba(1,1,1,.5)";bt.rgba=-1<h.style.backgroundColor.indexOf("rgba");r(f,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){rt["[object "+t+"]"]=t.toLowerCase()});(i.fn=t.extend(i.prototype,{parse:function(n,u,e,o){if(void 0===n)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(u),u=void 0);var s=this,h=c(n),l=this._rgba=[];return void 0!==u&&(n=[n,u,e,o],h="array"),"string"===h?this.parse(kt(n)||ft._default):"array"===h?(r(f.rgba.props,function(t,i){l[i.idx]=v(n[i.idx],i)}),this):"object"===h?(r(f,n instanceof i?function(t,i){n[i.cache]&&(s[i.cache]=n[i.cache].slice())}:function(i,u){var f=u.cache;r(u.props,function(t,i){if(!s[f]&&u.to){if("alpha"===t||null==n[t])return;s[f]=u.to(s._rgba)}s[f][i.idx]=v(n[t],i,!0)});s[f]&&t.inArray(null,s[f].slice(0,3))<0&&(null==s[f][3]&&(s[f][3]=1),u.from&&(s._rgba=u.from(s[f])))}),this):void 0},is:function(n){var e=i(n),t=!0,u=this;return r(f,function(n,i){var o,f=e[i.cache];return f&&(o=u[i.cache]||i.to&&i.to(u._rgba)||[],r(i.props,function(n,i){if(null!=f[i.idx])return t=f[i.idx]===o[i.idx]})),t}),t},_space:function(){var n=[],t=this;return r(f,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var s=(o=i(n))._space(),u=f[s],n=0===this.alpha()?i("transparent"):this,h=n[u.cache]||u.to(n._rgba),e=h.slice(),o=o[u.cache];return r(u.props,function(n,i){var s=i.idx,r=h[s],u=o[s],f=wt[i.type]||{};null!==u&&(null===r?e[s]=u:(f.mod&&(u-r>f.mod/2?r+=f.mod:r-u>f.mod/2&&(r-=f.mod)),e[s]=v((u-r)*t+r,i)))}),this[s](e)},blend:function(n){if(1===this._rgba[3])return this;var r=this._rgba.slice(),u=r.pop(),f=i(n)._rgba;return i(t.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",n=t.map(this._rgba,function(n,t){return null!=n?n:2<t?1:0});return 1===n[3]&&(n.pop(),i="rgb("),i+n.join()+")"},toHslaString:function(){var i="hsla(",n=t.map(this.hsla(),function(n,t){return null==n&&(n=2<t?1:0),n=t&&t<3?Math.round(100*n)+"%":n});return 1===n[3]&&(n.pop(),i="hsl("),i+n.join()+")"},toHexString:function(n){var i=this._rgba.slice(),r=i.pop();return n&&i.push(~~(255*r)),"#"+t.map(i,function(n){return 1===(n=(n||0).toString(16)).length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=i.fn;f.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/255,t=n[1]/255,f=n[2]/255,s=n[3],u=Math.max(r,t,f),o=Math.min(r,t,f),i=u-o,e=u+o,n=.5*e,t=o===u?0:r===u?60*(t-f)/i+360:t===u?60*(f-r)/i+120:60*(r-t)/i+240,e=0==i?0:n<=.5?i/e:i/(2-e);return[Math.round(t)%360,e,n,null==s?1:s]};f.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,i=n[1],t=n[2],n=n[3],i=t<=.5?t*(1+i):t+i-t*i,t=2*t-i;return[Math.round(255*ut(t,i,r+1/3)),Math.round(255*ut(t,i,r)),Math.round(255*ut(t,i,r-1/3)),n]};r(f,function(n,t){var f=t.props,u=t.cache,e=t.to,o=t.from;i.fn[n]=function(n){if(e&&!this[u]&&(this[u]=e(this._rgba)),void 0===n)return this[u].slice();var s=c(n),h="array"===s||"object"===s?n:arguments,t=this[u].slice();return r(f,function(n,i){n=h["object"===s?n:i.idx];null==n&&(n=t[i.idx]);t[i.idx]=v(n,i)}),o?((n=i(o(t)))[u]=t,n):i(t)};r(f,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f,u=c(i),s="alpha"===t?this._hsla?"hsla":"rgba":n,e=this[s](),o=e[r.idx];return"undefined"===u?o:("function"===u&&(u=c(i=i.call(this,o))),null==i&&r.empty?this:("string"===u&&(f=nr.exec(i))&&(i=o+parseFloat(f[2])*("+"===f[1]?1:-1)),e[r.idx]=i,this[s](e)))})})});(i.hook=function(n){n=n.split(" ");r(n,function(n,r){t.cssHooks[r]={set:function(n,u){var o,f,e="";if("transparent"!==u&&("string"!==c(u)||(o=kt(u)))){if(u=i(o||u),!bt.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?n.parentNode:n;(""===e||"transparent"===e)&&f&&f.style;)try{e=t.css(f,"backgroundColor");f=f.parentNode}catch(n){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{n.style[r]=u}catch(n){}}};t.fx.step[r]=function(n){n.colorInit||(n.start=i(n.elem,r),n.end=i(n.end),n.colorInit=!0);t.cssHooks[r].set(n.elem,n.start.transition(n.end,n.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");t.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};var dt,gt,ni,ti,ii,ri,ui,fi,ei,y,ft=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},p="ui-effects-",et="ui-effects-style",ot="ui-effects-animated";n.effects={effect:{}};ti=["add","remove","toggle"];ii={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(i,r){n.fx.step[r]=function(n){("none"===n.end||n.setAttr)&&(1!==n.pos||n.setAttr)||(t.style(n.elem,r,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(t,i,r,u){var f=n.speed(i,r,u);return this.queue(function(){var i=n(this),e=i.attr("class")||"",r=(r=f.children?i.find("*").addBack():i).map(function(){return{el:n(this),start:oi(this)}}),u=function(){n.each(ti,function(n,r){t[r]&&i[r+"Class"](t[r])})};u();r=r.map(function(){return this.end=oi(this.el[0]),this.diff=function(t,i){var r,u,f={};for(r in i)u=i[r],t[r]!==u&&(ii[r]||!n.fx.step[r]&&isNaN(parseFloat(u))||(f[r]=u));return f}(this.start,this.end),this});i.attr("class",e);r=r.map(function(){var i=this,t=n.Deferred(),r=n.extend({},f,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,r.get()).done(function(){u();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});f.complete.call(i[0])})})};n.fn.extend({addClass:(ni=n.fn.addClass,function(t,i,r,u){return i?n.effects.animateClass.call(this,{add:t},i,r,u):ni.apply(this,arguments)}),removeClass:(gt=n.fn.removeClass,function(t,i,r,u){return 1<arguments.length?n.effects.animateClass.call(this,{remove:t},i,r,u):gt.apply(this,arguments)}),toggleClass:(dt=n.fn.toggleClass,function(t,i,r,u,f){return"boolean"==typeof i||void 0===i?r?n.effects.animateClass.call(this,i?{add:t}:{remove:t},r,u,f):dt.apply(this,arguments):n.effects.animateClass.call(this,{toggle:t},i,r,u)}),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}});n.expr&&n.expr.pseudos&&n.expr.pseudos.animated&&(n.expr.pseudos.animated=(ri=n.expr.pseudos.animated,function(t){return!!n(t).data(ot)||ri(t)}));!1!==n.uiBackCompat&&n.extend(n.effects,{save:function(n,t){for(var i=0,r=t.length;i<r;i++)null!==t[i]&&n.data(p+t[i],n[0].style[t[i]])},restore:function(n,t){for(var r,i=0,u=t.length;i<u;i++)null!==t[i]&&(r=n.data(p+t[i]),n.css(t[i],r))},setMode:function(n,t){return"toggle"===t?n.is(":hidden")?"show":"hide":t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(u){r=document.body}return t.wrap(u),t[0]!==r&&!n.contains(t[0],r)||n(r).trigger("focus"),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==i&&!n.contains(t[0],i)||n(i).trigger("focus")),t}});n.extend(n.effects,{version:"1.13.1",define:function(t,i,r){return r||(r=i,i="effect"),n.effects.effect[t]=r,n.effects.effect[t].mode=i,r},scaledDimensions:function(n,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(t||100)/100:1,t="vertical"!==i?(t||100)/100:1;return{height:n.height()*t,width:n.width()*r,outerHeight:n.outerHeight()*t,outerWidth:n.outerWidth()*r}},clipToBox:function(n){return{width:n.clip.right-n.clip.left,height:n.clip.bottom-n.clip.top,left:n.clip.left,top:n.clip.top}},unshift:function(n,t,i){var r=n.queue();1<t&&r.splice.apply(r,[1,0].concat(r.splice(t,i)));n.dequeue()},saveStyle:function(n){n.data(et,n[0].style.cssText)},restoreStyle:function(n){n[0].style.cssText=n.data(et)||"";n.removeData(et)},mode:function(n,t){return n=n.is(":hidden"),"toggle"===t&&(t=n?"show":"hide"),t=(n?"hide"===t:"show"===t)?"none":t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createPlaceholder:function(t){var i,r=t.css("position"),u=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",i=n("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(p+"placeholder",i)),t.css({position:r,left:u.left,top:u.top}),i},removePlaceholder:function(n){var t=p+"placeholder",i=n.data(t);i&&(i.remove(),n.removeData(t))},cleanUp:function(t){n.effects.restoreStyle(t);n.effects.removePlaceholder(t)},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);0<f[0]&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function e(t){var f=n(this),u=n.effects.mode(f,i)||r;f.data(ot,!0);h.push(u);r&&("show"===u||u===r&&"hide"===u)&&f.show();r&&"none"===u||n.effects.saveStyle(f);"function"==typeof t&&t()}function c(e){function s(){"function"==typeof u&&u.call(o[0]);"function"==typeof e&&e()}var o=n(this);t.mode=h.shift();!1===n.uiBackCompat||r?"none"===t.mode?(o[i](),s()):f.call(o[0],t,function(){o.removeData(ot);n.effects.cleanUp(o);"hide"===t.mode&&o.hide();s()}):(o.is(":hidden")?"hide"===i:"show"===i)?(o[i](),s()):f.call(o[0],t,s)}var t=w.apply(this,arguments),f=n.effects.effect[t.effect],r=f.mode,o=t.queue,s=o||"fx",u=t.complete,i=t.mode,h=[];return n.fx.off||!f?i?this[i](t.duration,u):this.each(function(){u&&u.call(this)}):!1===o?this.each(e).each(c):this.queue(s,e).queue(s,c)},show:(ei=n.fn.show,function(n){return st(n)?ei.apply(this,arguments):(n=w.apply(this,arguments),n.mode="show",this.effect.call(this,n))}),hide:(fi=n.fn.hide,function(n){return st(n)?fi.apply(this,arguments):(n=w.apply(this,arguments),n.mode="hide",this.effect.call(this,n))}),toggle:(ui=n.fn.toggle,function(n){return st(n)||"boolean"==typeof n?ui.apply(this,arguments):(n=w.apply(this,arguments),n.mode="toggle",this.effect.call(this,n))}),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){0<i.indexOf(t)&&(r=[parseFloat(i),t])}),r},cssClip:function(n){return n?this.css("clip","rect("+n.top+"px "+n.right+"px "+n.bottom+"px "+n.left+"px)"):si(this.css("clip"),this)},transfer:function(t,i){var f=n(this),r=n(t.to),e="fixed"===r.css("position"),u=n("body"),o=e?u.scrollTop():0,s=e?u.scrollLeft():0,u=r.offset(),u={top:u.top-o,left:u.left-s,height:r.innerHeight(),width:r.innerWidth()},r=f.offset(),h=n("<div class='ui-effects-transfer'><\/div>");h.appendTo("body").addClass(t.className).css({top:r.top-o,left:r.left-s,height:f.innerHeight(),width:f.innerWidth(),position:e?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove();"function"==typeof i&&i()})}});n.fx.step.clip=function(t){t.clipInit||(t.start=n(t.elem).cssClip(),"string"==typeof t.end&&(t.end=si(t.end,t.elem)),t.clipInit=!0);n(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})};y={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,t){y[t]=function(t){return Math.pow(t,n+2)}});n.extend(y,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;n<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-n,2)}});n.each(y,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return n<.5?i(2*n)/2:1-i(-2*n+2)/2}});h=n.effects;n.effects.define("blind","hide",function(t,i){var e={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},u=n(this),o=t.direction||"up",s=u.cssClip(),r={clip:n.extend({},s)},f=n.effects.createPlaceholder(u);r.clip[e[o][0]]=r.clip[e[o][1]];"show"===t.mode&&(u.cssClip(r.clip),f&&f.css(n.effects.clipToBox(r)),r.clip=s);f&&f.animate(n.effects.clipToBox(r),t.duration,t.easing);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("bounce",function(t,i){var o,s,u=n(this),h=t.mode,c="hide"===h,p="show"===h,f=t.direction||"up",r=t.distance,v=t.times||5,h=2*v+(p||c?1:0),l=t.duration/h,a=t.easing,e="up"===f||"down"===f?"top":"left",y="up"===f||"left"===f,w=0,t=u.queue().length;for(n.effects.createPlaceholder(u),f=u.css(e),r=r||u["top"==e?"outerHeight":"outerWidth"]()/3,p&&((s={opacity:1})[e]=f,u.css("opacity",0).css(e,y?2*-r:2*r).animate(s,l,a)),c&&(r/=Math.pow(2,v-1)),(s={})[e]=f;w<v;w++)(o={})[e]=(y?"-=":"+=")+r,u.animate(o,l,a).animate(s,l,a),r=c?2*r:r/2;c&&((o={opacity:0})[e]=(y?"-=":"+=")+r,u.animate(o,l,a));u.queue(i);n.effects.unshift(u,t,1+h)});n.effects.define("clip","hide",function(t,i){var u={},f=n(this),r=t.direction||"vertical",e="both"===r,o=e||"horizontal"===r,e=e||"vertical"===r,r=f.cssClip();u.clip={top:e?(r.bottom-r.top)/2:r.top,right:o?(r.right-r.left)/2:r.right,bottom:e?(r.bottom-r.top)/2:r.bottom,left:o?(r.right-r.left)/2:r.left};n.effects.createPlaceholder(f);"show"===t.mode&&(f.cssClip(u.clip),u.clip=r);f.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("drop","hide",function(t,i){var f=n(this),s="show"===t.mode,r=t.direction||"left",e="up"===r||"down"===r?"top":"left",o="up"===r||"left"===r?"-=":"+=",h="+="==o?"-=":"+=",u={opacity:0};n.effects.createPlaceholder(f);r=t.distance||f["top"==e?"outerHeight":"outerWidth"](!0)/2;u[e]=o+r;s&&(f.css(u),u[e]=h+r,u.opacity=1);f.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("explode","hide",function(t,i){function b(){p.push(this);p.length===e*c&&(o.css({visibility:"visible"}),n(p).remove(),i())}for(var u,l,a,v,y,e=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=e,o=n(this),f="show"===t.mode,w=o.show().css("visibility","hidden").offset(),s=Math.ceil(o.outerWidth()/c),h=Math.ceil(o.outerHeight()/e),p=[],r=0;r<e;r++)for(a=w.top+r*h,y=r-(e-1)/2,u=0;u<c;u++)l=w.left+u*s,v=u-(c-1)/2,o.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-u*s,top:-r*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:l+(f?v*s:0),top:a+(f?y*h:0),opacity:f?0:1}).animate({left:l+(f?0:v*s),top:a+(f?0:y*h),opacity:f?1:0},t.duration||500,t.easing,b)});n.effects.define("fade","toggle",function(t,i){var r="show"===t.mode;n(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("fold","hide",function(t,i){var u=n(this),c=t.mode,v="show"===c,y="hide"===c,o=t.size||15,a=/([0-9]+)%/.exec(o),f=!t.horizFirst?["bottom","right"]:["right","bottom"],s=t.duration/2,h=n.effects.createPlaceholder(u),e=u.cssClip(),l={clip:n.extend({},e)},r={clip:n.extend({},e)},p=[e[f[0]],e[f[1]]],c=u.queue().length;a&&(o=parseInt(a[1],10)/100*p[y?0:1]);l.clip[f[0]]=o;r.clip[f[0]]=o;r.clip[f[1]]=0;v&&(u.cssClip(r.clip),h&&h.css(n.effects.clipToBox(r)),r.clip=e);u.queue(function(i){h&&h.animate(n.effects.clipToBox(l),s,t.easing).animate(n.effects.clipToBox(r),s,t.easing);i()}).animate(l,s,t.easing).animate(r,s,t.easing).queue(i);n.effects.unshift(u,c,4)});n.effects.define("highlight","show",function(t,i){var r=n(this),u={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(u.opacity=0);n.effects.saveStyle(r);r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("size",function(t,i){var r,u=n(this),y=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],a=t.mode,p="effect"!==a,l=t.scale||"both",s=t.origin||["middle","center"],w=u.css("position"),v=u.position(),o=n.effects.scaledDimensions(u),f=t.from||o,e=t.to||n.effects.scaledDimensions(u,0);n.effects.createPlaceholder(u);"show"===a&&(a=f,f=e,e=a);r={from:{y:f.height/o.height,x:f.width/o.width},to:{y:e.height/o.height,x:e.width/o.width}};"box"!==l&&"both"!==l||(r.from.y!==r.to.y&&(f=n.effects.setTransition(u,h,r.from.y,f),e=n.effects.setTransition(u,h,r.to.y,e)),r.from.x!==r.to.x&&(f=n.effects.setTransition(u,c,r.from.x,f),e=n.effects.setTransition(u,c,r.to.x,e)));"content"!==l&&"both"!==l||r.from.y!==r.to.y&&(f=n.effects.setTransition(u,y,r.from.y,f),e=n.effects.setTransition(u,y,r.to.y,e));s&&(s=n.effects.getBaseline(s,o),f.top=(o.outerHeight-f.outerHeight)*s.y+v.top,f.left=(o.outerWidth-f.outerWidth)*s.x+v.left,e.top=(o.outerHeight-e.outerHeight)*s.y+v.top,e.left=(o.outerWidth-e.outerWidth)*s.x+v.left);delete f.outerHeight;delete f.outerWidth;u.css(f);"content"!==l&&"both"!==l||(h=h.concat(["marginTop","marginBottom"]).concat(y),c=c.concat(["marginLeft","marginRight"]),u.find("*[width]").each(function(){var u=n(this),i=n.effects.scaledDimensions(u),f={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},i={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(f=n.effects.setTransition(u,h,r.from.y,f),i=n.effects.setTransition(u,h,r.to.y,i));r.from.x!==r.to.x&&(f=n.effects.setTransition(u,c,r.from.x,f),i=n.effects.setTransition(u,c,r.to.x,i));p&&n.effects.saveStyle(u);u.css(f);u.animate(i,t.duration,t.easing,function(){p&&n.effects.restoreStyle(u)})}));u.animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=u.offset();0===e.opacity&&u.css("opacity",f.opacity);p||(u.css("position","static"===w?"relative":w).offset(t),n.effects.saveStyle(u));i()}})});n.effects.define("scale",function(t,i){var u=n(this),r=t.mode,r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"effect"!==r?0:100),r=n.extend(!0,{from:n.effects.scaledDimensions(u),to:n.effects.scaledDimensions(u,r,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(r.from.opacity=1,r.to.opacity=0);n.effects.effect.size.call(this,r,i)});n.effects.define("puff","hide",function(t,i){t=n.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});n.effects.effect.scale.call(this,t,i)});n.effects.define("pulsate","show",function(t,i){var r=n(this),f=t.mode,o="show"===f,e=2*(t.times||5)+(o||"hide"===f?1:0),s=t.duration/e,u=0,h=1,f=r.queue().length;for(!o&&r.is(":visible")||(r.css("opacity",0).show(),u=1);h<e;h++)r.animate({opacity:u},s,t.easing),u=1-u;r.animate({opacity:u},s,t.easing);r.queue(i);n.effects.unshift(r,f,1+e)});n.effects.define("shake",function(t,i){var l=1,r=n(this),u=t.direction||"left",e=t.distance||20,a=t.times||3,v=2*a+1,f=Math.round(t.duration/v),o="up"===u||"down"===u?"top":"left",s="up"===u||"left"===u,h={},c={},y={},u=r.queue().length;for(n.effects.createPlaceholder(r),h[o]=(s?"-=":"+=")+e,c[o]=(s?"+=":"-=")+2*e,y[o]=(s?"-=":"+=")+2*e,r.animate(h,f,t.easing);l<a;l++)r.animate(c,f,t.easing).animate(y,f,t.easing);r.animate(c,f,t.easing).animate(h,f/2,t.easing).queue(i);n.effects.unshift(r,u,1+v)});n.effects.define("slide","show",function(t,i){var s,o,u=n(this),h={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},c=t.mode,f=t.direction||"left",e="up"===f||"down"===f?"top":"left",l="up"===f||"left"===f,a=t.distance||u["top"==e?"outerHeight":"outerWidth"](!0),r={};n.effects.createPlaceholder(u);s=u.cssClip();o=u.position()[e];r[e]=(l?-1:1)*a+o;r.clip=u.cssClip();r.clip[h[f][1]]=r.clip[h[f][0]];"show"===c&&(u.cssClip(r.clip),u.css(e,r[e]),r.clip=s,r[e]=o);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});h=!1!==n.uiBackCompat?n.effects.define("transfer",function(t,i){n(this).transfer(t,i)}):h;n.ui.focusable=function(t,i){var e,r,u,o,f=t.nodeName.toLowerCase();return"area"===f?(r=(e=t.parentNode).name,!(!t.href||!r||"map"!==e.nodeName.toLowerCase())&&0<(r=n("img[usemap='#"+r+"']")).length&&r.is(":visible")):(/^(input|select|textarea|button|object)$/.test(f)?(u=!t.disabled)&&(o=n(t).closest("fieldset")[0])&&(u=!o.disabled):u="a"===f&&t.href||i,u&&n(t).is(":visible")&&function(n){for(var t=n.css("visibility");"inherit"===t;)n=n.parent(),t=n.css("visibility");return"visible"===t}(n(t)))};n.extend(n.expr.pseudos,{focusable:function(t){return n.ui.focusable(t,null!=n.attr(t,"tabindex"))}});n.ui.focusable;n.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):n(this[0].form)};n.ui.formResetMixin={_formResetHandler:function(){var t=n(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");n.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){var n;this.form=this.element._form();this.form.length&&((n=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),n.push(this),this.form.data("ui-form-reset-instances",n))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(n.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}};n.expr.pseudos||(n.expr.pseudos=n.expr[":"]);n.uniqueSort||(n.uniqueSort=n.unique);n.escapeSelector||(hi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ci=function(n,t){return t?"\0"===n?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},n.escapeSelector=function(n){return(n+"").replace(hi,ci)});n.fn.even&&n.fn.odd||n.fn.extend({even:function(){return this.filter(function(n){return n%2==0})},odd:function(){return this.filter(function(n){return n%2==1})}});n.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};n.fn.labels=function(){var t,r,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(t=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),t="label[for='"+n.escapeSelector(t)+"']",r=r.add(i.find(t).addBack(t))),this.pushStack(r)):this.pushStack([])};n.fn.scrollParent=function(t){var i=this.css("position"),r="absolute"===i,u=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=n(this);return(!r||"static"!==t.css("position"))&&u.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&t.length?t:n(this[0].ownerDocument||document)};n.extend(n.expr.pseudos,{tabbable:function(t){var i=n.attr(t,"tabindex"),r=null!=i;return(!r||0<=i)&&n.ui.focusable(t,r)}});n.fn.extend({uniqueId:(li=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++li)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.widget("ui.accordion",{version:"1.13.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(n){return n.find("> li > :first-child").add(n.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");t.collapsible||!1!==t.active&&null!=t.active||(t.active=0);this._processPanels();t.active<0&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var t,i=this.options.icons;i&&(t=n("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),t=this.active.children(".ui-accordion-header-icon"),this._removeClass(t,i.header)._addClass(t,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();n=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){"active"!==n?("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||!1!==this.options.active||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n);this._toggleClass(null,"ui-state-disabled",!!n);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!n)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),n(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels();!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=n()):!1===t.active?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var t=this.headers,n=this.panels;this.headers="function"==typeof this.options.header?this.options.header(this.element):this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");n&&(this._off(t.not(this.headers)),this._off(n.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,u=this.element.parent();this.active=this._findActive(i.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var t=n(this),r=t.uniqueId().attr("id"),i=t.next(),u=i.uniqueId().attr("id");t.attr("aria-controls",u);i.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);"fill"===r?(t=u.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){var i=n(this).is(":visible");i||n(this).show();t=Math.max(t,n(this).css("height","").height());i||n(this).hide()}).height(t))},_activate:function(t){t=this._findActive(t)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,o=e?n():r.next(),s=u.next(),o={oldHeader:u,oldPanel:s,newHeader:e?n():r,newPanel:o};t.preventDefault();f&&!i.collapsible||!1===this._trigger("beforeActivate",t,o)||(i.active=!e&&this.headers.index(r),this.active=f?n():r,this._toggle(o),this._removeClass(u,"ui-accordion-header-active","ui-state-active"),i.icons&&(u=u.children(".ui-accordion-header-icon"),this._removeClass(u,null,i.icons.activeHeader)._addClass(u,null,i.icons.header)),f||(this._removeClass(r,"ui-accordion-header-collapsed")._addClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(f=r.children(".ui-accordion-header-icon"),this._removeClass(f,null,i.icons.header)._addClass(f,null,i.icons.activeHeader)),this._addClass(r.next(),"ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return 0===parseInt(n(this).attr("tabIndex"),10)}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(n,t,i){var h,r,u,c=this,s=0,l=n.css("box-sizing"),e=n.length&&(!t.length||n.index()<t.index()),o=this.options.animate||{},f=e&&o.down||o,e=function(){c._toggleComplete(i)};return r=(r="string"==typeof f?f:r)||f.easing||o.easing,u=(u="number"==typeof f?f:u)||f.duration||o.duration,t.length?n.length?(h=n.show().outerHeight(),t.animate(this.hideProps,{duration:u,easing:r,step:function(n,t){t.now=Math.round(n)}}),void n.hide().animate(this.showProps,{duration:u,easing:r,complete:e,step:function(n,i){i.now=Math.round(n);"height"!==i.prop?"content-box"===l&&(s+=i.now):"content"!==c.options.heightStyle&&(i.now=Math.round(h-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,u,r,e):n.animate(this.showProps,u,r,e)},_toggleComplete:function(n){var t=n.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active");this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}});n.ui.safeActiveElement=function(n){var t;try{t=n.activeElement}catch(i){t=n.body}return t=(t=t||n.body).nodeName?t:n.body};n.widget("ui.menu",{version:"1.13.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.lastMousePosition={x:null,y:null};this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(n){n.preventDefault();this._activateItem(n)},"click .ui-menu-item":function(t){var i=n(t.target),r=n(n.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this._menuItems().first();t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],n.ui.safeActiveElement(this.document[0]))||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n,!0);this.mouseHandled=!1}})},_activateItem:function(t){var r,i;this.previousFilter||t.clientX===this.lastMousePosition.x&&t.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:t.clientX,y:t.clientY},r=n(t.target).closest(".ui-menu-item"),i=n(t.currentTarget),r[0]===i[0]&&(i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))))},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();t.children().each(function(){var t=n(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,r,u,f=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:i=this.previousFilter||"";u=f=!1;r=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode);clearTimeout(this.filterTimer);r===i?u=!0:r=i+r;i=this._filterMenuItems(r);(i=u&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r));i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}f&&t.preventDefault()},_activate:function(n){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var r,t,u=this,f=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);t=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev(),r=n("<span>").data("ui-menu-submenu-caret",!0);u._addClass(r,"ui-menu-icon","ui-icon "+f);i.attr("aria-haspopup","true").prepend(r);t.attr("aria-labelledby",i.attr("id"))});this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front");(r=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=n(this);u._isDivider(t)&&u._addClass(t,"ui-menu-divider","ui-widget-content")});i=(t=r.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(t,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper");r.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){var i;"icons"===n&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu));this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",String(n));this._toggleClass(null,"ui-state-disabled",!!n)},focus:function(n,t){var i;this.blur(n,n&&"focus"===n.type);this._scrollIntoView(t);this.active=t.first();i=this.active.children(".ui-menu-item-wrapper");this._addClass(i,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",i.attr("id"));i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(i,null,"ui-state-active");n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);(i=t.children(".ui-menu")).length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var i,r,u;this._hasScroll()&&(r=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,u=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-r-u,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),t=t.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):u<i+t&&this.activeMenu.scrollTop(r+i-u+t))},blur:function(n,t){t||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",n,{item:this.active}),this.active=null)},_startOpening:function(n){clearTimeout(this.timer);"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({"of":this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this._removeClass(r.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=r},i?0:this.delay)},_close:function(n){(n=n||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(n){return(n||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(n,t,i){var r;(r=this.active?"first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").last():this.active[n+"All"](".ui-menu-item").first():r)&&r.length&&this.active||(r=this._menuItems(this.activeMenu)[t]());this.focus(i,r)},nextPage:function(t){var r,u,i;this.active?this.isLastItem()||(this._hasScroll()?(u=this.active.offset().top,i=this.element.innerHeight(),0===n.fn.jquery.indexOf("3.2.")&&(i+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(r=n(this)).offset().top-u-i<0}),this.focus(t,r)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var r,u,i;this.active?this.isFirstItem()||(this._hasScroll()?(u=this.active.offset().top,i=this.element.innerHeight(),0===n.fn.jquery.indexOf("3.2.")&&(i+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(r=n(this)).offset().top-u+i}),this.focus(t,r)):this.focus(t,this._menuItems(this.activeMenu).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)},_filterMenuItems:function(t){var t=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(String.prototype.trim.call(n(this).children(".ui-menu-item-wrapper").text()))})}});n.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f="textarea"===u,u="input"===u;this.isMultiLine=f||!u&&this._isContentEditable(this.element);this.valueMethod=this.element[f||u?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly"))i=r=t=!0;else{i=r=t=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){if(r)return r=!1,void n.preventDefault();this._searchTimeout(n)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){clearTimeout(this.searching);this.close(n);this._change(n)}});this._initSource();this.menu=n("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(n){n.preventDefault()},menufocus:function(t,i){var u,r;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});r=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value);(u=i.item.attr("aria-label")||r.value)&&String.prototype.trim.call(u).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(n("<div>").text(u))},100))},menuselect:function(t,i){var r=i.item.data("ui-autocomplete-item"),u=this.previous;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=u,this._delay(function(){this.previous=u;this.selectedItem=r}));!1!==this._trigger("select",t,{item:r})&&this._value(r.value);this.term=this._value();this.close(t);this.selectedItem=r}});this.liveRegion=n("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);"source"===n&&this._initSource();"appendTo"===n&&this.menu.element.appendTo(this._appendTo());"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||n.contains(i,t.target)},_closeOnClickOutside:function(n){this._isEventTargetInWidget(n)||this.close()},_appendTo:function(){var t=this.options.appendTo;return(t=!(t=t&&(t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?t:this.document[0].body},_initSource:function(){var i,r,t=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(i||r)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(n):void 0},_search:function(n){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var n=++this.requestIndex;return function(t){n===this.requestIndex&&this.__response(t);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(n){n=n&&this._normalize(n);this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({"of":this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<div>").text(i.label)).appendTo(t)},_move:function(n,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[n](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(n,t),t.preventDefault())},_isContentEditable:function(n){if(!n.length)return!1;var t=n.prop("contentEditable");return"inherit"===t?this._isContentEditable(n.parent()):"true"===t}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(1<n?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments);this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(n("<div>").text(i))},100))}});n.ui.autocomplete;ai=/ui-corner-([a-z]){2,6}/g;n.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];n.each(this.options.items,function(r,u){var f,e={};if(u)return"controlgroupLabel"===r?((f=t.element.find(u)).each(function(){var t=n(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'><\/span>")}),t._addClass(f,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(f.get()))):void(n.fn[r]&&(e=t["_"+r+"Options"]?t["_"+r+"Options"]("middle"):{classes:{}},t.element.find(u).each(function(){var u=n(this),o=u[r]("instance"),f=n.widget.extend({},e);"button"===r&&u.parent(".ui-spinner").length||((o=o||u[r]()[r]("instance"))&&(f.classes=t._resolveClassesValues(f.classes,o)),u[r](f),f=u[r]("widget"),n.data(f[0],"ui-controlgroup-data",o||u[r]("instance")),i.push(f[0]))})))});this.childWidgets=n(n.uniqueSort(i));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var i=n(this).data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(n,t){t=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(n,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all");this._addClass(n,null,t)},_buildSimpleOptions:function(n,t){var i="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[n],r},_spinnerOptions:function(n){return n=this._buildSimpleOptions(n,"ui-spinner"),n.classes["ui-spinner-up"]="",n.classes["ui-spinner-down"]="",n},_buttonOptions:function(n){return this._buildSimpleOptions(n,"ui-button")},_checkboxradioOptions:function(n){return this._buildSimpleOptions(n,"ui-checkboxradio-label")},_selectmenuOptions:function(n){var t="vertical"===this.options.direction;return{width:t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[n]}},_resolveClassesValues:function(t,i){var r={};return n.each(t,function(n){var u=i.options.classes[n]||"",u=String.prototype.trim.call(u.replace(ai,""));r[n]=(u+" "+t[n]).replace(/\s+/g," ")}),r},_setOption:function(n,t){"direction"===n&&this._removeClass("ui-controlgroup-"+this.options.direction);this._super(n,t);"disabled"!==n?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();t=this.childWidgets;(t=this.options.onlyVisible?t.filter(":visible"):t).length&&(n.each(["first","last"],function(n,r){var f,u=t[r]().data("ui-controlgroup-data");u&&i["_"+u.widgetName+"Options"]?((f=i["_"+u.widgetName+"Options"](1===t.length?"only":r)).classes=i._resolveClassesValues(f.classes,u),u.element[u.widgetName](f)):i._updateCornerClass(t[r](),r)}),this._callChildMethod("refresh"))}});n.widget("ui.checkboxradio",[n.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,r=this,i=this._super()||{};return this._readType(),t=this.element.labels(),this.label=n(t[t.length-1]),this.label.length||n.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){r.originalLabel+=3===this.nodeType?n(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var n=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();n&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===t&&/radio|checkbox/.test(this.type)||n.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,i="input[name='"+n.escapeSelector(t)+"']";return t?(this.form.length?n(this.form[0].elements).filter(i):n(i).filter(function(){return 0===n(this)._form().length})).not(this.element):n([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t);"radio"===this.type&&this._getRadioGroup().each(function(){var t=n(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(n,t){if("label"!==n||t){if(this._super(n,t),"disabled"===n)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=n("<span>"),this.iconSpace=n("<span> <\/span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var n=this.label.contents().not(this.element[0]);this.icon&&(n=n.not(this.icon[0]));(n=this.iconSpace?n.not(this.iconSpace[0]):n).remove();this.label.append(this.options.label)},refresh:function(){var n=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(n);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",n);null!==this.options.label&&this._updateLabel();t!==this.options.disabled&&this._setOptions({disabled:t})}}]);n.ui.checkboxradio;n.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,n=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(n.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(n.label=this.originalLabel),n},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(t){t.keyCode===n.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var u="iconPosition"!==t,r=u?this.options.iconPosition:i,t="top"===r||"bottom"===r;this.icon?u&&this._removeClass(this.icon,null,this.options.icon):(this.icon=n("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only"));u&&this._addClass(this.icon,null,i);this._attachIcon(r);t?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=n("<span> <\/span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(n){this.icon[/^(?:end|bottom)/.test(n)?"before":"after"](this.iconSpace)},_attachIcon:function(n){this.element[/^(?:end|bottom)/.test(n)?"append":"prepend"](this.icon)},_setOptions:function(n){var t=(void 0===n.showLabel?this.options:n).showLabel,i=(void 0===n.icon?this.options:n).icon;t||i||(n.showLabel=!0);this._super(n)},_setOption:function(n,t){"icon"===n&&(t?this._updateIcon(n,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove()));"iconPosition"===n&&this._updateIcon(n,t);"showLabel"===n&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip());"label"===n&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition))));this._super(n,t);"disabled"===n&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.trigger("blur"))},refresh:function(){var n=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");n!==this.options.disabled&&this._setOptions({disabled:n});this._updateTooltip()}});!1!==n.uiBackCompat&&(n.widget("ui.button",n.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end");this._super()},_setOption:function(n,t){"text"!==n?("showLabel"===n&&(this.options.text=t),"icon"===n&&(this.options.icons.primary=t),"icons"===n&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),n.fn.button=(vi=n.fn.button,function(t){var u="string"==typeof t,r=Array.prototype.slice.call(arguments,1),i=this;return u?this.length||"instance"!==t?this.each(function(){var u=n(this).attr("type"),f=n.data(this,"ui-"+("checkbox"!==u&&"radio"!==u?"button":"checkboxradio"));return"instance"===t?(i=f,!1):f?"function"!=typeof f[t]||"_"===t.charAt(0)?n.error("no such method '"+t+"' for button widget instance"):(u=f[t].apply(f,r))!==f&&void 0!==u?(i=u&&u.jquery?i.pushStack(u.get()):u,!1):void 0:n.error("cannot call methods on button prior to initialization; attempted to call method '"+t+"'")}):i=void 0:(r.length&&(t=n.widget.extend.apply(null,[t].concat(r))),this.each(function(){var i=n(this).attr("type"),r="checkbox"!==i&&"radio"!==i?"button":"checkboxradio",i=n.data(this,"ui-"+r);i?(i.option(t||{}),i._init&&i._init()):"button"!=r?n(this).checkboxradio(n.extend({icon:!1},t)):vi.call(n(this),t)})),i}),n.fn.buttonset=function(){return n.ui.controlgroup||n.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});n.ui.button;n.extend(n.ui,{datepicker:{version:"1.13.1"}});n.extend(yi.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return b(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,u=t.nodeName.toLowerCase(),f="div"===u||"span"===u;t.id||(this.uuid+=1,t.id="dp"+this.uuid);(r=this._newInst(n(t),f)).settings=n.extend({},i||{});"input"===u?this._connectDatepicker(t,r):f&&this._inlineDatepicker(t,r)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?pi(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var r,u=this._get(i,"appendText"),f=this._get(i,"isRTL");i.append&&i.append.remove();u&&(i.append=n("<span>").addClass(this._appendClass).text(u),t[f?"before":"after"](i.append));t.off("focus",this._showDatepicker);i.trigger&&i.trigger.remove();"focus"!==(r=this._get(i,"showOn"))&&"both"!==r||t.on("focus",this._showDatepicker);"button"!==r&&"both"!==r||(u=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),this._get(i,"buttonImageOnly")?i.trigger=n("<img>").addClass(this._triggerClass).attr({src:r,alt:u,title:u}):(i.trigger=n("<button type='button'>").addClass(this._triggerClass),r?i.trigger.html(n("<img>").attr({src:r,alt:u,title:u})):i.trigger.text(u)),t[f?"before":"after"](i.trigger),i.trigger.on("click",function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():(n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]&&n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(n){var r,u,f,t,i,e;this._get(n,"autoSize")&&!n.inline&&(i=new Date(2009,11,20),(e=this._get(n,"dateFormat")).match(/[DM]/)&&(r=function(n){for(t=f=u=0;t<n.length;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay())),n.input.attr("size",this._formatDate(n,i).length))},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,u,f){var o,e=this._dialogInst;return e||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),n("body").append(this._dialogInput),(e=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},n.data(this._dialogInput[0],"datepicker",e)),b(e.settings,u||{}),i=i&&i.constructor===Date?this._formatDate(e,i):i,this._dialogInput.val(i),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(o=document.documentElement.clientWidth,u=document.documentElement.clientHeight,i=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+i,u/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),e.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",e),this},_destroyDatepicker:function(t){var i,r=n(t),u=n.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),"input"===i?(u.append.remove(),u.trigger.remove(),r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||r.removeClass(this.markerClassName).empty(),e===u&&(e=null,this._curInst=null))},_enableDatepicker:function(t){var r,i=n(t),u=n.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(r=t.nodeName.toLowerCase())?(t.disabled=!1,u.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==r&&"span"!==r||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var r,i=n(t),u=n.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(r=t.nodeName.toLowerCase())?(t.disabled=!0,u.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==r&&"span"!==r||((i=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,r){var f,e,u=this._getInst(t);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?n.extend({},n.datepicker._defaults):u?"all"===i?n.extend({},u.settings):this._get(u,i):null;f=i||{};"string"==typeof i&&((f={})[i]=r);u&&(this._curInst===u&&this._hideDatepicker(),e=this._getDateDatepicker(t,!0),i=this._getMinMaxDate(u,"min"),r=this._getMinMaxDate(u,"max"),b(u.settings,f),null!==i&&void 0!==f.dateFormat&&void 0===f.minDate&&(u.settings.minDate=this._formatDate(u,i)),null!==r&&void 0!==f.dateFormat&&void 0===f.maxDate&&(u.settings.maxDate=this._formatDate(u,r)),"disabled"in f&&(f.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(n(t),u),this._autoSize(u),this._setDate(u,e),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){n=this._getInst(n);n&&this._updateDatepicker(n)},_setDateDatepicker:function(n,t){n=this._getInst(n);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(n,t){return n=this._getInst(n),n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var f,u,i=n.datepicker._getInst(t.target),r=!0,e=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return(u=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv))[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,u[0]),(f=n.datepicker._get(i,"onSelect"))?(u=n.datepicker._formatDate(i),f.apply(i.input?i.input[0]:null,[u,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,e?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,e?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var r,i=n.datepicker._getInst(t.target);if(n.datepicker._get(i,"constrainInput"))return r=n.datepicker._possibleChars(n.datepicker._get(i,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!r||-1<r.indexOf(i)},_doKeyUp:function(t){if(t=n.datepicker._getInst(t.target),t.input.val()!==t.lastVal)try{n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,n.datepicker._getFormatConfig(t))&&(n.datepicker._setDateFromField(t),n.datepicker._updateAlternate(t),n.datepicker._updateDatepicker(t))}catch(t){}return!0},_showDatepicker:function(t){var f,u,r,i;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]);n.datepicker._isDisabledDatepicker(t)||n.datepicker._lastInput===t||(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),!1!==(u=(r=n.datepicker._get(i,"beforeShow"))?r.apply(t,[t,i]):{})&&(b(i.settings,u),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),f=!1,n(t).parents().each(function(){return!(f|="fixed"===n(this).css("position"))}),r={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),r=n.datepicker._checkOffset(i,r,f),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":f?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(u=n.datepicker._get(i,"showAnim"),r=n.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(n){for(var i,t;n.length&&n[0]!==document;){if(("absolute"===(i=n.css("position"))||"relative"===i||"fixed"===i)&&(t=parseInt(n.css("zIndex"),10),!isNaN(t)&&0!==t))return t;n=n.parent()}return 0}(n(t))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[u]?i.dpDiv.show(u,n.datepicker._get(i,"showOptions"),r):i.dpDiv[u||"show"](u?r:null),n.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),n.datepicker._curInst=i)))},_updateDatepicker:function(t){this.maxRows=4;(e=t).dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var i,r=this._getNumberOfMonths(t),u=r[1],f=t.dpDiv.find("."+this._dayOverClass+" a"),o=n.datepicker._get(t,"onUpdateDatepicker");0<f.length&&wi.apply(f.get(0));t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<u&&t.dpDiv.addClass("ui-datepicker-multi-"+u).css("width",17*u+"em");t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.trigger("focus");t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year").first().replaceWith(t.yearshtml);i=t.yearshtml=null},0));o&&o.apply(t.input?t.input[0]:null,[t])},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&u<e?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&f<s?Math.abs(f+o):0),i},_findPos:function(t){for(var i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.pseudos.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return[(i=n(t).offset()).left,i.top]},_hideDatepicker:function(t){var r,u,i=this._curInst;!i||t&&i!==n.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(i,"showAnim"),u=this._get(i,"duration"),t=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),u,t):i.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?u:null,t),r||t(),this._datepickerShowing=!1,(t=this._get(i,"onClose"))&&t.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){var i;n.datepicker._curInst&&(i=n(t.target),t=n.datepicker._getInst(i[0]),(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===t)||n.datepicker._hideDatepicker())},_adjustDate:function(t,i,r){var u=n(t),t=this._getInst(u[0]);this._isDisabledDatepicker(u[0])||(this._adjustInstDate(t,i,r),this._updateDatepicker(t))},_gotoToday:function(t){var r=n(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear());this._notifyChange(i);this._adjustDate(r)},_selectMonthYear:function(t,i,r){var u=n(t),t=this._getInst(u[0]);t["selected"+("M"===r?"Month":"Year")]=t["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(t);this._adjustDate(u)},_selectDay:function(t,i,r,u){var f=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||((f=this._getInst(f[0])).selectedDay=f.currentDay=parseInt(n("a",u).attr("data-date")),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){t=n(t);this._selectDate(t,"")},_selectDate:function(t,i){var r=n(t),t=this._getInst(r[0]);i=null!=i?i:this._formatDate(t);t.input&&t.input.val(i);this._updateAlternate(t);(r=this._get(t,"onSelect"))?r.apply(t.input?t.input[0]:null,[i,t]):t.input&&t.input.trigger("change");t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],"object"!=typeof t.input[0]&&t.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,r,u=this._get(t,"altField");u&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),t=this.formatDate(i,r,this._getFormatConfig(t)),n(document).find(u).val(t))},noWeekends:function(n){return n=n.getDay(),[0<n&&n<6,""]},iso8601Week:function(n){var t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),n=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;for(var b,v,e,u=0,l=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,g=(r?r.dayNames:null)||this._defaults.dayNames,nt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,tt=(r?r.monthNames:null)||this._defaults.monthNames,f=-1,o=-1,s=-1,y=-1,p=!1,a=function(n){return n=h+1<t.length&&t.charAt(h+1)===n,n&&h++,n},c=function(n){var t=a(n),t="@"===n?14:"!"===n?20:"y"===n&&t?4:"o"===n?3:2,t=new RegExp("^\\d{"+("y"===n?t:1)+","+t+"}"),t=i.substring(u).match(t);if(!t)throw"Missing number at position "+u;return u+=t[0].length,parseInt(t[0],10)},k=function(t,r,f){var e=-1,r=n.map(a(t)?f:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(r,function(n,t){var r=t[1];if(i.substr(u,r.length).toLowerCase()===r.toLowerCase())return e=t[0],u+=r.length,!1}),-1!==e)return e+1;throw"Unknown name at position "+u;},w=function(){if(i.charAt(u)!==t.charAt(h))throw"Unexpected literal at position "+u;u++},h=0;h<t.length;h++)if(p)"'"!==t.charAt(h)||a("'")?w():p=!1;else switch(t.charAt(h)){case"d":s=c("d");break;case"D":k("D",d,g);break;case"o":y=c("o");break;case"m":o=c("m");break;case"M":o=k("M",nt,tt);break;case"y":f=c("y");break;case"@":f=(e=new Date(c("@"))).getFullYear();o=e.getMonth()+1;s=e.getDate();break;case"!":f=(e=new Date((c("!")-this._ticksTo1970)/1e4)).getFullYear();o=e.getMonth()+1;s=e.getDate();break;case"'":a("'")?w():p=!0;break;default:w()}if(u<i.length&&(v=i.substr(u),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=l?0:-100)),-1<y)for(o=1,s=y;;){if(s<=(b=this._getDaysInMonth(f,o-1)))break;o++;s-=b}if((e=this._daylightSavingAdjust(new Date(f,o-1,s))).getFullYear()!==f||e.getMonth()+1!==o||e.getDate()!==s)throw"Invalid date";return e},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){function e(n,t,i){var r=""+t;if(f(n))for(;r.length<i;)r="0"+r;return r}function s(n,t,i,r){return(f(n)?r:i)[t]}if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){return t=u+1<n.length&&n.charAt(u+1)===t,t&&u++,t},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){return i=t+1<n.length&&n.charAt(t+1)===i,i&&t++,i},t=0;t<n.length;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return(void 0!==n.settings[t]?n.settings:this._defaults)[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(n){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f,u,i=null==i||""===i?r:"string"==typeof i?function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(i){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)}(i):"number"==typeof i?isNaN(i)?r:(f=i,(u=new Date).setDate(u.getDate()+f),u):new Date(i.getTime());return(i=i&&"Invalid Date"===i.toString()?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(n){return n?(n.setHours(12<n.getHours()?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var r=!t,u=n.selectedMonth,f=n.selectedYear,t=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=t.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=t.getMonth();n.drawYear=n.selectedYear=n.currentYear=t.getFullYear();u===n.selectedMonth&&f===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(r?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var g,et,ot,l,st,gt,ni,ti,ii,ht,it,ri,ct,rt,c,y,lt,p,at,a,e,vt,ui,yt,w,pt,i,wt,bt,nt,b,ut,o=new Date,kt=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth(),o.getDate())),s=this._get(t,"isRTL"),fi=this._get(t,"showButtonPanel"),tt=this._get(t,"hideIfNoPrevNext"),k=this._get(t,"navigationAsDateFormat"),h=this._getNumberOfMonths(t),r=this._get(t,"showCurrentAtPos"),o=this._get(t,"stepMonths"),dt=1!==h[0]||1!==h[1],ft=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(t,"min"),v=this._getMinMaxDate(t,"max"),u=t.drawMonth-r,f=t.drawYear;if(u<0&&(u+=12,f--),v)for(g=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-h[0]*h[1]+1,v.getDate())),g=d&&g<d?d:g;this._daylightSavingAdjust(new Date(f,u,1))>g;)--u<0&&(u=11,f--);for(t.drawMonth=u,t.drawYear=f,r=this._get(t,"prevText"),r=k?this.formatDate(r,this._daylightSavingAdjust(new Date(f,u-o,1)),this._getFormatConfig(t)):r,et=this._canAdjustMonth(t,-1,f,u)?n("<a>").attr({"class":"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:r}).append(n("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(s?"e":"w")).text(r))[0].outerHTML:tt?"":n("<a>").attr({"class":"ui-datepicker-prev ui-corner-all ui-state-disabled",title:r}).append(n("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(s?"e":"w")).text(r))[0].outerHTML,r=this._get(t,"nextText"),r=k?this.formatDate(r,this._daylightSavingAdjust(new Date(f,u+o,1)),this._getFormatConfig(t)):r,ot=this._canAdjustMonth(t,1,f,u)?n("<a>").attr({"class":"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:r}).append(n("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(s?"w":"e")).text(r))[0].outerHTML:tt?"":n("<a>").attr({"class":"ui-datepicker-next ui-corner-all ui-state-disabled",title:r}).append(n("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(s?"w":"e")).text(r))[0].outerHTML,o=this._get(t,"currentText"),tt=this._get(t,"gotoCurrent")&&t.currentDay?ft:kt,o=k?this.formatDate(o,tt,this._getFormatConfig(t)):o,r="",t.inline||(r=n("<button>").attr({type:"button","class":"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(t,"closeText"))[0].outerHTML),k="",fi&&(k=n("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(s?r:"").append(this._isInRange(t,tt)?n("<button>").attr({type:"button","class":"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(o):"").append(s?"":r)[0].outerHTML),l=parseInt(this._get(t,"firstDay"),10),l=isNaN(l)?0:l,st=this._get(t,"showWeek"),gt=this._get(t,"dayNames"),ni=this._get(t,"dayNamesMin"),ti=this._get(t,"monthNames"),ii=this._get(t,"monthNamesShort"),ht=this._get(t,"beforeShowDay"),it=this._get(t,"showOtherMonths"),ri=this._get(t,"selectOtherMonths"),ct=this._getDefaultDate(t),rt="",y=0;y<h[0];y++){for(lt="",this.maxRows=4,p=0;p<h[1];p++){if(at=this._daylightSavingAdjust(new Date(f,u,t.selectedDay)),a=" ui-corner-all",e="",dt){if(e+="<div class='ui-datepicker-group",1<h[1])switch(p){case 0:e+=" ui-datepicker-group-first";a=" ui-corner-"+(s?"right":"left");break;case h[1]-1:e+=" ui-datepicker-group-last";a=" ui-corner-"+(s?"left":"right");break;default:e+=" ui-datepicker-group-middle";a=""}e+="'>"}for(e+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+a+"'>"+(/all|left/.test(a)&&0===y?s?ot:et:"")+(/all|right/.test(a)&&0===y?s?et:ot:"")+this._generateMonthYearHeader(t,u,f,d,v,0<y||0<p,ti,ii)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",vt=st?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"<\/th>":"",c=0;c<7;c++)vt+="<th scope='col'"+(5<=(c+l+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+gt[ui=(c+l)%7]+"'>"+ni[ui]+"<\/span><\/th>";for(e+=vt+"<\/tr><\/thead><tbody>",w=this._getDaysInMonth(f,u),f===t.selectedYear&&u===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,w)),yt=(this._getFirstDayOfMonth(f,u)-l+7)%7,w=Math.ceil((yt+w)/7),pt=dt&&this.maxRows>w?this.maxRows:w,this.maxRows=pt,i=this._daylightSavingAdjust(new Date(f,u,1-yt)),wt=0;wt<pt;wt++){for(e+="<tr>",bt=st?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(i)+"<\/td>":"",c=0;c<7;c++)nt=ht?ht.apply(t.input?t.input[0]:null,[i]):[!0,""],ut=(b=i.getMonth()!==u)&&!ri||!nt[0]||d&&i<d||v&&v<i,bt+="<td class='"+(5<=(c+l+6)%7?" ui-datepicker-week-end":"")+(b?" ui-datepicker-other-month":"")+(i.getTime()===at.getTime()&&u===t.selectedMonth&&t._keyEvent||ct.getTime()===i.getTime()&&ct.getTime()===at.getTime()?" "+this._dayOverClass:"")+(ut?" "+this._unselectableClass+" ui-state-disabled":"")+(b&&!it?"":" "+nt[1]+(i.getTime()===ft.getTime()?" "+this._currentClass:"")+(i.getTime()===kt.getTime()?" ui-datepicker-today":""))+"'"+(b&&!it||!nt[2]?"":" title='"+nt[2].replace(/'/g,"&#39;")+"'")+(ut?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(b&&!it?"&#xa0;":ut?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===kt.getTime()?" ui-state-highlight":"")+(i.getTime()===ft.getTime()?" ui-state-active":"")+(b?" ui-priority-secondary":"")+"' href='#' aria-current='"+(i.getTime()===ft.getTime()?"true":"false")+"' data-date='"+i.getDate()+"'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);e+=bt+"<\/tr>"}11<++u&&(u=0,f++);lt+=e+="<\/tbody><\/table>"+(dt?"<\/div>"+(0<h[0]&&p===h[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"")}rt+=lt}return rt+=k,t._keyEvent=!1,rt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var b,k,h,v,s,a,y=this._get(n,"changeMonth"),p=this._get(n,"changeYear"),d=this._get(n,"showMonthAfterYear"),w=this._get(n,"selectMonthLabel"),g=this._get(n,"selectYearLabel"),c="<div class='ui-datepicker-title'>",l="";if(f||!y)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(b=r&&r.getFullYear()===i,k=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' aria-label='"+w+"' data-handler='selectMonth' data-event='change'>",h=0;h<12;h++)(!b||h>=r.getMonth())&&(!k||h<=u.getMonth())&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(d||(c+=l+(!f&&y&&p?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!p)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(e=this._get(n,"yearRange").split(":"),v=(new Date).getFullYear(),s=(w=function(n){return n=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?v+parseInt(n,10):parseInt(n,10),isNaN(n)?v:n})(e[0]),a=Math.max(s,w(e[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' aria-label='"+g+"' data-handler='selectYear' data-event='change'>";s<=a;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),d&&(c+=(!f&&y&&p?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var r=n.selectedYear+("Y"===i?t:0),u=n.selectedMonth+("M"===i?t:0),t=Math.min(n.selectedDay,this._getDaysInMonth(r,u))+("D"===i?t:0),t=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(r,u,t)));n.selectedDay=t.getDate();n.drawMonth=n.selectedMonth=t.getMonth();n.drawYear=n.selectedYear=t.getFullYear();"M"!==i&&"Y"!==i||this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),n=this._getMinMaxDate(n,"max"),t=i&&t<i?i:t;return n&&n<t?n:t},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){return n=this._get(n,"numberOfMonths"),null==n?[1,1]:"number"==typeof n?[1,n]:n},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var u=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(t<0?t:u[0]*u[1]),1));return t<0&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var f=this._getMinMaxDate(n,"min"),e=this._getMinMaxDate(n,"max"),r=null,u=null,i=this._get(n,"yearRange");return i&&(n=i.split(":"),i=(new Date).getFullYear(),r=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(r+=i),n[1].match(/[+\-].*/)&&(u+=i)),(!f||t.getTime()>=f.getTime())&&(!e||t.getTime()<=e.getTime())&&(!r||t.getFullYear()>=r)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){return t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear),t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay)),this.formatDate(this._get(n,"dateFormat"),t,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).on("mousedown",n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})};n.datepicker=new yi;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.13.1";n.datepicker;n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());l=!1;n(document).on("mouseup",function(){l=!1});n.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).on("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!l){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,r=1===t.which,u=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&n(t.target).closest(this.options.cancel).length;return r&&!u&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),l=!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(n.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);this.ignoreMissingWhich=!1;l=!1;t.preventDefault()},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;u<f.length;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};n.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&n(t).trigger("blur")};n.widget("ui.draggable",n.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(n,t){this._super(n,t);"handle"===n&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||0<n(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=n.ui.safeActiveElement(this.document[0]);n(t.target).closest(i).length||n.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(n){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:n.pageX-this.offset.left,top:n.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){if(i=this._uiHash(),!1===this._trigger("drag",t,i))return this._mouseUp(new n.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==r._trigger("stop",t)&&r._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new n.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!n(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,r="function"==typeof i.helper,t=r?n(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return t.parents("body").length||t.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),r&&t[0]===this.element[0]&&this._setPositionRelative(),t[0]===this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(n){"string"==typeof n&&(n=n.split(" "));"left"in(n=Array.isArray(n)?{left:+n[0],top:+n[1]||0}:n)&&(this.offset.click.left=n.left+this.margins.left);"right"in n&&(this.offset.click.left=this.helperProportions.width-n.right+this.margins.left);"top"in n&&(this.offset.click.top=n.top+this.margins.top);"bottom"in n&&(this.offset.click.top=this.helperProportions.height-n.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:n.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,r,i=this.options,u=this.document[0];this.relativeContainer=null;i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(t=n(i.containment))[0])&&(f=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=i.containment:this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(n,t){t=t||this.position;var i="absolute"===n?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,r=this.options,e=this._isRootNode(this.scrollParent[0]),u=n.pageX,f=n.pageY;return e&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(i=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,n.pageX-this.offset.click.left<i[0]&&(u=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(f=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(u=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(f=i[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,f=!i||n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-r.grid[1]:n+r.grid[1],n=r.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,u=!i||n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]),"y"===r.axis&&(u=this.originalPageX),"x"===r.axis&&(f=this.originalPageY)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=n.extend({},i,{item:r.element});r.sortables=[];n(r.options.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,u))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});r.cancelHelperRemoval=!1;n.each(r.sortables,function(){var n=this;n.isOver?(n.isOver=0,r.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(t),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",t,u))})},drag:function(t,i,r){n.each(r.sortables,function(){var f=!1,u=this;u.positionAbs=r.positionAbs;u.helperProportions=r.helperProportions;u.offset.click=r.offset.click;u._intersectsWith(u.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,f=this!==u&&this._intersectsWith(this.containerCache)&&n.contains(u.element[0],this.element[0])?!1:f}));f?(u.isOver||(u.isOver=1,r._parent=i.helper.parent(),u.currentItem=i.helper.appendTo(u.element).data("ui-sortable-item",!0),u.options._helper=u.options.helper,u.options.helper=function(){return i.helper[0]},t.target=u.currentItem[0],u._mouseCapture(t,!0),u._mouseStart(t,!0,!0),u.offset.click.top=r.offset.click.top,u.offset.click.left=r.offset.click.left,u.offset.parent.left-=r.offset.parent.left-u.offset.parent.left,u.offset.parent.top-=r.offset.parent.top-u.offset.parent.top,r._trigger("toSortable",t),r.dropped=u.element,n.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,u.fromOutside=r),u.currentItem&&(u._mouseDrag(t),i.position=u.position)):u.isOver&&(u.isOver=0,u.cancelHelperRemoval=!0,u.options._revert=u.options.revert,u.options.revert=!1,u._trigger("out",t,u._uiHash(u)),u._mouseStop(t,!0),u.options.revert=u.options._revert,u.options.helper=u.options._helper,u.placeholder&&u.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,n.each(r.sortables,function(){this.refreshPositions()}))})}});n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),r=r.options;u.css("cursor")&&(r._cursor=u.css("cursor"));u.css("cursor",r.cursor)},stop:function(t,i,r){r=r.options;r._cursor&&n("body").css("cursor",r._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){i=n(i.helper);r=r.options;i.css("opacity")&&(r._opacity=i.css("opacity"));i.css("opacity",r.opacity)},stop:function(t,i,r){r=r.options;r._opacity&&n(i.helper).css("opacity",r._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1));i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&"HTML"!==e.tagName?(u.axis&&"x"===u.axis||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&"y"===u.axis||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&"x"===u.axis||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&"y"===u.axis||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed))));!1!==o&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[];n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,o,s,h,c,l,a,v,w,b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;0<=u;u--)l=(c=r.snapElements[u].left-r.margins.left)+r.snapElements[u].width,v=(a=r.snapElements[u].top-r.margins.top)+r.snapElements[u].height,k<c-f||l+f<y||d<a-f||v+f<p||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=Math.abs(a-d)<=f,o=Math.abs(v-p)<=f,s=Math.abs(c-k)<=f,h=Math.abs(l-y)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:a-r.helperProportions.height,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:l}).left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=Math.abs(a-p)<=f,o=Math.abs(v-d)<=f,s=Math.abs(c-y)<=f,h=Math.abs(l-k)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:a,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var u,r=r.options,r=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});r.length&&(u=parseInt(n(r[0]).css("zIndex"),10)||0,n(r).each(function(t){n(this).css("zIndex",u+t)}),this.css("zIndex",u+r.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){i=n(i.helper);r=r.options;i.css("zIndex")&&(r._zIndex=i.css("zIndex"));i.css("zIndex",r.zIndex)},stop:function(t,i,r){r=r.options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}});n.ui.draggable;n.widget("ui.resizable",n.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseFloat(n)||0},_isNumber:function(n){return!isNaN(parseFloat(n))},_hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",i=!1;if(0<t[r])return!0;try{t[r]=1;i=0<t[r];t[r]=0}catch(t){}return i},_create:function(){var r,t=this.options,i=this;this._addClass("ui-resizable");n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(n("<div class='ui-wrapper'><\/div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,r={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(r),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(r),this._proportionallyResize());this._setupHandles();t.autoHide&&n(this.element).on("mouseenter",function(){t.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){t.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())});this._mouseInit()},_destroy:function(){function i(t){n(t).removeData("resizable").removeData("ui-resizable").off(".resizable")}this._mouseDestroy();this._addedHandles.remove();var t;return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(n,t){switch(this._super(n,t),n){case"handles":this._removeHandles();this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var i,r,u,o,t,f=this.options,e=this;if(this.handles=f.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=n(),this._addedHandles=n(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),u=this.handles.split(","),this.handles={},r=0;r<u.length;r++)o="ui-resizable-"+(i=String.prototype.trim.call(u[r])),t=n("<div>"),this._addClass(t,"ui-resizable-handle "+o),t.css({zIndex:f.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.children(this.handles[i]).length||(this.element.append(t),this._addedHandles=this._addedHandles.add(t));this._renderAxis=function(t){var i,r,u;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=n(this.handles[i]),this._on(this.handles[i],{mousedown:e._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=n(this.handles[i],this.element),u=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,u),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){e.resizing||(this.className&&(t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),e.axis=t&&t[1]?t[1]:"se")});f.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var i,r,u=!1;for(i in this.handles)((r=n(this.handles[i])[0])===t.target||n.contains(r,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var u,f,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),u=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),r.containment&&(u+=n(r.containment).scrollLeft()||0,f+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:u,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:u,top:f},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i=this.originalMousePosition,r=this.axis,u=t.pageX-i.left||0,i=t.pageY-i.top||0,r=this._change[r];return this._updatePrevProperties(),r&&(i=r.apply(this,[t,u,i]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var u,r,f,e=this.options,i=this;return this._helper&&(f=(u=(r=this._proportionallyResizeElements).length&&/textarea/i.test(r[0].nodeName))&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,r=u?0:i.sizeDiff.width,u={width:i.helper.width()-r,height:i.helper.height()-f},r=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,f=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null,e.animate||this.element.css(n.extend(u,{top:f,left:r})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!e.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var r,u,i=this.options,t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||n)&&(r=t.minHeight*this.aspectRatio,u=t.minWidth/this.aspectRatio,i=t.maxHeight*this.aspectRatio,n=t.maxWidth/this.aspectRatio,r>t.minWidth&&(t.minWidth=r),u>t.minHeight&&(t.minHeight=u),i<t.maxWidth&&(t.maxWidth=i),n<t.maxHeight&&(t.maxHeight=n));this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset();this._isNumber(n.left)&&(this.position.left=n.left);this._isNumber(n.top)&&(this.position.top=n.top);this._isNumber(n.height)&&(this.size.height=n.height);this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,i=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===r&&(n.left=t.left+(i.width-n.width),n.top=null),"nw"===r&&(n.top=t.top+(i.height-n.height),n.left=t.left+(i.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,r=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,u=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,f=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,o=this.originalPosition.left+this.originalSize.width,s=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return f&&(n.width=t.minWidth),e&&(n.height=t.minHeight),r&&(n.width=t.maxWidth),u&&(n.height=t.maxHeight),f&&h&&(n.left=o-t.minWidth),r&&h&&(n.left=o-t.maxWidth),e&&i&&(n.top=s-t.minHeight),u&&i&&(n.top=s-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var t=0,i=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];t<4;t++)i[t]=parseFloat(r[t])||0,i[t]+=parseFloat(u[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var n,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)n=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(n)),n.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div><\/div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize;return{top:this.originalPosition.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),o=i.options,r=i._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,u={width:i.size.width-e,height:i.size.height-f},e=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,f=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(u,f&&e?{top:f,left:e}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var u={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var u,e,t=n(this).resizable("instance"),o=t.options,f=t.element,i=o.containment,r=i instanceof n?i.get(0):/parent/.test(i)?f.parent().get(0):i;r&&(t.containerElement=n(r),/document/.test(i)||i===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(u=n(r),e=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){e[n]=t._num(u.css("padding"+i))}),t.containerOffset=u.offset(),t.containerPosition=u.position(),t.containerSize={height:u.innerHeight()-e[3],width:u.innerWidth()-e[1]},o=t.containerOffset,f=t.containerSize.height,i=t.containerSize.width,i=t._hasScroll(r,"left")?r.scrollWidth:i,f=t._hasScroll(r)?r.scrollHeight:f,t.parentData={element:r,left:o.left,top:o.top,width:i,height:f}))},resize:function(t){var i=n(this).resizable("instance"),o=i.options,r=i.containerOffset,u=i.position,f=i._aspectRatio||t.shiftKey,e={top:0,left:0},s=i.containerElement,t=!0;s[0]!==document&&/static/.test(s.css("position"))&&(e=r);u.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-e.left),f&&(i.size.height=i.size.width/i.aspectRatio,t=!1),i.position.left=o.helper?r.left:0);u.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio,t=!1),i.position.top=i._helper?r.top:0);o=i.containerElement.get(0)===i.element.parent().get(0);u=/relative|absolute/.test(i.containerElement.css("position"));o&&u?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top);u=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-e.left:i.offset.left-r.left));r=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-e.top:i.offset.top-r.top));u+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-u,f&&(i.size.height=i.size.width/i.aspectRatio,t=!1));r+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-r,f&&(i.size.width=i.size.height*i.aspectRatio,t=!1));t||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,i=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:i});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:i})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).resizable("instance").options;n(t.alsoResize).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var r=n(this).resizable("instance"),e=r.options,u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0};n(e.alsoResize).each(function(){var t=n(this),u=n(this).data("ui-resizable-alsoresize"),r={},f=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(f,function(n,t){var i=(u[t]||0)+(o[t]||0);i&&0<=i&&(r[t]=i||null)});t.css(r)})},stop:function(){n(this).removeData("ui-resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0});t._addClass(t.ghost,"ui-resizable-ghost");!1!==n.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost);t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var h,t=n(this).resizable("instance"),i=t.options,c=t.size,o=t.originalSize,s=t.originalPosition,l=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,f=a[0]||1,e=a[1]||1,v=Math.round((c.width-o.width)/f)*f,y=Math.round((c.height-o.height)/e)*e,r=o.width+v,u=o.height+y,p=i.maxWidth&&i.maxWidth<r,w=i.maxHeight&&i.maxHeight<u,b=i.minWidth&&i.minWidth>r,c=i.minHeight&&i.minHeight>u;i.grid=a;b&&(r+=f);c&&(u+=e);p&&(r-=f);w&&(u-=e);/^(se|s|e)$/.test(l)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(l)?(t.size.width=r,t.size.height=u,t.position.top=s.top-y):/^(sw)$/.test(l)?(t.size.width=r,t.size.height=u,t.position.left=s.left-v):((u-e<=0||r-f<=0)&&(h=t._getPaddingPlusBorderDimensions(this)),0<u-e?(t.size.height=u,t.position.top=s.top-y):(u=e-h.height,t.size.height=u,t.position.top=s.top+o.height-u),0<r-f?(t.size.width=r,t.position.left=s.left-v):(r=f-h.width,t.size.width=r,t.position.left=s.left+o.width-r))}});n.ui.resizable;n.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center","of":window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=!1);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);(n=t.parent.children().eq(t.index)).length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||n.ui.safeBlur(n.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,u=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),u=Math.max.apply(null,u);return u>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",u+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=n(n.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var n=this._focusedElement;(n=(n=(n=(n=(n=n||this.element.find("[autofocus]")).length?n:this.element.find(":tabbable")).length?n:this.uiDialogButtonPane.find(":tabbable")).length?n:this.uiDialogTitlebarClose.filter(":tabbable")).length?n:this.uiDialog).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=n.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||n.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(n){n.preventDefault();this._restoreTabbableFocus();this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=n("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);var i,r,u;t.keyCode!==n.ui.keyCode.TAB||t.isDefaultPrevented()||(i=this.uiDialog.find(":tabbable"),r=i.first(),u=i.last(),t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){u.trigger("focus")}),t.preventDefault()):(this._delay(function(){r.trigger("focus")}),t.preventDefault()))},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=n("<button type='button'><\/button>").button({label:n("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(t,"ui-dialog-title");this._title(t);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title?n.text(this.options.title):n.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();n.isEmptyObject(t)||Array.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(n.each(t,function(t,r){var u;r=n.extend({type:"button"},r="function"==typeof r?{click:r,text:t}:r);u=r.click;t={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text};delete r.click;delete r.icon;delete r.iconPosition;delete r.showLabel;delete r.icons;"boolean"==typeof r.text&&delete r.text;n("<button><\/button>",r).button(t).appendTo(i.uiButtonSet).on("click",function(){u.apply(i.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){t._addClass(n(this),"ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){var e=f.offset.left-t.document.scrollLeft(),o=f.offset.top-t.document.scrollTop();r.position={my:"left top",at:"left"+(0<=e?"+":"")+e+" top"+(0<=o?"+":"")+o,"of":t.window};t._removeClass(n(this),"ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function u(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var t=this,i=this.options,r=i.resizable,f=this.uiDialog.css("position"),r="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:r,start:function(i,r){t._addClass(n(this),"ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",i,u(r))},resize:function(n,i){t._trigger("resize",n,u(i))},stop:function(r,f){var e=t.uiDialog.offset(),o=e.left-t.document.scrollLeft(),e=e.top-t.document.scrollTop();i.height=t.uiDialog.height();i.width=t.uiDialog.width();i.position={my:"left top",at:"left"+(0<=o?"+":"")+o+" top"+(0<=e?"+":"")+e,"of":t.window};t._removeClass(n(this),"ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",r,u(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=n(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=n.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var n=this.document.data("ui-dialog-instances");return n||this.document.data("ui-dialog-instances",n=[]),n},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,u={};n.each(t,function(n,t){i._setOption(n,t);n in i.sizeRelatedOptions&&(r=!0);n in i.resizableRelatedOptions&&(u[n]=t)});r&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(t,i){var r,u=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:n("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((r=u.is(":data(ui-draggable)"))&&!i&&u.draggable("destroy"),!r&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((r=u.is(":data(ui-resizable)"))&&!i&&u.resizable("destroy"),r&&"string"==typeof i&&u.resizable("option","handles",i),r||!1===i||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none";"auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!n(t.target).closest(".ui-dialog").length||!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){var t,i;this.options.modal&&(t=n.fn.jquery.substring(0,4),i=!0,this._delay(function(){i=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(n){var r;i||(r=this._trackingInstances()[0])._allowInteraction(n)||(n.preventDefault(),r._focusTabbable(),"3.4."!==t&&"3.5."!==t||r._delay(r._restoreTabbableFocus))}.bind(this)),this.overlay=n("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var n;this.options.modal&&this.overlay&&((n=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",n):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}});!1!==n.uiBackCompat&&n.widget("ui.dialog",n.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(n,t){"dialogClass"===n&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t);this._superApply(arguments)}});n.ui.dialog;n.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var n,t=this.options,i=t.accept;this.isover=!1;this.isout=!0;this.accept="function"==typeof i?i:function(n){return n.is(i)};this.proportions=function(){if(!arguments.length)return n=n||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};n=arguments[0]};this._addToManager(t.scope);t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){n.ui.ddmanager.droppables[t]=n.ui.ddmanager.droppables[t]||[];n.ui.ddmanager.droppables[t].push(this)},_splice:function(n){for(var t=0;t<n.length;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var t=n.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){var r;"accept"===t?this.accept="function"==typeof i?i:function(n){return n.is(i)}:"scope"===t&&(r=n.ui.ddmanager.droppables[this.options.scope],this._splice(r),this._addToManager(i));this._super(t,i)},_activate:function(t){var i=n.ui.ddmanager.current;this._addActiveClass();i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this._removeActiveClass();i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return!(u=!0)}),!u&&!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(r)),this.element))},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});n.ui.intersect=function(n,t,i,r){if(!t.offset)return!1;var e=(n.positionAbs||n.position.absolute).left+n.margins.left,o=(n.positionAbs||n.position.absolute).top+n.margins.top,s=e+n.helperProportions.width,h=o+n.helperProportions.height,u=t.offset.left,f=t.offset.top,c=u+t.proportions().width,l=f+t.proportions().height;switch(i){case"fit":return u<=e&&s<=c&&f<=o&&h<=l;case"intersect":return u<e+n.helperProportions.width/2&&s-n.helperProportions.width/2<c&&f<o+n.helperProportions.height/2&&h-n.helperProportions.height/2<l;case"pointer":return bi(r.pageY,f,t.proportions().height)&&bi(r.pageX,u,t.proportions().width);case"touch":return(f<=o&&o<=l||f<=h&&h<=l||o<f&&l<h)&&(u<=e&&e<=c||u<=s&&s<=c||e<u&&c<s);default:return!1}};!(n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;r<u.length;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}u[r].visible="none"!==u[r].element.css("display");u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){var r,e,f,u;this.options.disabled||this.greedyChild||!this.visible||(u=!(f=n.ui.intersect(t,this,this.options.tolerance,i))&&this.isover?"isout":f&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,(f=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===e})).length&&((r=n(f[0]).droppable("instance")).greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}})!==n.uiBackCompat&&n.widget("ui.droppable",n.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});n.ui.droppable;n.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=n("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(n){if(void 0===n)return this.options.value;this.options.value=this._constrainedValue(n);this._refreshValue()},_constrainedValue:function(n){return void 0===n&&(n=this.options.value),this.indeterminate=!1===n,"number"!=typeof n&&(n=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t));this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n);this._toggleClass(null,"ui-state-disabled",!!n)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(i.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}});n.widget("ui.selectable",n.ui.mouse,{version:"1.13.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t.elementPos=n(t.element[0]).offset();t.selectees=n(t.options.filter,t.element[0]);t._addClass(t.selectees,"ui-selectee");t.selectees.each(function(){var i=n(this),r=i.offset(),r={left:r.left-t.elementPos.left,top:r.top-t.elementPos.top};n.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=n("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY];this.elementPos=n(this.element[0]).offset();this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,u?"ui-unselecting":"ui-selected")._addClass(r.$element,u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,(r.selected=u)?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var o,i=this,s=this.options,r=this.opos[0],u=this.opos[1],f=t.pageX,e=t.pageY;return f<r&&(o=f,f=r,r=o),e<u&&(o=e,e=u,u=o),this.helper.css({left:r,top:u,width:f-r,height:e-u}),this.selectees.each(function(){var o=n.data(this,"selectable-item"),c=!1,h={};o&&o.element!==i.element[0]&&(h.left=o.left+i.elementPos.left,h.right=o.right+i.elementPos.left,h.top=o.top+i.elementPos.top,h.bottom=o.bottom+i.elementPos.top,"touch"===s.tolerance?c=!(h.left>f||h.right<r||h.top>e||h.bottom<u):"fit"===s.tolerance&&(c=h.left>r&&h.right<f&&h.top>u&&h.bottom<e),c?(o.selected&&(i._removeClass(o.$element,"ui-selected"),o.selected=!1),o.unselecting&&(i._removeClass(o.$element,"ui-unselecting"),o.unselecting=!1),o.selecting||(i._addClass(o.$element,"ui-selecting"),o.selecting=!0,i._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,i._addClass(o.$element,"ui-selected"),o.selected=!0):(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,o.startselected&&(i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0),i._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(i._removeClass(o.$element,"ui-selected"),o.selected=!1,i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0,i._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.widget("ui.selectmenu",[n.ui.formResetMixin,{version:"1.13.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=!1;this.menuItems=n()},_drawButton:function(){var t,i=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(n){this.button.trigger("focus");n.preventDefault()}});this.element.hide();this.button=n("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");t=n("<span>").appendTo(this.button);this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(r).appendTo(this.button);!1!==this.options.width&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=n("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(n,i){n.preventDefault();t._setSelection();t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){i=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",n,{item:i}),t.isOpen||t._select(i,n));t.focusIndex=i.index;t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var n=this.element.find("option");this.menu.empty();this._parseOptions(n);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=!0;n.length&&(n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n)))},_position:function(){this.menuWrap.position(n.extend({"of":this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var i=n("<span>");return this._setText(i,t.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(t,i){var r=this,u="";n.each(i,function(i,f){var e;f.optgroup!==u&&(e=n("<li>",{text:f.optgroup}),r._addClass(e,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),e.appendTo(t),u=f.optgroup);r._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=n("<li>"),u=n("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(r,null,"ui-state-disabled"),this._setText(u,i.label),r.append(u).appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var r,i=".ui-menu-item";this.isOpen?r=this.menuItems.eq(this.focusIndex).parent("li"):(r=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),i+=":not(.ui-state-disabled)");(i="first"===n||"last"===n?r["first"===n?"prevAll":"nextAll"](i).eq(-1):r[n+"All"](i).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_setSelection:function(){var n;this.range&&(window.getSelection?((n=window.getSelection()).removeAllRanges(),n.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+n.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var n;window.getSelection?(n=window.getSelection()).rangeCount&&(this.range=n.getRangeAt(0)):this.range=document.selection.createRange()},click:function(n){this._setSelection();this._toggle(n)},keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t);i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(n));this._setAria(n);this._trigger("select",t,{item:n});n.index!==i&&this._trigger("change",t,{item:n});this.close(t)},_setAria:function(n){n=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":n,"aria-activedescendant":n});this.menu.attr("aria-activedescendant",n)},_setOption:function(n,t){var i;"icons"===n&&(i=this.button.find("span.ui-icon"),this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button));this._super(n,t);"appendTo"===n&&this.menuWrap.appendTo(this._appendTo());"width"===n&&this._resizeButton()},_setOptionDisabled:function(n){this._super(n);this.menuInstance.option("disabled",n);this.button.attr("aria-disabled",n);this._toggleClass(this.button,null,"ui-state-disabled",n);this.element.prop("disabled",n);n?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return(t=!(t=t&&(t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?t:this.document[0].body},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var n=this.options.width;!1!==n?(null===n&&(n=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(n)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var n=this._super();return n.disabled=this.element.prop("disabled"),n},_parseOptions:function(t){var r=this,i=[];t.each(function(t,u){u.hidden||i.push(r._parseOption(n(u),t))});this.items=i},_parseOption:function(n,t){var i=n.parent("optgroup");return{element:n,index:t,value:n.val(),label:n.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||n.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);n.widget("ui.slider",n.ui.mouse,{version:"1.13.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,u=this.options,t=this.element.find(".ui-slider-handle"),f=[],i=u.values&&u.values.length||1;for(t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;r<i;r++)f.push("<span tabindex='0'><\/span>");this.handles=t.add(n(f.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=n("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(t){var e,r,i,u,o,f,s=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),f={x:t.pageX,y:t.pageY},e=this._normValueFromMouse(f),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var f=Math.abs(e-s.values(t));(f<r||r===f&&(t===s._lastChangedValue||s.values(t)===h.min))&&(r=f,i=n(this),u=t)}),!1!==this._start(t,u)&&(this._mouseSliding=!0,this._handleIndex=u,this._addClass(i,null,"ui-state-active"),i.trigger("focus"),o=i.offset(),f=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-o.left-i.width()/2,top:t.pageY-o.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,e),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},t=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,t),!1},_mouseStop:function(n){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var t,n="horizontal"===this.orientation?(t=this.elementSize.width,n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=n/t;return(n=1<n?1:n)<0&&(n=0),"vertical"===this.orientation&&(n=1-n),t=this._valueMax()-this._valueMin(),t=this._valueMin()+n*t,this._trimAlignValue(t)},_uiHash:function(n,t,i){var r={handle:this.handles[n],handleIndex:n,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(n),r.values=i||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(n,t){return this._trigger("start",n,this._uiHash(t))},_slide:function(n,t,i){var r,u=this.value(),f=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),u=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(r,i):Math.max(r,i)),f[t]=i);i!==u&&!1!==this._trigger("slide",n,this._uiHash(t,i,f))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(n,t){this._trigger("stop",n,this._uiHash(t))},_change:function(n,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",n,this._uiHash(t)))},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),void this._change(null,0)):this._value()},values:function(n,t){var r,u,i;if(1<arguments.length)return this.options.values[n]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,n);if(!arguments.length)return this._values();if(!Array.isArray(n))return this._hasMultipleValues()?this._values(n):this.value();for(r=this.options.values,u=n,i=0;i<r.length;i+=1)r[i]=this._trimAlignValue(u[i]),this._change(null,i);this._refreshValue()},_setOption:function(n,t){var i,r=0;switch("range"===n&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(n,t),n){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(t);this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_setOptionDisabled:function(n){this._super(n);this._toggleClass(null,"ui-state-disabled",!!n)},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var t,i;if(arguments.length)return n=this.options.values[n],n=this._trimAlignValue(n);if(this._hasMultipleValues()){for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(n-this._valueMin())%t,n=n-i;return 2*Math.abs(i)>=t&&(n+=0<i?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var n=this.options.max,i=this._valueMin(),t=this.options.step;(n=Math.round((n-i)/t)*t+i)>this.options.max&&(n-=t);this.max=parseFloat(n.toFixed(this._precision()))},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(n,this._precisionOf(this.options.min)):n},_precisionOf:function(n){var t=n.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(n){"vertical"===n&&this.range.css({width:"",left:""});"horizontal"===n&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=!this._animateOff&&i.animate,o={};this._hasMultipleValues()?this.handles.each(function(f){t=(r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin())*100;o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);!0===r.options.range&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?(c-f)/(h-f)*100:0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-t+"%"},i.animate),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-t+"%"},i.animate))},_handleEvents:{keydown:function(t){var r,i,u,f=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(n(t.target),null,"ui-state-active"),!1===this._start(t,f)))return}switch(u=this.options.step,r=i=this._hasMultipleValues()?this.values(f):this.value(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+u);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-u)}this._slide(t,f,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(n(t.target),null,"ui-state-active"))}}});n.widget("ui.sortable",n.ui.mouse,{version:"1.13.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return t<=n&&n<t+i},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(n,t){this._super(n,t);"handle"===n&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");n.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var n=this.items.length-1;0<=n;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return!this.reverting&&!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return r=n(this),!1}),!!(r=n.data(t.target,u.widgetName+"-item")===u?n(t.target):r)&&!(this.options.handle&&!i&&(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),!f))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))},_mouseStart:function(t,i,r){var f,e,u=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=n("parent"!==u.appendTo?u.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),n.extend(this.offset,{parent:this._getParentOffset()}),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(n){var t=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-n.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+t.scrollSpeed:n.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-n.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+t.scrollSpeed:n.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(n.pageY-this.document.scrollTop()<t.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(n.pageY-this.document.scrollTop())<t.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),n.pageX-this.document.scrollLeft()<t.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(n.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),i},_mouseDrag:function(t){var u,i,r,f,e=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),n.ui.ddmanager&&!e.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},u=this.items.length-1;0<=u;u--)if(r=(i=this.items[u]).item[0],(f=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===f?"next":"prev"]()[0]===r||n.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&n.contains(this.element[0],r))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){var e,f,r,u;if(t)return n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert?(f=(e=this).placeholder.offset(),u={},(r=this.options.axis)&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})):this._clear(t,i),!1},cancel:function(){if(this.dragging){this._mouseUp(new n.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,o=r+n.width,u=n.top,s=u+n.height,f=this.offset.click.top,e=this.offset.click.left,f="x"===this.options.axis||u<i+f&&i+f<s,e="y"===this.options.axis||r<t+e&&t+e<o;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?f&&e:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<o&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<s},_intersectsWithPointer:function(n){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width);return!(!t||!n)&&(t=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(n){var i=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),r=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this.dragDirection.vertical,n=this.dragDirection.horizontal;return this.floating&&n?"right"===n&&r||"left"===n&&!r:t&&("down"===t&&i||"up"===t&&!i)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!=n&&(0<n?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!=n&&(0<n?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,o,i,s=[],f=[],e=this._connectWith();if(e&&t)for(r=e.length-1;0<=r;r--)for(u=(o=n(e[r],this.document[0])).length-1;0<=u;u--)(i=n.data(o[u],this.widgetFullName))&&i!==this&&!i.options.disabled&&f.push(["function"==typeof i.options.items?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;0<=r;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,s,i,e,h,c,l,a=this.items,f=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],o=this._connectWith();if(o&&this.ready)for(r=o.length-1;0<=r;r--)for(u=(s=n(o[r],this.document[0])).length-1;0<=u;u--)(i=n.data(s[u],this.widgetFullName))&&i!==this&&!i.options.disabled&&(f.push(["function"==typeof i.options.items?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;0<=r;r--)for(e=f[r][1],l=(h=f[r][u=0]).length;u<l;u++)(c=n(h[u])).data(this.widgetName+"-item",e),a.push({item:c,instance:e,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){for(var i,r,u=this.items.length-1;0<=u;u--)i=this.items[u],this.currentContainer&&i.instance!==this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?n(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),r=r.offset(),i.left=r.left,i.top=r.top)},refreshPositions:function(n){var t,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(n),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)i=this.containers[t].element.offset(),this.containers[t].containerCache.left=i.left,this.containers[t].containerCache.top=i.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(t){var u,r,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(u=i.placeholder,r=t.currentItem[0].nodeName.toLowerCase(),i.placeholder={element:function(){var i=n("<"+r+">",t.document[0]);return t._addClass(i,"ui-sortable-placeholder",u||t.currentItem[0].className)._removeClass(i,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),n("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),u||i.css("visibility","hidden"),i},update:function(n,f){u&&!i.forcePlaceholderSize||(f.height()&&(!i.forcePlaceholderSize||"tbody"!==r&&"tr"!==r)||f.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),f.width()||f.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){n("<td>&#160;<\/td>",r.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){for(var u,h,f,a,v,o,c,l,s,e=null,i=null,r=this.containers.length-1;0<=r;r--)n.contains(this.currentItem[0],this.containers[r].element[0])||(this._intersectsWith(this.containers[r].containerCache)?e&&n.contains(this.containers[r].element[0],e.element[0])||(e=this.containers[r],i=r):this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[i].containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1);else{for(h=1e4,f=null,a=(l=e.floating||this._isFloating(this.currentItem))?"left":"top",v=l?"width":"height",s=l?"pageX":"pageY",u=this.items.length-1;0<=u;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(o=this.items[u].item.offset()[a],c=!1,t[s]-o>this.items[u][v]/2&&(c=!0),Math.abs(t[s]-o)<h&&(h=Math.abs(t[s]-o),f=this.items[u],this.direction=c?"up":"down"));(f||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[i]?(f?this._rearrange(t,f,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[i],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(t){var i=this.options,t="function"==typeof i.helper?n(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return t.parents("body").length||this.appendTo[0].appendChild(t[0]),t[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),t[0].style.width&&!i.forceHelperSize||t.width(this.currentItem.width()),t[0].style.height&&!i.forceHelperSize||t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(n){"string"==typeof n&&(n=n.split(" "));"left"in(n=Array.isArray(n)?{left:+n[0],top:+n[1]||0}:n)&&(this.offset.click.left=n.left+this.margins.left);"right"in n&&(this.offset.click.left=this.helperProportions.width-n.right+this.margins.left);"top"in n&&(this.offset.click.top=n.top+this.margins.top);"bottom"in n&&(this.offset.click.top=this.helperProportions.height-n.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),i="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i=i||this.position;var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,t=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():t?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():t?0:u.scrollLeft())*r}},_generatePosition:function(t){var i=this.options,r=t.pageX,u=t.pageY,f="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(f[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(u=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(u=this.containment[3]+this.offset.click.top)),i.grid&&(t=this.originalPageY+Math.round((u-this.originalPageY)/i.grid[1])*i.grid[1],u=!this.containment||t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-i.grid[1]:t+i.grid[1],t=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=!this.containment||t-this.offset.click.left>=this.containment[0]&&t-this.offset.click.left<=this.containment[2]?t:t-this.offset.click.left>=this.containment[0]?t-i.grid[0]:t+i.grid[0])),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===n.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.widget("ui.spinner",{version:"1.13.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);null!=u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n))},mousewheel:function(t,i){var r=n.ui.safeActiveElement(this.document[0]);if(this.element[0]===r&&i){if(!this.spinning&&!this._start(t))return!1;this._spin((0<i?1:-1)*this.options.step,t);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100);t.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){this.element[0]===n.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===n.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;r.call(this)});!1!==this._start(t)&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a><\/a><a><\/a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:!1});this.buttons.last().button({icon:this.options.icons.down,showLabel:!1});this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_start:function(n){return!(!this.spinning&&!1===this._trigger("start",n))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(n){var t=this.options.incremental;return t?"function"==typeof t?t(n):Math.floor(n*n*n/5e4-n*n/500+17*n/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min?Math.max(n,this._precisionOf(this.options.min)):n},_precisionOf:function(n){var t=n.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(n){var t=this.options,i=null!==t.min?t.min:0,r=n-i;return n=i+Math.round(r/t.step)*t.step,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){var i;if("culture"===n||"numberFormat"===n)return i=this._parse(this.element.val()),this.options[n]=t,void this.element.val(this._format(i));"max"!==n&&"min"!==n&&"step"!==n||"string"==typeof t&&(t=this._parse(t));"icons"===n&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),i=this.buttons.last().find(".ui-icon"),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,t.down));this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!n);this.element.prop("disabled",!!n);this.buttons.button(n?"disable":"enable")},_setOptions:o(function(n){this._super(n)}),_parse:function(n){return""===(n="string"==typeof n&&""!==n?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n:n)||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var n=this.value();return null!==n&&n===this._adjustValue(n)},_value:function(n,t){var i;""!==n&&null!==(i=this._parse(n))&&(t||(i=this._adjustValue(i)),n=this._format(i));this.element.val(n);this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:o(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:o(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:o(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:o(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){if(!arguments.length)return this._parse(this.element.val());o(this._value).call(this,n)},widget:function(){return this.uiSpinner}});!1!==n.uiBackCompat&&n.widget("ui.spinner",n.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a><\/a><a><\/a>"}});n.ui.spinner;n.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(ht=/#.*$/,function(n){var t=n.href.replace(ht,""),i=location.href.replace(ht,"");try{t=decodeURIComponent(t)}catch(n){}try{i=decodeURIComponent(i)}catch(n){}return 1<n.hash.length&&t===i}),_create:function(){var i=this,t=this.options;this.running=!1;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,t.collapsible);this._processTabs();t.active=this._initialActive();Array.isArray(t.disabled)&&(t.disabled=n.uniqueSort(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return t=i,!1}),null!==(t=null===t?this.tabs.index(this.tabs.filter(".ui-tabs-active")):t)&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),t=!i&&!1===t&&this.anchors.length?0:t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(n.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case n.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||t.metaKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){for(var r=this.tabs.length-1;-1!==n.inArray(t=(t=r<t?0:t)<0?r:t,this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).trigger("focus"),n},_setOption:function(n,t){"active"!==n?(this._super(n,t),"collapsible"===n&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===n&&this._setupEvents(t),"heightStyle"===n&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();!1!==t.active&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,u=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return n("a",this)[0]}).attr({tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=n();this.anchors.each(function(i,r){var o,u,f,s=n(r).uniqueId().attr("id"),e=n(r).closest("li"),h=e.attr("aria-controls");t._isLocal(r)?(f=(o=r.hash).substring(1),u=t.element.find(t._sanitizeSelector(o))):(f=e.attr("aria-controls")||n({}).uniqueId()[0].id,(u=t.element.find(o="#"+f)).length||(u=t._createPanel(f)).insertAfter(t.panels[i-1]||t.tablist),u.attr("aria-live","polite"));u.length&&(t.panels=t.panels.add(u));h&&e.data("ui-tabs-aria-controls",h);e.attr({"aria-controls":f,"aria-labelledby":s});u.attr("aria-labelledby",s)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(u.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var i,r;for(Array.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;i=this.tabs[r];r++)i=n(i),!0===t||-1!==n.inArray(r,t)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=t;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(n){n.preventDefault()}});this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,i=n(t.currentTarget).closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),r={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};t.preventDefault();i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||!1===this._trigger("beforeActivate",t,r)||(u.active=!e&&this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,r))},_toggle:function(t,i){function e(){r.running=!1;r._trigger("activate",t,i)}function o(){r._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active");u.length&&r.options.show?r._show(u,r.options.show,e):(u.show(),e())}var r=this,u=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){r._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active");o()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),f.hide(),o());f.attr("aria-hidden","true");i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});u.length&&f.length?i.oldTab.attr("tabIndex",-1):u.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);u.attr("aria-hidden","false");i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var t=this._findActive(t);t[0]!==this.active[0]&&(t=(t=t.length?t:this.active).find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:n.noop}))},_findActive:function(t){return!1===t?n():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t?this.anchors.index(this.anchors.filter("[href$='"+n.escapeSelector(t)+"']")):t},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;!1!==i&&(i=void 0!==t&&(t=this._getIndex(t),Array.isArray(i)?n.map(i,function(n){return n!==t?n:null}):n.map(this.tabs,function(n,i){return i!==t?i:null})),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==n.inArray(t,i))return;i=Array.isArray(i)?n.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){function e(n,t){"abort"===t&&r.panels.stop(!1,!0);r._removeClass(u,"ui-tabs-loading");f.removeAttr("aria-busy");n===r.xhr&&delete r.xhr}t=this._getIndex(t);var r=this,u=this.tabs.eq(t),t=u.find(".ui-tabs-anchor"),f=this._getPanelForTab(u),o={tab:u,panel:f};this._isLocal(t[0])||(this.xhr=n.ajax(this._ajaxSettings(t,i,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(u,"ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.done(function(n,t,u){setTimeout(function(){f.html(n);r._trigger("load",i,o);e(u,t)},1)}).fail(function(n,t){setTimeout(function(){e(n,t)},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){return t=n(t).attr("aria-controls"),this.element.find(this._sanitizeSelector("#"+t))}});!1!==n.uiBackCompat&&n.widget("ui.tabs",n.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});n.ui.tabs;n.widget("ui.tooltip",{version:"1.13.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=n(this).attr("title");return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(n,t){var i=(n.attr("aria-describedby")||"").split(/\s+/);i.push(t);n.data("ui-tooltip-id",t).attr("aria-describedby",String.prototype.trim.call(i.join(" ")))},_removeDescribedBy:function(t){var r=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(r,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");(i=String.prototype.trim.call(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=n("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=n([])},_setOption:function(t,i){var r=this;this._super(t,i);"content"===t&&n.each(this.tooltips,function(n,t){r._updateContent(t.element)})},_setOptionDisabled:function(n){this[n?"_disable":"_enable"]()},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r.element[0];t.close(u,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=n(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))});this.disabledTitles=n([])},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var i,t=n(this);t.data("ui-tooltip-open")&&((i=n.Event("blur")).target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(n,t){var i=this.options.content,r=this,u=t?t.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(t,n,i);(i=i.call(n[0],function(i){r._delay(function(){n.data("ui-tooltip-open")&&(t&&(t.type=u),this._open(t,n,i))})}))&&this._open(t,n,i)},_open:function(t,i,r){function o(n){e.of=n;u.is(":hidden")||u.position(e)}var f,u,s,e=n.extend({},this.options.position);r&&((f=this._find(i))?f.tooltip.find(".ui-tooltip-content").html(r):(i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),f=this._tooltip(i),u=f.tooltip,this._addDescribedBy(i,u.attr("id")),u.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),(r=n("<div>").html(u.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),r.removeAttr("id").find("[id]").removeAttr("id"),r.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):u.position(n.extend({"of":i},this.options.position)),u.hide(),this._show(u,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){u.is(":visible")&&(o(e.of),clearInterval(s))},13)),this._trigger("open",t,{tooltip:u})))},_registerCloseHandlers:function(t,i){var r={keyup:function(t){t.keyCode===n.ui.keyCode.ESCAPE&&((t=n.Event(t)).currentTarget=i[0],this.close(t,!0))}};i[0]!==this.element[0]&&(r.remove=function(){var n=this._find(i);n&&this._removeTooltip(n.tooltip)});t&&"mouseover"!==t.type||(r.mouseleave="close");t&&"focusin"!==t.type||(r.focusout="close");this._on(!0,i,r)},close:function(t){var u,f=this,i=n(t?t.currentTarget:this.element),r=this._find(i);r?(u=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete f.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:u}),r.hiding||(r.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var i=n("<div>").attr("role","tooltip"),r=n("<div>").appendTo(i),u=i.uniqueId().attr("id");return this._addClass(r,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(t)),this.tooltips[u]={element:t,tooltip:i}},_find:function(n){return n=n.data("ui-tooltip-id"),n?this.tooltips[n]:null},_removeTooltip:function(n){clearInterval(this.delayedShow);n.remove();delete this.tooltips[n.attr("id")]},_appendTo:function(n){return n=n.closest(".ui-front, dialog"),n.length?n:this.document[0].body},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur"),r=r.element;u.target=u.currentTarget=r[0];t.close(u,!0);n("#"+i).remove();r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==n.uiBackCompat&&n.widget("ui.tooltip",n.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var n=this._superApply(arguments);return this.options.tooltipClass&&n.tooltip.addClass(this.options.tooltipClass),n}});n.ui.tooltip});
/*! Summernote v0.8.20 | (c) 2013- Alan Hong and contributors | MIT license */
!function(n,t){var i,r;if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jQuery"));else if("function"==typeof define&&define.amd)define(["jQuery"],t);else{i="object"==typeof exports?t(require("jQuery")):t(n.jQuery);for(r in i)("object"==typeof exports?exports:n)[r]=i[r]}}(self,function(n){return(()=>{function t(n){var f=i[n],r;return void 0!==f?f.exports:(r=i[n]={exports:{}},u[n](r,r.exports,t),r.exports)}var u,i,r;return u={9770:(n,t,i)=>{var u=i(1145),r=i.n(u);r().summernote=r().summernote||{lang:{}};r().extend(r().summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Google Drive, Vimeo, Vine, Instagram, DailyMotion, Youku, Peertube)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window",useProtocol:"Use default protocol"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}})},1145:t=>{t.exports=n}},i={},t.n=n=>{var i=n&&n.__esModule?()=>n.default:()=>n;return t.d(i,{a:i}),i},t.d=(n,i)=>{for(var r in i)t.o(i,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:i[r]})},t.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r={},(()=>{function yi(n){return-1===i().inArray(n.toLowerCase(),vi)?"'".concat(n,"'"):n}function pi(n){return n[0]}function dt(n){return n[n.length-1]}function wi(n){return n.slice(1)}function bi(n,t){if(n&&n.length&&t){if(n.indexOf)return-1!==n.indexOf(t);if(n.contains)return n.contains(t)}return!1}function w(n){return n&&i()(n).hasClass("note-editable")}function l(n){return n=n.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===n}}function b(n){return n&&3===n.nodeType}function st(n){return n&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(n.nodeName.toUpperCase())}function g(n){return!w(n)&&n&&/^DIV|^P|^LI|^H[1-7]/.test(n.nodeName.toUpperCase())}function ht(n){return!(ni(n)||gi(n)||nr(n)||g(n)||gt(n)||ct(n)||di(n))}function gi(n){return n&&/^UL|^OL/.test(n.nodeName.toUpperCase())}function tr(n){return n&&/^TD|^TH/.test(n.nodeName.toUpperCase())}function ni(n){return tr(n)||ct(n)||w(n)}function y(n){return b(n)?n.nodeValue.length:n?n.childNodes.length:0}function k(n){var t=y(n);return 0===t||!b(n)&&1===t&&n.innerHTML===lt||!(!u.all(n.childNodes,b)||""!==n.innerHTML)}function rr(n){st(n)||y(n)||(n.innerHTML=lt)}function at(n,t){for(;n;){if(t(n))return n;if(w(n))break;n=n.parentNode}return null}function nt(n,t){t=t||f.fail;var i=[];return at(n,function(n){return w(n)||i.push(n),t(n)}),i}function ur(n,t){t=t||f.fail;for(var i=[];n&&!t(n);)i.push(n),n=n.nextSibling;return i}function ti(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n}function ii(n,t){return i().each(t,function(t,i){n.appendChild(i)}),n}function vt(n){return 0===n.offset}function yt(n){return n.offset===y(n.node)}function fr(n){return vt(n)||yt(n)}function er(n,t){for(;n&&n!==t;){if(0!==d(n))return!1;n=n.parentNode}return!0}function or(n,t){if(!t)return!1;for(;n&&n!==t;){if(d(n)!==y(n.parentNode)-1)return!1;n=n.parentNode}return!0}function d(n){for(var t=0;n=n.previousSibling;)t+=1;return t}function ut(n){return!!(n&&n.childNodes&&n.childNodes.length)}function sr(n,t){var i,r;if(0===n.offset){if(w(n.node))return null;i=n.node.parentNode;r=d(n.node)}else ut(n.node)?r=y(i=n.node.childNodes[n.offset-1]):(i=n.node,r=t?0:n.offset-1);return{node:i,offset:r}}function hr(n,t){var i,r,u;if(y(n.node)===n.offset){if(w(n.node))return null;u=lr(n.node);u?(i=u,r=0):(i=n.node.parentNode,r=d(n.node)+1)}else ut(n.node)?(i=n.node.childNodes[n.offset],r=0):(i=n.node,r=t?y(n.node):n.offset+1);return{node:i,offset:r}}function cr(n,t){var i,r=0;if(k(n.node))return null===n.node?null:{node:i=n.node.nextSibling,offset:r=0};if(y(n.node)===n.offset){if(w(n.node))return null;i=n.node.parentNode;r=d(n.node)+1;w(i)&&(i=n.node.nextSibling,r=0)}else if(ut(n.node)){if(r=0,k(i=n.node.childNodes[n.offset]))return k(n.node.nextSibling)?null:{node:n.node.nextSibling,offset:r}}else if(i=n.node,r=t?y(n.node):n.offset+1,k(i))return null;return{node:i,offset:r}}function lr(n){if(n.nextSibling&&n.parent===n.nextSibling.parent)return b(n.nextSibling)?n.nextSibling:lr(n.nextSibling)}function ar(n,t){return n.node===t.node&&n.offset===t.offset}function ri(n,t){var r=t&&t.isSkipPaddingBlankHTML,e=t&&t.isNotSplitEdgePoint,u=t&&t.isDiscardEmptySplits,f,i;if(u&&(r=!0),fr(n)&&(b(n.node)||e)){if(vt(n))return n.node;if(yt(n))return n.node.nextSibling}return b(n.node)?n.node.splitText(n.offset):(f=n.node.childNodes[n.offset],i=ti(n.node.cloneNode(!1),n.node),ii(i,ur(f)),r||(rr(n.node),rr(i)),u&&(k(n.node)&&ft(n.node),k(i))?(ft(i),n.node.nextSibling):i)}function vr(n,t,i){var r=nt(t.node,f.eq(n));return r.length?1===r.length?ri(t,i):r.reduce(function(n,r){return n===t.node&&(n=ri(t,i)),ri({node:r,offset:n?d(n):y(r)},i)}):null}function yr(n){return document.createElement(n)}function ft(n,t){var r,i,e;if(n&&n.parentNode){if(n.removeNode)return n.removeNode(t);if(r=n.parentNode,!t){for(var u=[],f=0,o=n.childNodes.length;f<o;f++)u.push(n.childNodes[f]);for(i=0,e=u.length;i<e;i++)r.insertBefore(u[i],n)}r.removeChild(n)}}function pr(n,t){var i=ui(n[0])?n.val():n.html();return t?i.replace(/[\n\r]/g,""):i}function wr(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function kr(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function dr(t,i){for(var o,s=t.parentElement(),a=document.body.createTextRange(),h=u.from(s.childNodes),c,r,l,e,f=0;f<h.length;f++)if(!n.isText(h[f])){if(a.moveToElementText(h[f]),a.compareEndPoints("StartToStart",t)>=0)break;o=h[f]}if(0!==f&&n.isText(h[f-1])){for(c=document.body.createTextRange(),r=null,c.moveToElementText(o||s),c.collapse(!o),r=o?o.nextSibling:s.firstChild,l=t.duplicate(),l.setEndPoint("StartToStart",c),e=l.text.replace(/[\r\n]/g,"").length;e>r.nodeValue.length&&r.nextSibling;)e-=r.nodeValue.length,r=r.nextSibling;r.nodeValue;i&&r.nextSibling&&n.isText(r.nextSibling)&&e===r.nodeValue.length&&(e-=r.nodeValue.length,r=r.nextSibling);s=r;f=e}return{cont:s,offset:f}}function gr(t){var i=document.body.createTextRange(),r=function t(i,r){var e,o,s,h;if(n.isText(i))s=n.listPrev(i,f.not(n.isText)),h=u.last(s).previousSibling,e=h||i.parentNode,r+=u.sum(u.tail(s),n.nodeLength),o=!h;else{if(e=i.childNodes[r]||i,n.isText(e))return t(e,0);r=0;o=!1}return{node:e,collapseToStart:o,offset:r}}(t.node,t.offset);return i.moveToElementText(r.node),i.collapse(r.collapseToStart),i.moveStart("character",r.offset),i}function nu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function iu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function uu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function fu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function ou(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function hu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function lu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function vu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function io(n,t){var i="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"],r,u,o,f,e;if(!i){if(Array.isArray(n)||(i=function(n,t){if(n){if("string"==typeof n)return pu(n,t);var i=Object.prototype.toString.call(n).slice(8,-1);return("Object"===i&&n.constructor&&(i=n.constructor.name),"Map"===i||"Set"===i)?Array.from(n):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?pu(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length)return i&&(n=i),r=0,u=function(){},{s:u,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n;},f:u};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}return f=!0,e=!1,{s:function(){i=i.call(n)},n:function(){var n=i.next();return f=n.done,n},e:function(n){e=!0;o=n},f:function(){try{f||null==i.return||i.return()}finally{if(e)throw o;}}}}function pu(n,t){(null==t||t>n.length)&&(t=n.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=n[i];return r}function wu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function ku(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function gu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function tf(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function uf(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function sf(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function cf(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function af(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function yf(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function wf(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function kf(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function gf(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function te(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function re(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function fe(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function oe(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function he(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function le(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function ve(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function ei(n){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ei(n)}function pe(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function oi(n){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oi(n)}var bt,p,et,it,kt,ot,nr,ct,ui,br,tt,a,tu,ru,fi,eu,s,su,cu,au,yu,bu,du,nf,rf,ff,ef,hf,lf,vf,pf,bf,df,ne,ie,ue,ee,se,ce,ae,ye,we;t.r(r);var c=t(1145),i=t.n(c),vi=(t(9770),["sans-serif","serif","monospace","cursive","fantasy"]);p=navigator.userAgent;et=/MSIE|Trident/i.test(p);et&&(it=/MSIE (\d+[.]\d+)/.exec(p),it&&(bt=parseFloat(it[1])),(it=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(p))&&(bt=parseFloat(it[1])));var rt=/Edge\/\d+/.test(p),de="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,ge=et?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";const h={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:et,isEdge:rt,isFF:!rt&&/firefox/i.test(p),isPhantom:/PhantomJS/i.test(p),isWebkit:!rt&&/webkit/i.test(p),isChrome:!rt&&/chrome/i.test(p),isSafari:!rt&&/safari/i.test(p)&&!/chrome/i.test(p),browserVersion:bt,isSupportTouch:de,isFontInstalled:function(n){var i="Comic Sans MS"===n?"Courier New":"Comic Sans MS",r="mmmmmmmmmmwwwww",t=document.createElement("canvas").getContext("2d"),u;return t.font="200px '"+i+"'",u=t.measureText(r).width,t.font="200px "+yi(n)+', "'+i+'"',u!==t.measureText(r).width},isW3CRangeSupport:!!document.createRange,inputEventName:ge,genericFontFamilies:vi,validFontName:yi};kt=0;const f={eq:function(n){return function(t){return n===t}},eq2:function(n,t){return n===t},peq2:function(n){return function(t,i){return t[n]===i[n]}},ok:function(){return!0},fail:function(){return!1},self:function(n){return n},not:function(n){return function(){return!n.apply(n,arguments)}},and:function(n,t){return function(i){return n(i)&&t(i)}},invoke:function(n,t){return function(){return n[t].apply(n,arguments)}},resetUniqueId:function(){kt=0},uniqueId:function(n){var t=++kt+"";return n?n+t:t},rect2bnd:function(n){var t=i()(document);return{top:n.top+t.scrollTop(),left:n.left+t.scrollLeft(),width:n.right-n.left,height:n.bottom-n.top}},invertObject:function(n){var i={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[n[t]]=t);return i},namespaceToCamel:function(n,t){return(t=t||"")+n.split(".").map(function(n){return n.substring(0,1).toUpperCase()+n.substring(1)}).join("")},debounce:function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}},isValidUrl:function(n){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(n)}};const u={head:pi,last:dt,initial:function(n){return n.slice(0,n.length-1)},tail:wi,prev:function(n,t){if(n&&n.length&&t){var i=n.indexOf(t);return-1===i?null:n[i-1]}return null},next:function(n,t){if(n&&n.length&&t){var i=n.indexOf(t);return-1===i?null:n[i+1]}return null},find:function(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n[i],t(r))return r},contains:bi,all:function(n,t){for(var i=0,r=n.length;i<r;i++)if(!t(n[i]))return!1;return!0},sum:function(n,t){return t=t||f.self,n.reduce(function(n,i){return n+t(i)},0)},from:function(n){for(var i=[],r=n.length,t=-1;++t<r;)i[t]=n[t];return i},isEmpty:function(n){return!n||!n.length},clusterBy:function(n,t){return n.length?wi(n).reduce(function(n,i){var r=dt(n);return t(dt(r),i)?r[r.length]=i:n[n.length]=[i],n},[[pi(n)]]):[]},compact:function(n){for(var i=[],t=0,r=n.length;t<r;t++)n[t]&&i.push(n[t]);return i},unique:function(n){for(var i=[],t=0,r=n.length;t<r;t++)bi(i,n[t])||i.push(n[t]);return i}};ot=String.fromCharCode(160);var no=l("PRE"),ki=l("LI"),gt=l("TABLE"),di=l("DATA");nr=l("HR");ct=l("BLOCKQUOTE");var ir=l("A"),to=l("BODY"),lt=h.isMSIE&&h.browserVersion<11?"&nbsp;":"<br>";ui=l("TEXTAREA");const n={NBSP_CHAR:ot,ZERO_WIDTH_NBSP_CHAR:"﻿",blank:lt,emptyPara:"<p>".concat(lt,"<\/p>"),makePredByNodeName:l,isEditable:w,isControlSizing:function(n){return n&&i()(n).hasClass("note-control-sizing")},isText:b,isElement:function(n){return n&&1===n.nodeType},isVoid:st,isPara:g,isPurePara:function(n){return g(n)&&!ki(n)},isHeading:function(n){return n&&/^H[1-7]/.test(n.nodeName.toUpperCase())},isInline:ht,isBlock:f.not(ht),isBodyInline:function(n){return ht(n)&&!at(n,g)},isBody:to,isParaInline:function(n){return ht(n)&&!!at(n,g)},isPre:no,isList:gi,isTable:gt,isData:di,isCell:tr,isBlockquote:ct,isBodyContainer:ni,isAnchor:ir,isDiv:l("DIV"),isLi:ki,isBR:l("BR"),isSpan:l("SPAN"),isB:l("B"),isU:l("U"),isS:l("S"),isI:l("I"),isImg:l("IMG"),isTextarea:ui,deepestChildIsEmpty:function(n){do if(null===n.firstElementChild||""===n.firstElementChild.innerHTML)break;while(n=n.firstElementChild);return k(n)},isEmpty:k,isEmptyAnchor:f.and(ir,k),isClosestSibling:function(n,t){return n.nextSibling===t||n.previousSibling===t},withClosestSiblings:function(n,t){t=t||f.ok;var i=[];return n.previousSibling&&t(n.previousSibling)&&i.push(n.previousSibling),i.push(n),n.nextSibling&&t(n.nextSibling)&&i.push(n.nextSibling),i},nodeLength:y,isLeftEdgePoint:vt,isRightEdgePoint:yt,isEdgePoint:fr,isLeftEdgeOf:er,isRightEdgeOf:or,isLeftEdgePointOf:function(n,t){return vt(n)&&er(n.node,t)},isRightEdgePointOf:function(n,t){return yt(n)&&or(n.node,t)},prevPoint:sr,nextPoint:hr,nextPointWithEmptyNode:cr,isSamePoint:ar,isVisiblePoint:function(n){if(b(n.node)||!ut(n.node)||k(n.node))return!0;var i=n.node.childNodes[n.offset-1],t=n.node.childNodes[n.offset];return!((i&&!st(i)||t&&!st(t))&&!gt(t))},prevPointUntil:function(n,t){for(;n;){if(t(n))return n;n=sr(n)}return null},nextPointUntil:function(n,t){for(;n;){if(t(n))return n;n=hr(n)}return null},isCharPoint:function(n){if(!b(n.node))return!1;var t=n.node.nodeValue.charAt(n.offset-1);return t&&" "!==t&&t!==ot},isSpacePoint:function(n){if(!b(n.node))return!1;var t=n.node.nodeValue.charAt(n.offset-1);return" "===t||t===ot},walkPoint:function(n,t,i,r){for(var u=n;u&&(i(u),!ar(u,t));)u=cr(u,r&&n.node!==u.node&&t.node!==u.node)},ancestor:at,singleChildAncestor:function(n,t){for(n=n.parentNode;n&&1===y(n);){if(t(n))return n;if(w(n))break;n=n.parentNode}return null},listAncestor:nt,lastAncestor:function(n,t){var i=nt(n);return u.last(i.filter(t))},listNext:ur,listPrev:function(n,t){t=t||f.fail;for(var i=[];n&&!t(n);)i.push(n),n=n.previousSibling;return i},listDescendant:function(n,t){var i=[];return t=t||f.ok,function r(u){n!==u&&t(u)&&i.push(u);for(var f=0,e=u.childNodes.length;f<e;f++)r(u.childNodes[f])}(n),i},commonAncestor:function(n,t){for(var r=nt(n),i=t;i;i=i.parentNode)if(r.indexOf(i)>-1)return i;return null},wrap:function(n,t){var u=n.parentNode,r=i()("<"+t+">")[0];return u.insertBefore(r,n),r.appendChild(n),r},insertAfter:ti,appendChildNodes:ii,position:d,hasChildren:ut,makeOffsetPath:function(n,t){return nt(t,f.eq(n)).map(d).reverse()},fromOffsetPath:function(n,t){for(var i=n,r=0,u=t.length;r<u;r++)i=i.childNodes.length<=t[r]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[r]];return i},splitTree:vr,splitPoint:function(n,t){var i,r,s=t?g:ni,e=nt(n.node,s),o=u.last(e)||n.node,f;return s(o)?(i=e[e.length-2],r=o):r=(i=o).parentNode,f=i&&vr(i,n,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}),f||r!==n.node||(f=n.node.childNodes[n.offset]),{rightNode:f,container:r}},create:yr,createText:function(n){return document.createTextNode(n)},remove:ft,removeWhile:function(n,t){for(;n&&!w(n)&&t(n);){var i=n.parentNode;ft(n);n=i}},replace:function(n,t){if(n.nodeName.toUpperCase()===t.toUpperCase())return n;var i=yr(t);return n.style.cssText&&(i.style.cssText=n.style.cssText),ii(i,u.from(n.childNodes)),ti(i,n),ft(n),i},html:function(n,t){var i=pr(n);return t&&(i=(i=i.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(n,t,i){i=i.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t,u=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return n+(r||u?"\n":"")})).trim()),i},value:pr,posFromPlaceholder:function(n){var t=i()(n),r=t.offset(),u=t.outerHeight(!0);return{left:r.left,top:r.top+u}},attachEvents:function(n,t){Object.keys(t).forEach(function(i){n.on(i,t[i])})},detachEvents:function(n,t){Object.keys(t).forEach(function(i){n.off(i,t[i])})},isCustomStyleTag:function(n){return n&&!b(n)&&u.contains(n.classList,"note-styletag")}};br=function(){function t(n,r){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.$note=n;this.memos={};this.modules={};this.layoutInfo={};this.options=i().extend(!0,{},r);i().summernote.ui=i().summernote.ui_template(this.options);this.ui=i().summernote.ui;this.initialize()}var r,e,o;return r=t,e=[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy();this.$note.removeData("summernote");this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var t=this.isDisabled();this.code(n.emptyPara);this._destroy();this._initialize();t&&this.disable()}},{key:"_initialize",value:function(){var n=this,t,r;this.options.id=f.uniqueId(i().now());this.options.container=this.options.container||this.layoutInfo.editor;t=i().extend({},this.options.buttons);Object.keys(t).forEach(function(i){n.memo("button."+i,t[i])});r=i().extend({},this.options.modules,i().summernote.plugins||{});Object.keys(r).forEach(function(t){n.module(t,r[t],!0)});Object.keys(this.modules).forEach(function(t){n.initializeModule(t)})}},{key:"_destroy",value:function(){var n=this;Object.keys(this.modules).reverse().forEach(function(t){n.removeModule(t)});Object.keys(this.memos).forEach(function(t){n.removeMemo(t)});this.triggerEvent("destroy",this)}},{key:"code",value:function(n){var t=this.invoke("codeview.isActivated");if(void 0===n)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.invoke("codeview.sync",n):this.layoutInfo.editable.html(n);this.$note.val(n);this.triggerEvent("change",n,this.layoutInfo.editable)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0);this.invoke("toolbar.activate",!0);this.triggerEvent("disable",!1);this.options.editing=!0}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate");this.layoutInfo.editable.attr("contenteditable",!1);this.options.editing=!1;this.invoke("toolbar.deactivate",!0);this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var n=u.head(arguments),t=u.tail(u.from(arguments)),i=this.options.callbacks[f.namespaceToCamel(n,"on")];i&&i.apply(this.$note[0],t);this.$note.trigger("summernote."+n,t)}},{key:"initializeModule",value:function(t){var i=this.modules[t];i.shouldInitialize=i.shouldInitialize||f.ok;i.shouldInitialize()&&(i.initialize&&i.initialize(),i.events&&n.attachEvents(this.$note,i.events))}},{key:"module",value:function(n,t,i){if(1===arguments.length)return this.modules[n];this.modules[n]=new t(this);i||this.initializeModule(n)}},{key:"removeModule",value:function(t){var i=this.modules[t];i.shouldInitialize()&&(i.events&&n.detachEvents(this.$note,i.events),i.destroy&&i.destroy());delete this.modules[t]}},{key:"memo",value:function(n,t){if(1===arguments.length)return this.memos[n];this.memos[n]=t}},{key:"removeMemo",value:function(n){this.memos[n]&&this.memos[n].destroy&&this.memos[n].destroy();delete this.memos[n]}},{key:"createInvokeHandlerAndUpdateState",value:function(n,t){var i=this;return function(r){i.createInvokeHandler(n,t)(r);i.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(n,t){var r=this;return function(u){u.preventDefault();var f=i()(u.target);r.invoke(n,t||f.closest("[data-value]").data("value"),f)}}},{key:"invoke",value:function(){var o=u.head(arguments),r=u.tail(u.from(arguments)),t=o.split("."),f=t.length>1,e=f&&u.head(t),i=f?u.last(t):u.head(t),n=this.modules[e||"editor"];return!e&&this[i]?this[i].apply(this,r):n&&n[i]&&n.shouldInitialize()?n[i].apply(n,r):void 0}}],e&&wr(r.prototype,e),o&&wr(r,o),t}();i().fn.extend({summernote:function(){var f=i().type(u.head(arguments)),e="string"===f,o="object"===f,n=i().extend({},i().summernote.options,o?u.head(arguments):{}),r,t;if(n.langInfo=i().extend(!0,{},i().summernote.lang["en-US"],i().summernote.lang[n.lang]),n.icons=i().extend(!0,{},i().summernote.options.icons,n.icons),n.tooltip="auto"===n.tooltip?!h.isSupportTouch:n.tooltip,this.each(function(t,r){var u=i()(r),f;u.data("summernote")||(f=new br(u,n),u.data("summernote",f),u.data("summernote").triggerEvent("init",f.layoutInfo))}),r=this.first(),r.length){if(t=r.data("summernote"),e)return t.invoke.apply(t,u.from(arguments));n.focus&&t.invoke("editor.focus")}return this}});tt=function(){function t(i,r,u,f){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.sc=i;this.so=r;this.ec=u;this.eo=f;this.isOnEditable=this.makeIsOn(n.isEditable);this.isOnList=this.makeIsOn(n.isList);this.isOnAnchor=this.makeIsOn(n.isAnchor);this.isOnCell=this.makeIsOn(n.isCell);this.isOnData=this.makeIsOn(n.isData)}var r,e,o;return r=t,e=[{key:"nativeRange",value:function(){var n,t;return h.isW3CRangeSupport?(n=document.createRange(),n.setStart(this.sc,this.so),n.setEnd(this.ec,this.eo),n):(t=gr({node:this.sc,offset:this.so}),t.setEndPoint("EndToEnd",gr({node:this.ec,offset:this.eo})),t)}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var t=this.nativeRange(),n;return h.isW3CRangeSupport?(n=document.getSelection(),n.rangeCount>0&&n.removeAllRanges(),n.addRange(t)):t.select(),this}},{key:"scrollIntoView",value:function(n){var t=i()(n).height();return n.scrollTop+t<this.sc.offsetTop&&(n.scrollTop+=Math.abs(n.scrollTop+t-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var r=function(t,i){var f,r,e,u,o;if(!t||n.isVisiblePoint(t)&&(!n.isEdgePoint(t)||n.isRightEdgePoint(t)&&!i||n.isLeftEdgePoint(t)&&i||n.isRightEdgePoint(t)&&i&&n.isVoid(t.node.nextSibling)||n.isLeftEdgePoint(t)&&!i&&n.isVoid(t.node.previousSibling)||n.isBlock(t.node)&&n.isEmpty(t.node)))return t;if(f=n.ancestor(t.node,n.isBlock),r=!1,r||(e=n.prevPoint(t)||{node:null},r=(n.isLeftEdgePointOf(t,f)||n.isVoid(e.node))&&!i),u=!1,u||(o=n.nextPoint(t)||{node:null},u=(n.isRightEdgePointOf(t,f)||n.isVoid(o.node))&&i),r||u){if(n.isVisiblePoint(t))return t;i=!i}return(i?n.nextPointUntil(n.nextPoint(t),n.isVisiblePoint):n.prevPointUntil(n.prevPoint(t),n.isVisiblePoint))||t},i=r(this.getEndPoint(),!1),u=this.isCollapsed()?i:r(this.getStartPoint(),!0);return new t(u.node,u.offset,i.node,i.offset)}},{key:"nodes",value:function(t,i){t=t||f.ok;var o=i&&i.includeAncestor,s=i&&i.fullyContains,h=this.getStartPoint(),c=this.getEndPoint(),r=[],e=[];return n.walkPoint(h,c,function(i){var f;n.isEditable(i.node)||(s?(n.isLeftEdgePoint(i)&&e.push(i.node),n.isRightEdgePoint(i)&&u.contains(e,i.node)&&(f=i.node)):f=o?n.ancestor(i.node,t):i.node,f&&t(f)&&r.push(f))},!0),u.unique(r)}},{key:"commonAncestor",value:function(){return n.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(i){var f=n.ancestor(this.sc,i),u=n.ancestor(this.ec,i),r;return!f&&!u?new t(this.sc,this.so,this.ec,this.eo):(r=this.getPoints(),f&&(r.sc=f,r.so=0),u&&(r.ec=u,r.eo=n.nodeLength(u)),new t(r.sc,r.so,r.ec,r.eo))}},{key:"collapse",value:function(n){return n?new t(this.sc,this.so,this.sc,this.so):new t(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var r=this.sc===this.ec,i=this.getPoints();return n.isText(this.ec)&&!n.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),n.isText(this.sc)&&!n.isEdgePoint(this.getStartPoint())&&(i.sc=this.sc.splitText(this.so),i.so=0,r&&(i.ec=i.sc,i.eo=this.eo-this.so)),new t(i.sc,i.so,i.ec,i.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var f=this.splitText(),e=f.nodes(null,{fullyContains:!0}),r=n.prevPointUntil(f.getStartPoint(),function(n){return!u.contains(e,n.node)}),o=[];return i().each(e,function(t,i){var u=i.parentNode;r.node!==u&&1===n.nodeLength(u)&&o.push(u);n.remove(i,!1)}),i().each(o,function(t,i){n.remove(i,!1)}),new t(r.node,r.offset,r.node,r.offset).normalize()}},{key:"makeIsOn",value:function(t){return function(){var i=n.ancestor(this.sc,t);return!!i&&i===n.ancestor(this.ec,t)}}},{key:"isLeftEdgeOf",value:function(t){if(!n.isLeftEdgePoint(this.getStartPoint()))return!1;var i=n.ancestor(this.sc,t);return i&&n.isLeftEdgeOf(this.sc,i)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){var r,i,o,e,s;return n.isBodyContainer(this.sc)&&n.isEmpty(this.sc)?(this.sc.innerHTML=n.emptyPara,new t(this.sc.firstChild,0,this.sc.firstChild,0)):(i=this.normalize(),n.isParaInline(this.sc)||n.isPara(this.sc))?i:(n.isInline(i.sc)?(o=n.listAncestor(i.sc,f.not(n.isInline)),r=u.last(o),n.isInline(r)||(r=o[o.length-2]||i.sc.childNodes[i.so])):r=i.sc.childNodes[i.so>0?i.so-1:0],r&&(e=n.listPrev(r,n.isParaInline).reverse(),(e=e.concat(n.listNext(r.nextSibling,n.isParaInline))).length&&(s=n.wrap(u.head(e),"p"),n.appendChildNodes(s,u.tail(e)))),this.normalize())}},{key:"insertNode",value:function(t){var r=this,i;return(n.isText(t)||n.isInline(t))&&(r=this.wrapBodyInlineWithPara().deleteContents()),i=n.splitPoint(r.getStartPoint(),n.isInline(t)),i.rightNode?(i.rightNode.parentNode.insertBefore(t,i.rightNode),n.isEmpty(i.rightNode)&&n.isPara(t)&&i.rightNode.parentNode.removeChild(i.rightNode)):i.container.appendChild(t),t}},{key:"pasteHTML",value:function(n){n=i().trim(n);var e=i()("<div><\/div>").html(n)[0],t=u.from(e.childNodes),r=this,f=!1;return r.so>=0&&(t=t.reverse(),f=!0),t=t.map(function(n){return r.insertNode(n)}),f&&(t=t.reverse()),t}},{key:"toString",value:function(){var n=this.nativeRange();return h.isW3CRangeSupport?n.toString():n.text}},{key:"getWordRange",value:function(i){var r=this.getEndPoint(),u;return n.isCharPoint(r)?(u=n.prevPointUntil(r,function(t){return!n.isCharPoint(t)}),i&&(r=n.nextPointUntil(r,function(t){return!n.isCharPoint(t)})),new t(u.node,u.offset,r.node,r.offset)):this}},{key:"getWordsRange",value:function(i){var r=this.getEndPoint(),u=function(t){return!n.isCharPoint(t)&&!n.isSpacePoint(t)},f;return u(r)?this:(f=n.prevPointUntil(r,u),i&&(r=n.nextPointUntil(r,u)),new t(f.node,f.offset,r.node,r.offset))}},{key:"getWordsMatchRange",value:function(i){var r=this.getEndPoint(),u=n.prevPointUntil(r,function(u){if(!n.isCharPoint(u)&&!n.isSpacePoint(u))return!0;var e=new t(u.node,u.offset,r.node,r.offset),f=i.exec(e.toString());return f&&0===f.index}),f=new t(u.node,u.offset,r.node,r.offset),e=f.toString(),o=i.exec(e);return o&&o[0].length===e.length?f:null}},{key:"bookmark",value:function(t){return{s:{path:n.makeOffsetPath(t,this.sc),offset:this.so},e:{path:n.makeOffsetPath(t,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(t){return{s:{path:u.tail(n.makeOffsetPath(u.head(t),this.sc)),offset:this.so},e:{path:u.tail(n.makeOffsetPath(u.last(t),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){return this.nativeRange().getClientRects()}}],e&&kr(r.prototype,e),o&&kr(r,o),t}();const e={create:function(t,i,r,u){var e,f;return 4===arguments.length?new tt(t,i,r,u):2===arguments.length?new tt(t,i,r=t,u=i):(e=this.createFromSelection(),!e&&1===arguments.length)?(f=arguments[0],n.isEditable(f)&&(f=f.lastChild),this.createFromBodyElement(f,n.emptyPara===arguments[0].innerHTML)):e},createFromBodyElement:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.createFromNode(n);return i.collapse(t)},createFromSelection:function(){var f,e,o,s,r,u,c,l,a,t,i;if(h.isW3CRangeSupport){if((r=document.getSelection(),!r||0===r.rangeCount)||n.isBody(r.anchorNode))return null;u=r.getRangeAt(0);f=u.startContainer;e=u.startOffset;o=u.endContainer;s=u.endOffset}else c=document.selection.createRange(),l=c.duplicate(),l.collapse(!1),a=c,a.collapse(!0),t=dr(a,!0),i=dr(l,!1),n.isText(t.node)&&n.isLeftEdgePoint(t)&&n.isTextNode(i.node)&&n.isRightEdgePoint(i)&&i.node.nextSibling===t.node&&(t=i),f=t.cont,e=t.offset,o=i.cont,s=i.offset;return new tt(f,e,o,s)},createFromNode:function(t){var r=t,f=0,i=t,u=n.nodeLength(i);return n.isVoid(r)&&(f=n.listPrev(r).length-1,r=r.parentNode),n.isBR(i)?(u=n.listPrev(i).length-1,i=i.parentNode):n.isVoid(i)&&(u=n.listPrev(i).length,i=i.parentNode),this.create(r,f,i,u)},createFromNodeBefore:function(n){return this.createFromNode(n).collapse(!0)},createFromNodeAfter:function(n){return this.createFromNode(n).collapse()},createFromBookmark:function(t,i){var r=n.fromOffsetPath(t,i.s.path),u=i.s.offset,f=n.fromOffsetPath(t,i.e.path),e=i.e.offset;return new tt(r,u,f,e)},createFromParaBookmark:function(t,i){var r=t.s.offset,f=t.e.offset,e=n.fromOffsetPath(u.head(i),t.s.path),o=n.fromOffsetPath(u.last(i),t.e.path);return new tt(e,r,o,f)}};a={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34};const o={isEdit:function(n){return u.contains([a.BACKSPACE,a.TAB,a.ENTER,a.SPACE,a.DELETE],n)},isMove:function(n){return u.contains([a.LEFT,a.UP,a.RIGHT,a.DOWN],n)},isNavigation:function(n){return u.contains([a.HOME,a.END,a.PAGEUP,a.PAGEDOWN],n)},nameFromCode:f.invertObject(a),code:a};tu=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.stack=[];this.stackOffset=-1;this.context=t;this.$editable=t.layoutInfo.editable;this.editable=this.$editable[0]}var t,i,r;return t=n,(i=[{key:"makeSnapshot",value:function(){var n=e.create(this.editable);return{contents:this.$editable.html(),bookmark:n&&n.isOnEditable()?n.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}}},{key:"applySnapshot",value:function(n){null!==n.contents&&this.$editable.html(n.contents);null!==n.bookmark&&e.createFromBookmark(this.editable,n.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo();this.stackOffset=0;this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){this.stack=[];this.stackOffset=-1;this.recordUndo()}},{key:"reset",value:function(){this.stack=[];this.stackOffset=-1;this.$editable.html("");this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo();this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++;this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset));this.stack.push(this.makeSnapshot());this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),this.stackOffset-=1)}}])&&nu(t.prototype,i),r&&nu(t,r),n}();ru=function(){function t(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t)}var r,e,o;return r=t,e=[{key:"jQueryCSS",value:function(n,t){var r={};return i().each(t,function(t,i){r[i]=n.css(i)}),r}},{key:"fromNode",value:function(n){var t=this.jQueryCSS(n,["font-family","font-size","text-align","list-style-type","line-height"])||{},i=n[0].style.fontSize||t["font-size"];return t["font-size"]=parseInt(i,10),t["font-size-unit"]=i.match(/[a-z%]+$/),t}},{key:"stylePara",value:function(t,r){i().each(t.nodes(n.isPara,{includeAncestor:!0}),function(n,t){i()(t).css(r)})}},{key:"styleNodes",value:function(t,r){var e,s,h;t=t.splitText();var o=r&&r.nodeName||"SPAN",c=!(!r||!r.expandClosestSibling),l=!(!r||!r.onlyPartialContains);return t.isCollapsed()?[t.insertNode(n.create(o))]:(e=n.makePredByNodeName(o),s=t.nodes(n.isText,{fullyContains:!0}).map(function(t){return n.singleChildAncestor(t,e)||n.wrap(t,o)}),c)?(l&&(h=t.nodes(),e=f.and(e,function(n){return u.contains(h,n)})),s.map(function(t){var r=n.withClosestSiblings(t,e),f=u.head(r),o=u.tail(r);return i().each(o,function(t,i){n.appendChildNodes(f,i.childNodes);n.remove(i)}),u.head(r)})):s}},{key:"current",value:function(t){var o=i()(n.isElement(t.sc)?t.sc:t.sc.parentNode),r=this.fromNode(o),f,u,e;try{r=i().extend(r,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||r["font-family"]})}catch(t){}return t.isOnList()?(f=["circle","disc","disc-leading-zero","square"].indexOf(r["list-style-type"])>-1,r["list-style"]=f?"unordered":"ordered"):r["list-style"]="none",u=n.ancestor(t.sc,n.isPara),u&&u.style["line-height"]?r["line-height"]=u.style.lineHeight:(e=parseInt(r["line-height"],10)/parseInt(r["font-size"],10),r["line-height"]=e.toFixed(1)),r.anchor=t.isOnAnchor()&&n.ancestor(t.sc,n.isAnchor),r.ancestors=n.listAncestor(t.sc,n.isEditable),r.range=t,r}}],e&&iu(r.prototype,e),o&&iu(r,o),t}();fi=function(){function t(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t)}var r,o,s;return r=t,o=[{key:"insertOrderedList",value:function(n){this.toggleList("OL",n)}},{key:"insertUnorderedList",value:function(n){this.toggleList("UL",n)}},{key:"indent",value:function(t){var r=this,o=e.create(t).wrapBodyInlineWithPara(),s=o.nodes(n.isPara,{includeAncestor:!0}),h=u.clusterBy(s,f.peq2("parentNode"));i().each(h,function(t,f){var e=u.head(f),o;n.isLi(e)?(o=r.findList(e.previousSibling),o?f.map(function(n){return o.appendChild(n)}):(r.wrapList(f,e.parentNode.nodeName),f.map(function(n){return n.parentNode}).map(function(n){return r.appendToPrevious(n)}))):i().each(f,function(n,t){i()(t).css("marginLeft",function(n,t){return(parseInt(t,10)||0)+25})})});o.select()}},{key:"outdent",value:function(t){var o=this,r=e.create(t).wrapBodyInlineWithPara(),s=r.nodes(n.isPara,{includeAncestor:!0}),h=u.clusterBy(s,f.peq2("parentNode"));i().each(h,function(t,r){var f=u.head(r);n.isLi(f)?o.releaseList([r]):i().each(r,function(n,t){i()(t).css("marginLeft",function(n,t){return(t=parseInt(t,10)||0)>25?t-25:""})})});r.select()}},{key:"toggleList",value:function(t,r){var a=this,h=e.create(r).wrapBodyInlineWithPara(),o=h.nodes(n.isPara,{includeAncestor:!0}),v=h.paraBookmark(o),l=u.clusterBy(o,f.peq2("parentNode")),s,c;u.find(o,n.isPurePara)?(s=[],i().each(l,function(n,i){s=s.concat(a.wrapList(i,t))}),o=s):(c=h.nodes(n.isList,{includeAncestor:!0}).filter(function(n){return!i().nodeName(n,t)}),c.length?i().each(c,function(i,r){n.replace(r,t)}):o=this.releaseList(l,!0));e.createFromParaBookmark(v,o).select()}},{key:"wrapList",value:function(t,i){var e=u.head(t),r=u.last(t),s=n.isList(e.previousSibling)&&e.previousSibling,f=n.isList(r.nextSibling)&&r.nextSibling,o=s||n.insertAfter(n.create(i||"UL"),r);return t=t.map(function(t){return n.isPurePara(t)?n.replace(t,"LI"):t}),n.appendChildNodes(o,t),f&&(n.appendChildNodes(o,u.from(f.childNodes)),n.remove(f)),t}},{key:"releaseList",value:function(t,r){var e=this,f=[];return i().each(t,function(t,o){var c=u.head(o),a=u.last(o),s=r?n.lastAncestor(c,n.isList):c.parentNode,h=s.parentNode,v,l,y;"LI"===s.parentNode.nodeName?(o.map(function(n){var t=e.findNextSiblings(n);h.nextSibling?h.parentNode.insertBefore(n,h.nextSibling):h.parentNode.appendChild(n);t.length&&(e.wrapList(t,s.nodeName),n.appendChild(t[0].parentNode))}),0===s.children.length&&h.removeChild(s),0===h.childNodes.length&&h.parentNode.removeChild(h)):(v=s.childNodes.length>1?n.splitTree(s,{node:a.parentNode,offset:n.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,l=n.splitTree(s,{node:c.parentNode,offset:n.position(c)},{isSkipPaddingBlankHTML:!0}),o=r?n.listDescendant(l,n.isLi):u.from(l.childNodes).filter(n.isLi),!r&&n.isList(s.parentNode)||(o=o.map(function(t){return n.replace(t,"P")})),i().each(u.from(o).reverse(),function(t,i){n.insertAfter(i,s)}),y=u.compact([s,l,v]),i().each(y,function(t,r){var u=[r].concat(n.listDescendant(r,n.isList));i().each(u.reverse(),function(t,i){n.nodeLength(i)||n.remove(i,!0)})}));f=f.concat(o)}),f}},{key:"appendToPrevious",value:function(t){return t.previousSibling?n.appendChildNodes(t.previousSibling,[t]):this.wrapList([t],"LI")}},{key:"findList",value:function(n){return n?u.find(n.children,function(n){return["OL","UL"].indexOf(n.nodeName)>-1}):null}},{key:"findNextSiblings",value:function(n){for(var t=[];n.nextSibling;)t.push(n.nextSibling),n=n.nextSibling;return t}}],o&&uu(r.prototype,o),s&&uu(r,s),t}();eu=function(){function t(n){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.bullet=new fi;this.options=n.options}var r,u,f;return r=t,u=[{key:"insertTab",value:function(t,i){var r=n.createText(new Array(i+1).join(n.NBSP_CHAR));(t=t.deleteContents()).insertNode(r,!0);(t=e.create(r,i)).select()}},{key:"insertParagraph",value:function(t,r){var u,f,o,s,h,c;if(r=(r=(r=r||e.create(t)).deleteContents()).wrapBodyInlineWithPara(),f=n.ancestor(r.sc,n.isPara),f){if(n.isLi(f)&&(n.isEmpty(f)||n.deepestChildIsEmpty(f)))return void this.bullet.toggleList(f.parentNode.nodeName);o=null;(1===this.options.blockquoteBreakingLevel?o=n.ancestor(f,n.isBlockquote):2===this.options.blockquoteBreakingLevel&&(o=n.lastAncestor(f,n.isBlockquote)),o)?(u=i()(n.emptyPara)[0],n.isRightEdgePoint(r.getStartPoint())&&n.isBR(r.sc.nextSibling)&&i()(r.sc.nextSibling).remove(),s=n.splitTree(o,r.getStartPoint(),{isDiscardEmptySplits:!0}),s?s.parentNode.insertBefore(u,s):n.insertAfter(u,o)):(u=n.splitTree(f,r.getStartPoint()),h=n.listDescendant(f,n.isEmptyAnchor),h=h.concat(n.listDescendant(u,n.isEmptyAnchor)),i().each(h,function(t,i){n.remove(i)}),(n.isHeading(u)||n.isPre(u)||n.isCustomStyleTag(u))&&n.isEmpty(u)&&(u=n.replace(u,"p")))}else c=r.sc.childNodes[r.so],u=i()(n.emptyPara)[0],c?r.sc.insertBefore(u,c):r.sc.appendChild(u);e.create(u,0).normalize().select().scrollIntoView(t)}}],u&&fu(r.prototype,u),f&&fu(r,f),t}();s=function c(n,t,i,r){function o(n,t,i,r,u,e,o){var s={baseRow:i,baseCell:r,isRowSpan:u,isColSpan:e,isVirtual:o};f[n]||(f[n]=[]);f[n][t]=s}function l(n,t,i,r){return{baseCell:n.baseCell,action:t,virtualTable:{rowIndex:i,cellIndex:r}}}function s(n,t){if(!f[n]||!f[n][t])return t;for(var i=t;f[n][i];)if(i++,!f[n][i])return i}function a(n,t){var i=s(n.rowIndex,t.cellIndex),v=t.colSpan>1,y=t.rowSpan>1,p=n.rowIndex===u.rowPos&&t.cellIndex===u.colPos,e,r,c,l,f,a;if(o(n.rowIndex,i,n,t,y,v,!1),e=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0,e>1)for(r=1;r<e;r++)c=n.rowIndex+r,h(c,i,t,p),o(c,i,n,t,!0,v,!0);if(l=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0,l>1)for(f=1;f<l;f++)a=s(n.rowIndex,i+f),h(n.rowIndex,a,t,p),o(n.rowIndex,a,n,t,y,!0,!0)}function h(n,t,i,r){n===u.rowPos&&u.colPos>=i.cellIndex&&i.cellIndex<=t&&!r&&u.colPos++}function v(n){switch(t){case c.where.Column:if(n.isColSpan)return c.resultAction.SubtractSpanCount;break;case c.where.Row:if(!n.isVirtual&&n.isRowSpan)return c.resultAction.AddCell;if(n.isRowSpan)return c.resultAction.SubtractSpanCount}return c.resultAction.RemoveCell}function y(n){switch(t){case c.where.Column:if(n.isColSpan)return c.resultAction.SumSpanCount;if(n.isRowSpan&&n.isVirtual)return c.resultAction.Ignore;break;case c.where.Row:if(n.isRowSpan)return c.resultAction.SumSpanCount;if(n.isColSpan&&n.isVirtual)return c.resultAction.Ignore}return c.resultAction.AddCell}var u={colPos:0,rowPos:0},f=[],e=[];this.getActionList=function(){for(var n,r,s=t===c.where.Row?u.rowPos:-1,h=t===c.where.Column?u.colPos:-1,o=0,a=!0;a;){var p=s>=0?s:o,w=h>=0?h:o,b=f[p];if(!b||(n=b[w],!n))return a=!1,e;r=c.resultAction.Ignore;switch(i){case c.requestAction.Add:r=y(n);break;case c.requestAction.Delete:r=v(n)}e.push(l(n,r,p,w));o++}return e};n&&n.tagName&&("td"===n.tagName.toLowerCase()||"th"===n.tagName.toLowerCase())&&(u.colPos=n.cellIndex,n.parentElement&&n.parentElement.tagName&&"tr"===n.parentElement.tagName.toLowerCase()&&(u.rowPos=n.parentElement.rowIndex)),function(){for(var u,i,t=r.rows,n=0;n<t.length;n++)for(u=t[n].cells,i=0;i<u.length;i++)a(t[n],u[i])}()};s.where={Row:0,Column:1};s.requestAction={Add:0,Delete:1};s.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};su=function(){function t(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t)}var r,f,o;return r=t,f=[{key:"tab",value:function(t,i){var r=n.ancestor(t.commonAncestor(),n.isCell),o=n.ancestor(r,n.isTable),s=n.listDescendant(o,n.isCell),f=u[i?"prev":"next"](s,r);f&&e.create(f,0).select()}},{key:"addRow",value:function(t,r){for(var f,c,v,l,y,o=n.ancestor(t.commonAncestor(),n.isCell),u=i()(o).closest("tr"),p=this.recoverAttributes(u),e=i()("<tr"+p+"><\/tr>"),a=new s(o,s.where.Row,s.requestAction.Add,i()(u).closest("table")[0]).getActionList(),h=0;h<a.length;h++){f=a[h];c=this.recoverAttributes(f.baseCell);switch(f.action){case s.resultAction.AddCell:e.append("<td"+c+">"+n.blank+"<\/td>");break;case s.resultAction.SumSpanCount:if("top"===r&&(f.baseCell.parent?f.baseCell.closest("tr").rowIndex:0)<=u[0].rowIndex){v=i()("<div><\/div>").append(i()("<td"+c+">"+n.blank+"<\/td>").removeAttr("rowspan")).html();e.append(v);break}l=parseInt(f.baseCell.rowSpan,10);l++;f.baseCell.setAttribute("rowSpan",l)}}if("top"===r)u.before(e);else{if(o.rowSpan>1)return y=u[0].rowIndex+(o.rowSpan-2),void i()(i()(u).parent().find("tr")[y]).after(i()(e));u.after(e)}}},{key:"addCol",value:function(t,r){var l=n.ancestor(t.commonAncestor(),n.isCell),o=i()(l).closest("tr"),h,f,u,e,c;for(i()(o).siblings().push(o),h=new s(l,s.where.Column,s.requestAction.Add,i()(o).closest("table")[0]).getActionList(),f=0;f<h.length;f++){u=h[f];e=this.recoverAttributes(u.baseCell);switch(u.action){case s.resultAction.AddCell:"right"===r?i()(u.baseCell).after("<td"+e+">"+n.blank+"<\/td>"):i()(u.baseCell).before("<td"+e+">"+n.blank+"<\/td>");break;case s.resultAction.SumSpanCount:"right"===r?(c=parseInt(u.baseCell.colSpan,10),c++,u.baseCell.setAttribute("colSpan",c)):i()(u.baseCell).before("<td"+e+">"+n.blank+"<\/td>")}}}},{key:"recoverAttributes",value:function(n){var r="",i,t;if(!n)return r;for(i=n.attributes||[],t=0;t<i.length;t++)"id"!==i[t].name.toLowerCase()&&i[t].specified&&(r+=" "+i[t].name+"='"+i[t].value+"'");return r}},{key:"deleteRow",value:function(t){for(var r,v,l=n.ancestor(t.commonAncestor(),n.isCell),o=i()(l).closest("tr"),u=o.children("td, th").index(i()(l)),y=o[0].rowIndex,c=new s(l,s.where.Row,s.requestAction.Delete,i()(o).closest("table")[0]).getActionList(),h=0;h<c.length;h++)if(c[h]){var f=c[h].baseCell,p=c[h].virtualTable,a=f.rowSpan&&f.rowSpan>1,e=a?parseInt(f.rowSpan,10):0;switch(c[h].action){case s.resultAction.Ignore:continue;case s.resultAction.AddCell:if(r=o.next("tr")[0],!r)continue;v=o[0].cells[u];a&&(e>2?(e--,r.insertBefore(v,r.cells[u]),r.cells[u].setAttribute("rowSpan",e),r.cells[u].innerHTML=""):2===e&&(r.insertBefore(v,r.cells[u]),r.cells[u].removeAttribute("rowSpan"),r.cells[u].innerHTML=""));continue;case s.resultAction.SubtractSpanCount:a&&(e>2?(e--,f.setAttribute("rowSpan",e),p.rowIndex!==y&&f.cellIndex===u&&(f.innerHTML="")):2===e&&(f.removeAttribute("rowSpan"),p.rowIndex!==y&&f.cellIndex===u&&(f.innerHTML="")));continue;case s.resultAction.RemoveCell:continue}}o.remove()}},{key:"deleteCol",value:function(t){for(var r,e,o=n.ancestor(t.commonAncestor(),n.isCell),h=i()(o).closest("tr"),c=h.children("td, th").index(i()(o)),f=new s(o,s.where.Column,s.requestAction.Delete,i()(h).closest("table")[0]).getActionList(),u=0;u<f.length;u++)if(f[u])switch(f[u].action){case s.resultAction.Ignore:continue;case s.resultAction.SubtractSpanCount:r=f[u].baseCell;r.colSpan&&r.colSpan>1&&(e=r.colSpan?parseInt(r.colSpan,10):0,e>2?(e--,r.setAttribute("colSpan",e),r.cellIndex===c&&(r.innerHTML="")):2===e&&(r.removeAttribute("colSpan"),r.cellIndex===c&&(r.innerHTML="")));continue;case s.resultAction.RemoveCell:n.remove(f[u].baseCell,!0);continue}}},{key:"createTable",value:function(t,r,u){for(var c,l,o,s,h,f=[],e=0;e<t;e++)f.push("<td>"+n.blank+"<\/td>");for(c=f.join(""),o=[],s=0;s<r;s++)o.push("<tr>"+c+"<\/tr>");return l=o.join(""),h=i()("<table>"+l+"<\/table>"),u&&u.tableClassName&&h.addClass(u.tableClassName),h[0]}},{key:"deleteTable",value:function(t){var r=n.ancestor(t.commonAncestor(),n.isCell);i()(r).closest("table").remove()}}],f&&ou(r.prototype,f),o&&ou(r,o),t}();cu=function(){function t(r){var f=this,o;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.context=r;this.$note=r.layoutInfo.note;this.$editor=r.layoutInfo.editor;this.$editable=r.layoutInfo.editable;this.options=r.options;this.lang=this.options.langInfo;this.editable=this.$editable[0];this.lastRange=null;this.snapshot=null;this.style=new ru;this.table=new su;this.typing=new eu(r);this.bullet=new fi;this.history=new tu(r);this.context.memo("help.escape",this.lang.help.escape);this.context.memo("help.undo",this.lang.help.undo);this.context.memo("help.redo",this.lang.help.redo);this.context.memo("help.tab",this.lang.help.tab);this.context.memo("help.untab",this.lang.help.untab);this.context.memo("help.insertParagraph",this.lang.help.insertParagraph);this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList);this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList);this.context.memo("help.indent",this.lang.help.indent);this.context.memo("help.outdent",this.lang.help.outdent);this.context.memo("help.formatPara",this.lang.help.formatPara);this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule);this.context.memo("help.fontName",this.lang.help.fontName);for(var c=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],s=0,l=c.length;s<l;s++)this[c[s]]=function(n){return function(t){f.beforeCommand();document.execCommand(n,!1,t);f.afterCommand(!0)}}(c[s]),this.context.memo("help."+c[s],this.lang.help[c[s]]);for(this.fontName=this.wrapCommand(function(n){return f.fontStyling("font-family",h.validFontName(n))}),this.fontSize=this.wrapCommand(function(n){var t=f.currentStyle()["font-size-unit"];return f.fontStyling("font-size",n+t)}),this.fontSizeUnit=this.wrapCommand(function(n){var t=f.currentStyle()["font-size"];return f.fontStyling("font-size",t+n)}),o=1;o<=6;o++)this["formatH"+o]=function(n){return function(){f.formatBlock("H"+n)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand(function(){f.typing.insertParagraph(f.editable)});this.insertOrderedList=this.wrapCommand(function(){f.bullet.insertOrderedList(f.editable)});this.insertUnorderedList=this.wrapCommand(function(){f.bullet.insertUnorderedList(f.editable)});this.indent=this.wrapCommand(function(){f.bullet.indent(f.editable)});this.outdent=this.wrapCommand(function(){f.bullet.outdent(f.editable)});this.insertNode=this.wrapCommand(function(n){f.isLimited(i()(n).text().length)||(f.getLastRange().insertNode(n),f.setLastRange(e.createFromNodeAfter(n).select()))});this.insertText=this.wrapCommand(function(t){if(!f.isLimited(t.length)){var i=f.getLastRange().insertNode(n.createText(t));f.setLastRange(e.create(i,n.nodeLength(i)).select())}});this.pasteHTML=this.wrapCommand(function(n){if(!f.isLimited(n.length)){n=f.context.invoke("codeview.purify",n);var t=f.getLastRange().pasteHTML(n);f.setLastRange(e.createFromNodeAfter(u.last(t)).select())}});this.formatBlock=this.wrapCommand(function(n,t){var i=f.options.callbacks.onApplyCustomStyle;i?i.call(f,t,f.context,f.onFormatBlock):f.onFormatBlock(n,t)});this.insertHorizontalRule=this.wrapCommand(function(){var t=f.getLastRange().insertNode(n.create("HR"));t.nextSibling&&f.setLastRange(e.create(t.nextSibling,0).normalize().select())});this.lineHeight=this.wrapCommand(function(n){f.style.stylePara(f.getLastRange(),{lineHeight:n})});this.createLink=this.wrapCommand(function(n){var t=n.url,e=n.text,c=n.isNewWindow,l=n.checkProtocol,r=n.range||f.getLastRange(),o=e.length-r.toString().length,s,u,h;o>0&&f.isLimited(o)||(s=r.toString()!==e,"string"==typeof t&&(t=t.trim()),f.options.onCreateLink?t=f.options.onCreateLink(t):l&&(t=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(t)?t:f.options.defaultProtocol+t),u=[],s?(h=(r=r.deleteContents()).insertNode(i()("<A>"+e+"<\/A>")[0]),u.push(h)):u=f.style.styleNodes(r,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),i().each(u,function(n,r){i()(r).attr("href",t);c?i()(r).attr("target","_blank"):i()(r).removeAttr("target")}),f.setLastRange(f.createRangeFromList(u).select()))});this.color=this.wrapCommand(function(n){var t=n.foreColor,i=n.backColor;t&&document.execCommand("foreColor",!1,t);i&&document.execCommand("backColor",!1,i)});this.foreColor=this.wrapCommand(function(n){document.execCommand("foreColor",!1,n)});this.insertTable=this.wrapCommand(function(n){var t=n.split("x");f.getLastRange().deleteContents().insertNode(f.table.createTable(t[0],t[1],f.options))});this.removeMedia=this.wrapCommand(function(){var n=i()(f.restoreTarget()).parent();n.closest("figure").length?n.closest("figure").remove():n=i()(f.restoreTarget()).detach();f.context.triggerEvent("media.delete",n,f.$editable)});this.floatMe=this.wrapCommand(function(n){var t=i()(f.restoreTarget());t.toggleClass("note-float-left","left"===n);t.toggleClass("note-float-right","right"===n);t.css("float","none"===n?"":n)});this.resize=this.wrapCommand(function(n){var t=i()(f.restoreTarget());0===(n=parseFloat(n))?t.css("width",""):t.css({width:100*n+"%",height:""})})}var r,s,c;return r=t,s=[{key:"initialize",value:function(){var t=this;this.$editable.on("keydown",function(n){if(n.keyCode===o.code.ENTER&&t.context.triggerEvent("enter",n),t.context.triggerEvent("keydown",n),t.snapshot=t.history.makeSnapshot(),t.hasKeyShortCut=!1,n.isDefaultPrevented()||(t.options.shortcuts?t.hasKeyShortCut=t.handleKeyMap(n):t.preventDefaultEditableShortCuts(n)),t.isLimited(1,n)){var i=t.getLastRange();if(i.eo-i.so==0)return!1}t.setLastRange();t.options.recordEveryKeystroke&&!1===t.hasKeyShortCut&&t.history.recordUndo()}).on("keyup",function(n){t.setLastRange();t.context.triggerEvent("keyup",n)}).on("focus",function(n){t.setLastRange();t.context.triggerEvent("focus",n)}).on("blur",function(n){t.context.triggerEvent("blur",n)}).on("mousedown",function(n){t.context.triggerEvent("mousedown",n)}).on("mouseup",function(n){t.setLastRange();t.history.recordUndo();t.context.triggerEvent("mouseup",n)}).on("scroll",function(n){t.context.triggerEvent("scroll",n)}).on("paste",function(n){t.setLastRange();t.context.triggerEvent("paste",n)}).on("input",function(){t.isLimited(0)&&t.snapshot&&t.history.applySnapshot(t.snapshot)});this.$editable.attr("spellcheck",this.options.spellCheck);this.$editable.attr("autocorrect",this.options.spellCheck);this.options.disableGrammar&&this.$editable.attr("data-gramm",!1);this.$editable.html(n.html(this.$note)||n.emptyPara);this.$editable.on(h.inputEventName,f.debounce(function(){t.context.triggerEvent("change",t.$editable.html(),t.$editable)},10));this.$editable.on("focusin",function(n){t.context.triggerEvent("focusin",n)}).on("focusout",function(n){t.context.triggerEvent("focusout",n)});this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",function(n){return t.context.triggerEvent("contextmenu",n),!1}):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight));this.history.recordUndo();this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(n){var u=this.options.keyMap[h.isMac?"mac":"pc"],t=[],i,r;if(n.metaKey&&t.push("CMD"),n.ctrlKey&&!n.altKey&&t.push("CTRL"),n.shiftKey&&t.push("SHIFT"),i=o.nameFromCode[n.keyCode],i&&t.push(i),r=u[t.join("+")],"TAB"!==i||this.options.tabDisable)if(r){if(!1!==this.context.invoke(r))return n.preventDefault(),!0}else o.isEdit(n.keyCode)&&this.afterCommand();else this.afterCommand();return!1}},{key:"preventDefaultEditableShortCuts",value:function(n){(n.ctrlKey||n.metaKey)&&u.contains([66,73,85],n.keyCode)&&n.preventDefault()}},{key:"isLimited",value:function(n,t){return n=n||0,(void 0===t||!(o.isMove(t.keyCode)||o.isNavigation(t.keyCode)||t.ctrlKey||t.metaKey||u.contains([o.code.BACKSPACE,o.code.DELETE],t.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+n>this.options.maxTextLength}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(n){var t=e.createFromNodeBefore(u.head(n)).getStartPoint(),i=e.createFromNodeAfter(u.last(n)).getEndPoint();return e.create(t.node,t.offset,i.node,i.offset)}},{key:"setLastRange",value:function(n){n?this.lastRange=n:(this.lastRange=e.create(this.editable),0===i()(this.lastRange.sc).closest(".note-editable").length&&(this.lastRange=e.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(n){n&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(n){this.$editable.data("target",n)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var n=e.create();return n&&(n=n.normalize()),n?this.style.current(n):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(n){return this.style.fromNode(n)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html());this.history.undo();this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html());this.history.commit();this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html());this.history.redo();this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html());document.execCommand("styleWithCSS",!1,this.options.styleWithCSS);this.focus()}},{key:"afterCommand",value:function(n){this.normalizeContent();this.history.recordUndo();n||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var n=this.getLastRange();if(n.isCollapsed()&&n.isOnCell())this.table.tab(n);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(n,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var n=this.getLastRange();if(n.isCollapsed()&&n.isOnCell())this.table.tab(n,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(n){return function(){this.beforeCommand();n.apply(this,arguments);this.afterCommand()}}},{key:"insertImage",value:function(n,t){var u,r=this;return(u=n,i().Deferred(function(n){var t=i()("<img>");t.one("load",function(){t.off("error abort");n.resolve(t)}).one("error abort",function(){t.off("load").detach();n.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",u)}).promise()).then(function(n){r.beforeCommand();"function"==typeof t?t(n):("string"==typeof t&&n.attr("data-filename",t),n.css("width",Math.min(r.$editable.width(),n.width())));n.show();r.getLastRange().insertNode(n[0]);r.setLastRange(e.createFromNodeAfter(n[0]).select());r.afterCommand()}).fail(function(n){r.context.triggerEvent("image.upload.error",n)})}},{key:"insertImagesAsDataURL",value:function(n){var t=this;i().each(n,function(n,r){var u=r.name;t.options.maximumImageFileSize&&t.options.maximumImageFileSize<r.size?t.context.triggerEvent("image.upload.error",t.lang.image.maximumFileSizeError):function(n){return i().Deferred(function(t){i().extend(new FileReader,{onload:function(n){var i=n.target.result;t.resolve(i)},onerror:function(n){t.reject(n)}}).readAsDataURL(n)}).promise()}(r).then(function(n){return t.insertImage(n,u)}).fail(function(){t.context.triggerEvent("image.upload.error")})})}},{key:"insertImagesOrCallback",value:function(n){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",n):this.insertImagesAsDataURL(n)}},{key:"getSelectedText",value:function(){var t=this.getLastRange();return t.isOnAnchor()&&(t=e.createFromNode(n.ancestor(t.sc,n.isAnchor))),t.toString()}},{key:"onFormatBlock",value:function(n,t){var r,u,f;(document.execCommand("FormatBlock",!1,h.isMSIE?"<"+n+">":n),t&&t.length&&(t[0].tagName.toUpperCase()!==n.toUpperCase()&&(t=t.find(n)),t&&t.length))&&(r=this.createRange(),u=i()([r.sc,r.ec]).closest(n),u.removeClass(),f=t[0].className||"",f&&u.addClass(f))}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(t,r){var s=this.getLastRange(),o,f,h;""!==s?(o=this.style.styleNodes(s),(this.$editor.find(".note-status-output").html(""),i()(o).css(t,r),s.isCollapsed())?(f=u.head(o),f&&!n.nodeLength(f)&&(f.innerHTML=n.ZERO_WIDTH_NBSP_CHAR,e.createFromNode(f.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",f))):this.setLastRange(this.createRangeFromList(o).select())):(h=i().now(),this.$editor.find(".note-status-output").html('<div id="note-status-output-'+h+'" class="alert alert-info">'+this.lang.output.noSelection+"<\/div>"),setTimeout(function(){i()("#note-status-output-"+h).remove()},5e3))}},{key:"unlink",value:function(){var t=this.getLastRange(),i;t.isOnAnchor()&&(i=n.ancestor(t.sc,n.isAnchor),(t=e.createFromNode(i)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand())}},{key:"getLinkInfo",value:function(){var r=this.getLastRange().expand(n.isAnchor),t=i()(u.head(r.nodes(n.isAnchor))),f={range:r,text:r.toString(),url:t.length?t.attr("href"):""};return t.length&&(f.isNewWindow="_blank"===t.attr("target")),f}},{key:"addRow",value:function(n){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,n),this.afterCommand())}},{key:"addCol",value:function(n){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,n),this.afterCommand())}},{key:"deleteRow",value:function(){var n=this.getLastRange(this.$editable);n.isCollapsed()&&n.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(n),this.afterCommand())}},{key:"deleteCol",value:function(){var n=this.getLastRange(this.$editable);n.isCollapsed()&&n.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(n),this.afterCommand())}},{key:"deleteTable",value:function(){var n=this.getLastRange(this.$editable);n.isCollapsed()&&n.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(n),this.afterCommand())}},{key:"resizeTo",value:function(n,t,i){var u,f,r;i?(f=n.y/n.x,r=t.data("ratio"),u={width:r>f?n.x:n.y/r,height:r>f?n.x*r:n.y}):u={width:n.x,height:n.y};t.css(u)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.focus()}},{key:"isEmpty",value:function(){return n.isEmpty(this.$editable[0])||n.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",n.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}],s&&hu(r.prototype,s),c&&hu(r,c),t}();au=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.$editable=t.layoutInfo.editable}var t,i,r;return t=n,(i=[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(n){var f=this,t=n.originalEvent.clipboardData,i,r;t&&t.items&&t.items.length?(i=t.items.length>1?t.items[1]:u.head(t.items),"file"===i.kind&&-1!==i.type.indexOf("image/")?(this.context.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),n.preventDefault()):"string"===i.kind&&this.context.invoke("editor.isLimited",t.getData("Text").length)&&n.preventDefault()):window.clipboardData&&(r=window.clipboardData.getData("text"),this.context.invoke("editor.isLimited",r.length)&&n.preventDefault());setTimeout(function(){f.context.invoke("editor.afterCommand")},10)}}])&&lu(t.prototype,i),r&&lu(t,r),n}();yu=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.$eventListener=i()(document);this.$editor=t.layoutInfo.editor;this.$editable=t.layoutInfo.editable;this.options=t.options;this.lang=this.options.langInfo;this.documentEventHandlers={};this.$dropzone=i()('<div class="note-dropzone"><div class="note-dropzone-message"><\/div><\/div>').prependTo(this.$editor)}var t,r,u;return t=n,r=[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(n){n.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var n=this,t=i()(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(i){var u=n.context.invoke("codeview.isActivated"),f=n.$editor.width()>0&&n.$editor.height()>0;u||t.length||!f||(n.$editor.addClass("dragover"),n.$dropzone.width(n.$editor.width()),n.$dropzone.height(n.$editor.height()),r.text(n.lang.image.dragImageHere));t=t.add(i.target)};this.documentEventHandlers.onDragleave=function(r){(t=t.not(r.target)).length&&"BODY"!==r.target.nodeName||(t=i()(),n.$editor.removeClass("dragover"))};this.documentEventHandlers.onDrop=function(){t=i()();n.$editor.removeClass("dragover")};this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop);this.$dropzone.on("dragenter",function(){n.$dropzone.addClass("hover");r.text(n.lang.image.dropImage)}).on("dragleave",function(){n.$dropzone.removeClass("hover");r.text(n.lang.image.dragImageHere)});this.$dropzone.on("drop",function(t){var r=t.originalEvent.dataTransfer;t.preventDefault();r&&r.files&&r.files.length?(n.$editable.focus(),n.context.invoke("editor.insertImagesOrCallback",r.files)):i().each(r.types,function(t,u){if(!(u.toLowerCase().indexOf("_moz_")>-1)){var f=r.getData(u);u.toLowerCase().indexOf("text")>-1?n.context.invoke("editor.pasteHTML",f):i()(f).each(function(t,i){n.context.invoke("editor.insertNode",i)})}})}).on("dragover",!1)}},{key:"destroy",value:function(){var n=this;Object.keys(this.documentEventHandlers).forEach(function(t){n.$eventListener.off(t.substr(2).toLowerCase(),n.documentEventHandlers[t])});this.documentEventHandlers={}}}],r&&vu(t.prototype,r),u&&vu(t,u),n}();bu=function(){function t(n){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.context=n;this.$editor=n.layoutInfo.editor;this.$editable=n.layoutInfo.editable;this.$codable=n.layoutInfo.codable;this.options=n.options;this.CodeMirrorConstructor=window.CodeMirror;this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)}var i,r,u;return i=t,r=[{key:"sync",value:function(n){var i=this.isActivated(),t=this.CodeMirrorConstructor;i&&(n?t?this.$codable.data("cmEditor").getDoc().setValue(n):this.$codable.val(n):t&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var n=this;this.$codable.on("keyup",function(t){t.keyCode===o.code.ESCAPE&&n.deactivate()})}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate();this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(n){if(this.options.codeviewFilter&&(n=n.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var t=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);n=n.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(n){var r,i,u;if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(n))return"";i=io(t);try{for(i.s();!(r=i.n()).done;)if(u=r.value,new RegExp('src="(https?:)?//'+u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(n))return n}catch(n){i.e(n)}finally{i.f()}return""})}return n}},{key:"activate",value:function(){var i=this,r=this.CodeMirrorConstructor,t,u;(this.$codable.val(n.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),r)?(t=r.fromTextArea(this.$codable[0],this.options.codemirror),this.options.codemirror.tern&&(u=new r.TernServer(this.options.codemirror.tern),t.ternServer=u,t.on("cursorActivity",function(n){u.updateArgHints(n)})),t.on("blur",function(n){i.context.triggerEvent("blur.codeview",t.getValue(),n)}),t.on("change",function(){i.context.triggerEvent("change.codeview",t.getValue(),t)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)):(this.$codable.on("blur",function(n){i.context.triggerEvent("blur.codeview",i.$codable.val(),n)}),this.$codable.on("input",function(){i.context.triggerEvent("change.codeview",i.$codable.val(),i.$codable)}))}},{key:"deactivate",value:function(){var t,i,r;this.CodeMirrorConstructor&&(t=this.$codable.data("cmEditor"),this.$codable.val(t.getValue()),t.toTextArea());i=this.purify(n.value(this.$codable,this.options.prettifyHtml)||n.emptyPara);r=this.$editable.html()!==i;this.$editable.html(i);this.$editable.height(this.options.height?this.$codable.height():"auto");this.$editor.removeClass("codeview");r&&this.context.triggerEvent("change",this.$editable.html(),this.$editable);this.$editable.focus();this.context.invoke("toolbar.updateCodeview",!1);this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}],r&&wu(i.prototype,r),u&&wu(i,u),t}();du=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.$document=i()(document);this.$statusbar=t.layoutInfo.statusbar;this.$editable=t.layoutInfo.editable;this.$codable=t.layoutInfo.codable;this.options=t.options}var t,r,u;return t=n,(r=[{key:"initialize",value:function(){var n=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){t.preventDefault();t.stopPropagation();var r=n.$editable.offset().top-n.$document.scrollTop(),u=n.$codable.offset().top-n.$document.scrollTop(),i=function(t){var i=t.clientY-(r+24),f=t.clientY-(u+24);i=n.options.minheight>0?Math.max(i,n.options.minheight):i;i=n.options.maxHeight>0?Math.min(i,n.options.maxHeight):i;f=n.options.minheight>0?Math.max(f,n.options.minheight):f;f=n.options.maxHeight>0?Math.min(f,n.options.maxHeight):f;n.$editable.height(i);n.$codable.height(f)};n.$document.on("mousemove",i).one("mouseup",function(){n.$document.off("mousemove",i)})})}},{key:"destroy",value:function(){this.$statusbar.off();this.$statusbar.addClass("locked")}}])&&ku(t.prototype,r),u&&ku(t,u),n}();nf=function(){function n(t){var r=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.$editor=t.layoutInfo.editor;this.$toolbar=t.layoutInfo.toolbar;this.$editable=t.layoutInfo.editable;this.$codable=t.layoutInfo.codable;this.$window=i()(window);this.$scrollbar=i()("html, body");this.scrollbarClassName="note-fullscreen-body";this.onResize=function(){r.resizeTo({h:r.$window.height()-r.$toolbar.outerHeight()})}}var t,r,u;return t=n,(r=[{key:"resizeTo",value:function(n){this.$editable.css("height",n.h);this.$codable.css("height",n.h);this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,n.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen");var n=this.isFullscreen();this.$scrollbar.toggleClass(this.scrollbarClassName,n);n?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")));this.context.invoke("toolbar.updateFullscreen",n)}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}},{key:"destroy",value:function(){this.$scrollbar.removeClass(this.scrollbarClassName)}}])&&gu(t.prototype,r),u&&gu(t,u),n}();rf=function(){function t(n){var r=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.context=n;this.$document=i()(document);this.$editingArea=n.layoutInfo.editingArea;this.options=n.options;this.lang=this.options.langInfo;this.events={"summernote.mousedown":function(n,t){r.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){r.update()},"summernote.disable summernote.blur":function(){r.hide()},"summernote.codeview.toggled":function(){r.update()}}}var r,u,f;return r=t,u=[{key:"initialize",value:function(){var t=this;this.$handle=i()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"><\/div>','<div class="note-control-holder note-control-nw"><\/div>','<div class="note-control-holder note-control-ne"><\/div>','<div class="note-control-holder note-control-sw"><\/div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"><\/div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"><\/div>',"<\/div>","<\/div>"].join("")).prependTo(this.$editingArea);this.$handle.on("mousedown",function(i){if(n.isControlSizing(i.target)){i.preventDefault();i.stopPropagation();var r=t.$handle.find(".note-control-selection").data("target"),u=r.offset(),e=t.$document.scrollTop(),f=function(n){t.context.invoke("editor.resizeTo",{x:n.clientX-u.left,y:n.clientY-(u.top-e)},r,!n.shiftKey);t.update(r[0],n)};t.$document.on("mousemove",f).one("mouseup",function(n){n.preventDefault();t.$document.off("mousemove",f);t.context.invoke("editor.afterCommand")});r.data("ratio")||r.data("ratio",r.height()/r.width())}});this.$handle.on("wheel",function(n){n.preventDefault();t.update()})}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(t,r){var o,s,e,l;if(this.context.isDisabled())return!1;if(o=n.isImg(t),s=this.$handle.find(".note-control-selection"),this.context.invoke("imagePopover.update",t,r),o){var u=i()(t),h=u.position(),c={left:h.left+parseInt(u.css("marginLeft"),10),top:h.top+parseInt(u.css("marginTop"),10)},f={w:u.outerWidth(!1),h:u.outerHeight(!1)};s.css({display:"block",left:c.left,top:c.top,width:f.w,height:f.h}).data("target",u);e=new Image;e.src=u.attr("src");l=f.w+"x"+f.h+" ("+this.lang.image.original+": "+e.width+"x"+e.height+")";s.find(".note-control-selection-info").text(l);this.context.invoke("editor.saveTarget",t)}else this.hide();return o}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget");this.$handle.children().hide()}}],u&&tf(r.prototype,u),f&&tf(r,f),t}();ff=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@|xmpp:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;ef=function(){function n(t){var i=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.options=t.options;this.events={"summernote.keyup":function(n,t){t.isDefaultPrevented()||i.handleKeyup(t)},"summernote.keydown":function(n,t){i.handleKeydown(t)}}}var t,r,f;return t=n,(r=[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){var n,t;if(this.lastWordRange&&(n=this.lastWordRange.toString(),t=n.match(ff),t&&(t[1]||t[2]))){var u=t[1]?n:"http://"+n,f=this.options.showDomainOnlyForAutolink?n.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:xmpp?:?)?(?:www\.)?/i,"").split("/")[0]:n,r=i()("<a><\/a>").html(f).attr("href",u)[0];this.context.options.linkTargetBlank&&i()(r).attr("target","_blank");this.lastWordRange.insertNode(r);this.lastWordRange=null;this.context.invoke("editor.focus")}}},{key:"handleKeydown",value:function(n){if(u.contains([o.code.ENTER,o.code.SPACE],n.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}}},{key:"handleKeyup",value:function(n){u.contains([o.code.ENTER,o.code.SPACE],n.keyCode)&&this.replace()}}])&&uf(t.prototype,r),f&&uf(t,f),n}();hf=function(){function t(n){var i=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.$note=n.layoutInfo.note;this.events={"summernote.change":function(){i.$note.val(n.invoke("code"))}}}var i,r,u;return i=t,(r=[{key:"shouldInitialize",value:function(){return n.isTextarea(this.$note[0])}}])&&sf(i.prototype,r),u&&sf(i,u),t}();lf=function(){function t(n){var i=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.context=n;this.options=n.options.replace||{};this.keys=[o.code.ENTER,o.code.SPACE,o.code.PERIOD,o.code.COMMA,o.code.SEMICOLON,o.code.SLASH];this.previousKeydownCode=null;this.events={"summernote.keyup":function(n,t){t.isDefaultPrevented()||i.handleKeyup(t)},"summernote.keydown":function(n,t){i.handleKeydown(t)}}}var i,r,f;return i=t,(r=[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){if(this.lastWord){var t=this,i=this.lastWord.toString();this.options.match(i,function(i){if(i){var r="";if("string"==typeof i?r=n.createText(i):i instanceof jQuery?r=i[0]:i instanceof Node&&(r=i),!r)return;t.lastWord.insertNode(r);t.lastWord=null;t.context.invoke("editor.focus")}})}}},{key:"handleKeydown",value:function(n){if(this.previousKeydownCode&&u.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=n.keyCode;else{if(u.contains(this.keys,n.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWord=t}this.previousKeydownCode=n.keyCode}}},{key:"handleKeyup",value:function(n){u.contains(this.keys,n.keyCode)&&this.replace()}}])&&cf(i.prototype,r),f&&cf(i,f),t}();vf=function(){function n(t){var i=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.$editingArea=t.layoutInfo.editingArea;this.options=t.options;!0===this.options.inheritPlaceholder&&(this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder);this.events={"summernote.init summernote.change":function(){i.update()},"summernote.codeview.toggled":function(){i.update()}}}var t,r,u;return t=n,(r=[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var n=this;this.$placeholder=i()('<div class="note-placeholder"><\/div>');this.$placeholder.on("click",function(){n.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea);this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var n=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(n)}}])&&af(t.prototype,r),u&&af(t,u),n}();pf=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.ui=i().summernote.ui;this.context=t;this.$toolbar=t.layoutInfo.toolbar;this.options=t.options;this.lang=this.options.langInfo;this.invertedKeyMap=f.invertObject(this.options.keyMap[h.isMac?"mac":"pc"])}var t,r,e;return t=n,r=[{key:"representShortcut",value:function(n){var t=this.invertedKeyMap[n];return this.options.shortcuts&&t?(h.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""}},{key:"button",value:function(n){return!this.options.tooltip&&n.tooltip&&delete n.tooltip,n.container=this.options.container,this.ui.button(n)}},{key:"initialize",value:function(){this.addToolbarButtons();this.addImagePopoverButtons();this.addLinkPopoverButtons();this.addTablePopoverButtons();this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(n){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,n)||(this.fontInstalledMap[n]=h.isFontInstalled(n)||u.contains(this.options.fontNamesIgnoreCheck,n)),this.fontInstalledMap[n]}},{key:"isFontDeservedToAdd",value:function(n){return""!==(n=n.toLowerCase())&&this.isFontInstalled(n)&&-1===h.genericFontFamilies.indexOf(n)}},{key:"colorPalette",value:function(n,t,r,f){var e=this;return this.ui.buttonGroup({className:"note-color "+n,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(n){var t=i()(n.currentTarget);r&&f?e.context.invoke("editor.color",{backColor:t.attr("data-backColor"),foreColor:t.attr("data-foreColor")}):r?e.context.invoke("editor.color",{backColor:t.attr("data-backColor")}):f&&e.context.invoke("editor.color",{foreColor:t.attr("data-foreColor")})},callback:function(n){var t=n.find(".note-recent-color");r&&(t.css("background-color",e.options.colorButton.backColor),n.attr("data-backColor",e.options.colorButton.backColor));f?(t.css("color",e.options.colorButton.foreColor),n.attr("data-foreColor",e.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(r?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"<\/div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"<\/button>","<\/div>",'<div class="note-holder" data-event="backColor"><!-- back colors --><\/div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker-'+this.options.id+'">',this.lang.color.cpSelect,"<\/button>",'<input type="color" id="backColorPicker-'+this.options.id+'" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette-'+this.options.id+'">',"<\/div>",'<div class="note-holder-custom" id="backColorPalette-'+this.options.id+'" data-event="backColor"><\/div>',"<\/div>"].join(""):"")+(f?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"<\/div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"<\/button>","<\/div>",'<div class="note-holder" data-event="foreColor"><!-- fore colors --><\/div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker-'+this.options.id+'">',this.lang.color.cpSelect,"<\/button>",'<input type="color" id="foreColorPicker-'+this.options.id+'" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette-'+this.options.id+'">',"<\/div>",'<div class="note-holder-custom" id="foreColorPalette-'+this.options.id+'" data-event="foreColor"><\/div>',"<\/div>"].join(""):""),callback:function(n){n.find(".note-holder").each(function(n,t){var r=i()(t);r.append(e.ui.palette({colors:e.options.colors,colorsName:e.options.colorsName,eventName:r.data("event"),container:e.options.container,tooltip:e.options.tooltip}).render())});var t=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];n.find(".note-holder-custom").each(function(n,r){var u=i()(r);u.append(e.ui.palette({colors:t,colorsName:t,eventName:u.data("event"),container:e.options.container,tooltip:e.options.tooltip}).render())});n.find("input[type=color]").each(function(t,r){i()(r).change(function(){var r=n.find("#"+i()(this).data("event")).find(".note-color-btn").first(),t=this.value.toUpperCase();r.css("background-color",t).attr("aria-label",t).attr("data-value",t).attr("data-original-title",t);r.click()})})},click:function(t){t.stopPropagation();var c=i()("."+n).find(".note-dropdown-menu"),f=i()(t.target),r=f.data("event"),o=f.attr("data-value");if("openPalette"===r){var h=c.find("#"+o),l=i()(c.find("#"+h.data("event")).find(".note-color-row")[0]),a=l.find(".note-color-btn").last().detach(),s=h.val();a.css("background-color",s).attr("aria-label",s).attr("data-value",s).attr("data-original-title",s);l.prepend(a);h.click()}else{if(u.contains(["backColor","foreColor"],r)){var v="backColor"===r?"background-color":"color",y=f.closest(".note-color").find(".note-recent-color"),p=f.closest(".note-color").find(".note-current-color-button");y.css(v,o);p.attr("data-"+r,o)}e.context.invoke("editor."+r,o)}}})]}).render()}},{key:"addToolbarButtons",value:function(){var n=this;this.context.memo("button.style",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.magic),n.options),tooltip:n.lang.style.style,data:{toggle:"dropdown"}}),n.ui.dropdown({className:"dropdown-style",items:n.options.styleTags,title:n.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:Object.prototype.hasOwnProperty.call(n.lang.style,t)?n.lang.style[t]:t});var i=t.tag,r=t.title;return"<"+i+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+r+"<\/"+i+">"},click:n.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var l=function(t){var i=n.options.styleTags[t];n.context.memo("button.style."+i,function(){return n.button({className:"note-btn-style-"+i,contents:'<div data-value="'+i+'">'+i.toUpperCase()+"<\/div>",tooltip:n.lang.style[i],click:n.context.createInvokeHandler("editor.formatBlock")}).render()})},t=0,a=this.options.styleTags.length;t<a;t++)l(t);this.context.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.ui.icon(n.options.icons.bold),tooltip:n.lang.font.bold+n.representShortcut("bold"),click:n.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()});this.context.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.ui.icon(n.options.icons.italic),tooltip:n.lang.font.italic+n.representShortcut("italic"),click:n.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()});this.context.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.ui.icon(n.options.icons.underline),tooltip:n.lang.font.underline+n.representShortcut("underline"),click:n.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()});this.context.memo("button.clear",function(){return n.button({contents:n.ui.icon(n.options.icons.eraser),tooltip:n.lang.font.clear+n.representShortcut("removeFormat"),click:n.context.createInvokeHandler("editor.removeFormat")}).render()});this.context.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.ui.icon(n.options.icons.strikethrough),tooltip:n.lang.font.strikethrough+n.representShortcut("strikethrough"),click:n.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()});this.context.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.ui.icon(n.options.icons.superscript),tooltip:n.lang.font.superscript,click:n.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()});this.context.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.ui.icon(n.options.icons.subscript),tooltip:n.lang.font.subscript,click:n.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()});this.context.memo("button.fontname",function(){var t=n.context.invoke("editor.currentStyle");return n.options.addDefaultFonts&&i().each(t["font-family"].split(","),function(t,i){i=i.trim().replace(/['"]+/g,"");n.isFontDeservedToAdd(i)&&-1===n.options.fontNames.indexOf(i)&&n.options.fontNames.push(i)}),n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontname"><\/span>',n.options),tooltip:n.lang.font.name,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:n.options.icons.menuCheck,items:n.options.fontNames.filter(n.isFontInstalled.bind(n)),title:n.lang.font.name,template:function(n){return'<span style="font-family: '+h.validFontName(n)+'">'+n+"<\/span>"},click:n.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()});this.context.memo("button.fontsize",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontsize"><\/span>',n.options),tooltip:n.lang.font.size,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:n.options.icons.menuCheck,items:n.options.fontSizes,title:n.lang.font.size,click:n.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()});this.context.memo("button.fontsizeunit",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"><\/span>',n.options),tooltip:n.lang.font.sizeunit,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:n.options.icons.menuCheck,items:n.options.fontSizeUnits,title:n.lang.font.sizeunit,click:n.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()});this.context.memo("button.color",function(){return n.colorPalette("note-color-all",n.lang.color.recent,!0,!0)});this.context.memo("button.forecolor",function(){return n.colorPalette("note-color-fore",n.lang.color.foreground,!1,!0)});this.context.memo("button.backcolor",function(){return n.colorPalette("note-color-back",n.lang.color.background,!0,!1)});this.context.memo("button.ul",function(){return n.button({contents:n.ui.icon(n.options.icons.unorderedlist),tooltip:n.lang.lists.unordered+n.representShortcut("insertUnorderedList"),click:n.context.createInvokeHandler("editor.insertUnorderedList")}).render()});this.context.memo("button.ol",function(){return n.button({contents:n.ui.icon(n.options.icons.orderedlist),tooltip:n.lang.lists.ordered+n.representShortcut("insertOrderedList"),click:n.context.createInvokeHandler("editor.insertOrderedList")}).render()});var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),u=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),e=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),o=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),s=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",f.invoke(r,"render"));this.context.memo("button.justifyCenter",f.invoke(u,"render"));this.context.memo("button.justifyRight",f.invoke(e,"render"));this.context.memo("button.justifyFull",f.invoke(o,"render"));this.context.memo("button.outdent",f.invoke(s,"render"));this.context.memo("button.indent",f.invoke(c,"render"));this.context.memo("button.paragraph",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.alignLeft),n.options),tooltip:n.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),n.ui.dropdown([n.ui.buttonGroup({className:"note-align",children:[r,u,e,o]}),n.ui.buttonGroup({className:"note-list",children:[s,c]})])]).render()});this.context.memo("button.height",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.textHeight),n.options),tooltip:n.lang.font.height,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({items:n.options.lineHeights,checkClassName:n.options.icons.menuCheck,className:"dropdown-line-height",title:n.lang.font.height,click:n.context.createInvokeHandler("editor.lineHeight")})]).render()});this.context.memo("button.table",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.table),n.options),tooltip:n.lang.table.table,data:{toggle:"dropdown"}}),n.ui.dropdown({title:n.lang.table.table,className:"note-table",items:'<div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"><\/div><div class="note-dimension-picker-highlighted"><\/div><div class="note-dimension-picker-unhighlighted"><\/div><\/div><div class="note-dimension-display">1 x 1<\/div>'})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:n.options.insertTableMaxSize.col+"em",height:n.options.insertTableMaxSize.row+"em"}).mouseup(n.context.createInvokeHandler("editor.insertTable")).on("mousemove",n.tableMoveHandler.bind(n))}}).render()});this.context.memo("button.link",function(){return n.button({contents:n.ui.icon(n.options.icons.link),tooltip:n.lang.link.link+n.representShortcut("linkDialog.show"),click:n.context.createInvokeHandler("linkDialog.show")}).render()});this.context.memo("button.picture",function(){return n.button({contents:n.ui.icon(n.options.icons.picture),tooltip:n.lang.image.image,click:n.context.createInvokeHandler("imageDialog.show")}).render()});this.context.memo("button.video",function(){return n.button({contents:n.ui.icon(n.options.icons.video),tooltip:n.lang.video.video,click:n.context.createInvokeHandler("videoDialog.show")}).render()});this.context.memo("button.hr",function(){return n.button({contents:n.ui.icon(n.options.icons.minus),tooltip:n.lang.hr.insert+n.representShortcut("insertHorizontalRule"),click:n.context.createInvokeHandler("editor.insertHorizontalRule")}).render()});this.context.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen note-codeview-keep",contents:n.ui.icon(n.options.icons.arrowsAlt),tooltip:n.lang.options.fullscreen,click:n.context.createInvokeHandler("fullscreen.toggle")}).render()});this.context.memo("button.codeview",function(){return n.button({className:"btn-codeview note-codeview-keep",contents:n.ui.icon(n.options.icons.code),tooltip:n.lang.options.codeview,click:n.context.createInvokeHandler("codeview.toggle")}).render()});this.context.memo("button.redo",function(){return n.button({contents:n.ui.icon(n.options.icons.redo),tooltip:n.lang.history.redo+n.representShortcut("redo"),click:n.context.createInvokeHandler("editor.redo")}).render()});this.context.memo("button.undo",function(){return n.button({contents:n.ui.icon(n.options.icons.undo),tooltip:n.lang.history.undo+n.representShortcut("undo"),click:n.context.createInvokeHandler("editor.undo")}).render()});this.context.memo("button.help",function(){return n.button({contents:n.ui.icon(n.options.icons.question),tooltip:n.lang.options.help,click:n.context.createInvokeHandler("helpDialog.show")}).render()})}},{key:"addImagePopoverButtons",value:function(){var n=this;this.context.memo("button.resizeFull",function(){return n.button({contents:'<span class="note-fontsize-10">100%<\/span>',tooltip:n.lang.image.resizeFull,click:n.context.createInvokeHandler("editor.resize","1")}).render()});this.context.memo("button.resizeHalf",function(){return n.button({contents:'<span class="note-fontsize-10">50%<\/span>',tooltip:n.lang.image.resizeHalf,click:n.context.createInvokeHandler("editor.resize","0.5")}).render()});this.context.memo("button.resizeQuarter",function(){return n.button({contents:'<span class="note-fontsize-10">25%<\/span>',tooltip:n.lang.image.resizeQuarter,click:n.context.createInvokeHandler("editor.resize","0.25")}).render()});this.context.memo("button.resizeNone",function(){return n.button({contents:n.ui.icon(n.options.icons.rollback),tooltip:n.lang.image.resizeNone,click:n.context.createInvokeHandler("editor.resize","0")}).render()});this.context.memo("button.floatLeft",function(){return n.button({contents:n.ui.icon(n.options.icons.floatLeft),tooltip:n.lang.image.floatLeft,click:n.context.createInvokeHandler("editor.floatMe","left")}).render()});this.context.memo("button.floatRight",function(){return n.button({contents:n.ui.icon(n.options.icons.floatRight),tooltip:n.lang.image.floatRight,click:n.context.createInvokeHandler("editor.floatMe","right")}).render()});this.context.memo("button.floatNone",function(){return n.button({contents:n.ui.icon(n.options.icons.rollback),tooltip:n.lang.image.floatNone,click:n.context.createInvokeHandler("editor.floatMe","none")}).render()});this.context.memo("button.removeMedia",function(){return n.button({contents:n.ui.icon(n.options.icons.trash),tooltip:n.lang.image.remove,click:n.context.createInvokeHandler("editor.removeMedia")}).render()})}},{key:"addLinkPopoverButtons",value:function(){var n=this;this.context.memo("button.linkDialogShow",function(){return n.button({contents:n.ui.icon(n.options.icons.link),tooltip:n.lang.link.edit,click:n.context.createInvokeHandler("linkDialog.show")}).render()});this.context.memo("button.unlink",function(){return n.button({contents:n.ui.icon(n.options.icons.unlink),tooltip:n.lang.link.unlink,click:n.context.createInvokeHandler("editor.unlink")}).render()})}},{key:"addTablePopoverButtons",value:function(){var n=this;this.context.memo("button.addRowUp",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.rowAbove),tooltip:n.lang.table.addRowAbove,click:n.context.createInvokeHandler("editor.addRow","top")}).render()});this.context.memo("button.addRowDown",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.rowBelow),tooltip:n.lang.table.addRowBelow,click:n.context.createInvokeHandler("editor.addRow","bottom")}).render()});this.context.memo("button.addColLeft",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.colBefore),tooltip:n.lang.table.addColLeft,click:n.context.createInvokeHandler("editor.addCol","left")}).render()});this.context.memo("button.addColRight",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.colAfter),tooltip:n.lang.table.addColRight,click:n.context.createInvokeHandler("editor.addCol","right")}).render()});this.context.memo("button.deleteRow",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.rowRemove),tooltip:n.lang.table.delRow,click:n.context.createInvokeHandler("editor.deleteRow")}).render()});this.context.memo("button.deleteCol",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.colRemove),tooltip:n.lang.table.delCol,click:n.context.createInvokeHandler("editor.deleteCol")}).render()});this.context.memo("button.deleteTable",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.trash),tooltip:n.lang.table.delTable,click:n.context.createInvokeHandler("editor.deleteTable")}).render()})}},{key:"build",value:function(n,t){for(var r,u=0,e=t.length;u<e;u++){for(var i=t[u],h=Array.isArray(i)?i[0]:i,o=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+h}).render(),f=0,c=o.length;f<c;f++)r=this.context.memo("button."+o[f]),r&&s.append("function"==typeof r?r(this.context):r);s.appendTo(n)}}},{key:"updateCurrentStyle",value:function(n){var r=n||this.$toolbar,t=this.context.invoke("editor.currentStyle"),h,f,e,o,s;(this.updateBtnStates(r,{".note-btn-bold":function(){return"bold"===t["font-bold"]},".note-btn-italic":function(){return"italic"===t["font-italic"]},".note-btn-underline":function(){return"underline"===t["font-underline"]},".note-btn-subscript":function(){return"subscript"===t["font-subscript"]},".note-btn-superscript":function(){return"superscript"===t["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===t["font-strikethrough"]}}),t["font-family"])&&(h=t["font-family"].split(",").map(function(n){return n.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),f=u.find(h,this.isFontInstalled.bind(this)),r.find(".dropdown-fontname a").each(function(n,t){var r=i()(t),u=r.data("value")+""==f+"";r.toggleClass("checked",u)}),r.find(".note-current-fontname").text(f).css("font-family",f));t["font-size"]&&(e=t["font-size"],r.find(".dropdown-fontsize a").each(function(n,t){var r=i()(t),u=r.data("value")+""==e+"";r.toggleClass("checked",u)}),r.find(".note-current-fontsize").text(e),o=t["font-size-unit"],r.find(".dropdown-fontsizeunit a").each(function(n,t){var r=i()(t),u=r.data("value")+""==o+"";r.toggleClass("checked",u)}),r.find(".note-current-fontsizeunit").text(o));t["line-height"]&&(s=t["line-height"],r.find(".dropdown-line-height a").each(function(n,t){var r=i()(t),u=i()(t).data("value")+""==s+"";r.toggleClass("checked",u)}),r.find(".note-current-line-height").text(s))}},{key:"updateBtnStates",value:function(n,t){var r=this;i().each(t,function(t,i){r.ui.toggleBtnActive(n.find(t),i())})}},{key:"tableMoveHandler",value:function(n){var u,f=i()(n.target.parentNode),s=f.next(),h=f.find(".note-dimension-picker-mousecatcher"),c=f.find(".note-dimension-picker-highlighted"),o=f.find(".note-dimension-picker-unhighlighted"),e,t,r;void 0===n.offsetX?(e=i()(n.target).offset(),u={x:n.pageX-e.left,y:n.pageY-e.top}):u={x:n.offsetX,y:n.offsetY};t=Math.ceil(u.x/18)||1;r=Math.ceil(u.y/18)||1;c.css({width:t+"em",height:r+"em"});h.data("value",t+"x"+r);t>3&&t<this.options.insertTableMaxSize.col&&o.css({width:t+1+"em"});r>3&&r<this.options.insertTableMaxSize.row&&o.css({height:r+1+"em"});s.html(t+" x "+r)}}],r&&yf(t.prototype,r),e&&yf(t,e),n}();bf=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.$window=i()(window);this.$document=i()(document);this.ui=i().summernote.ui;this.$note=t.layoutInfo.note;this.$editor=t.layoutInfo.editor;this.$toolbar=t.layoutInfo.toolbar;this.$editable=t.layoutInfo.editable;this.$statusbar=t.layoutInfo.statusbar;this.options=t.options;this.isFollowing=!1;this.followScroll=this.followScroll.bind(this)}var t,r,u;return t=n,(r=[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var n=this;this.options.toolbar=this.options.toolbar||[];this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide();this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer);this.changeContainer(!1);this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){n.context.invoke("buttons.updateCurrentStyle")});this.context.invoke("buttons.updateCurrentStyle");this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove();this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var o=this.$editor.outerHeight(),s=this.$editor.width(),r=this.$toolbar.height(),h=this.$statusbar.height(),n=0;this.options.otherStaticBar&&(n=i()(this.options.otherStaticBar).outerHeight());var t=this.$document.scrollTop(),u=this.$editor.offset().top,f=u-n,e=u+o-n-r-h;!this.isFollowing&&t>f&&t<e-r?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:n,width:s,zIndex:1e3})):this.isFollowing&&(t<f||t>e)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(n){n?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer);this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(n){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),n);this.changeContainer(n)}},{key:"updateCodeview",value:function(n){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),n);n?this.deactivate():this.activate()}},{key:"activate",value:function(n){var t=this.$toolbar.find("button");n||(t=t.not(".note-codeview-keep"));this.ui.toggleBtn(t,!0)}},{key:"deactivate",value:function(n){var t=this.$toolbar.find("button");n||(t=t.not(".note-codeview-keep"));this.ui.toggleBtn(t,!1)}}])&&wf(t.prototype,r),u&&wf(t,u),n}();df=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.ui=i().summernote.ui;this.$body=i()(document.body);this.$editor=t.layoutInfo.editor;this.options=t.options;this.lang=this.options.langInfo;t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var t,r,u;return t=n,(r=[{key:"initialize",value:function(){var n=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"<\/label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"<\/div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"<\/label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"<\/div>",this.options.disableLinkTarget?"":i()("<div><\/div>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html(),i()("<div><\/div>").append(this.ui.checkbox({className:"sn-checkbox-use-protocol",text:this.lang.link.useProtocol,checked:!0}).render()).html()].join(""),r='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-link-btn",'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:r}).render().appendTo(n)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()}},{key:"bindEnterKey",value:function(n,t){n.on("keypress",function(n){n.keyCode===o.code.ENTER&&(n.preventDefault(),t.trigger("click"))})}},{key:"toggleLinkBtn",value:function(n,t,i){this.ui.toggleBtn(n,t.val()&&i.val())}},{key:"showLinkDialog",value:function(n){var t=this;return i().Deferred(function(i){var r=t.$dialog.find(".note-link-text"),u=t.$dialog.find(".note-link-url"),e=t.$dialog.find(".note-link-btn"),o=t.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"),s=t.$dialog.find(".sn-checkbox-use-protocol input[type=checkbox]");t.ui.onDialogShown(t.$dialog,function(){var c,l;t.context.triggerEvent("dialog.shown");!n.url&&f.isValidUrl(n.text)&&(n.url=n.text);r.on("input paste propertychange",function(){n.text=r.val();t.toggleLinkBtn(e,r,u)}).val(n.text);u.on("input paste propertychange",function(){n.text||r.val(u.val());t.toggleLinkBtn(e,r,u)}).val(n.url);h.isSupportTouch||u.trigger("focus");t.toggleLinkBtn(e,r,u);t.bindEnterKey(u,e);t.bindEnterKey(r,e);c=void 0!==n.isNewWindow?n.isNewWindow:t.context.options.linkTargetBlank;o.prop("checked",c);l=!n.url&&t.context.options.useProtocol;s.prop("checked",l);e.one("click",function(f){f.preventDefault();i.resolve({range:n.range,url:u.val(),text:r.val(),isNewWindow:o.is(":checked"),checkProtocol:s.is(":checked")});t.ui.hideDialog(t.$dialog)})});t.ui.onDialogHidden(t.$dialog,function(){r.off();u.off();e.off();"pending"===i.state()&&i.reject()});t.ui.showDialog(t.$dialog)}).promise()}},{key:"show",value:function(){var n=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange");this.showLinkDialog(t).then(function(t){n.context.invoke("editor.restoreRange");n.context.invoke("editor.createLink",t)}).fail(function(){n.context.invoke("editor.restoreRange")})}}])&&kf(t.prototype,r),u&&kf(t,u),n}();ne=function(){function t(n){var r=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.context=n;this.ui=i().summernote.ui;this.options=n.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){r.update()},"summernote.disable summernote.dialog.shown":function(){r.hide()},"summernote.blur":function(n,t){t.originalEvent&&t.originalEvent.relatedTarget&&r.$popover[0].contains(t.originalEvent.relatedTarget)||r.hide()}}}var r,f,e;return r=t,(f=[{key:"shouldInitialize",value:function(){return!u.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(n){n.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"><\/a>&nbsp;<\/span>')}}).render().appendTo(this.options.container);var n=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",n,this.options.popover.link);this.$popover.on("mousedown",function(n){n.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){var r,u,f,t,e;this.context.invoke("editor.hasFocus")?(r=this.context.invoke("editor.getLastRange"),r.isCollapsed()&&r.isOnAnchor()?(u=n.ancestor(r.sc,n.isAnchor),f=i()(u).attr("href"),this.$popover.find("a").attr("href",f).text(f),t=n.posFromPlaceholder(u),e=i()(this.options.container).offset(),t.top-=e.top,t.left-=e.left,this.$popover.css({display:"block",left:t.left,top:t.top})):this.hide()):this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&gf(r.prototype,f),e&&gf(r,e),t}();ie=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.ui=i().summernote.ui;this.$body=i()(document.body);this.$editor=t.layoutInfo.editor;this.options=t.options;this.lang=this.options.langInfo}var t,r,u;return t=n,(r=[{key:"initialize",value:function(){var t="",n,i;this.options.maximumImageFileSize&&(n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),i=1*(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B",t="<small>".concat(this.lang.image.maximumFileSize+" : "+i,"<\/small>"));var r=this.options.dialogsInBody?this.$body:this.options.container,u=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"<\/label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="'+this.options.acceptImageFileTypes+'" multiple="multiple"/>',t,"<\/div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"<\/label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"<\/div>"].join(""),f='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-image-btn",'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:u,footer:f}).render().appendTo(r)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()}},{key:"bindEnterKey",value:function(n,t){n.on("keypress",function(n){n.keyCode===o.code.ENTER&&(n.preventDefault(),t.trigger("click"))})}},{key:"show",value:function(){var n=this;this.context.invoke("editor.saveRange");this.showImageDialog().then(function(t){n.ui.hideDialog(n.$dialog);n.context.invoke("editor.restoreRange");"string"==typeof t?n.options.callbacks.onImageLinkInsert?n.context.triggerEvent("image.link.insert",t):n.context.invoke("editor.insertImage",t):n.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){n.context.invoke("editor.restoreRange")})}},{key:"showImageDialog",value:function(){var n=this;return i().Deferred(function(t){var u=n.$dialog.find(".note-image-input"),i=n.$dialog.find(".note-image-url"),r=n.$dialog.find(".note-image-btn");n.ui.onDialogShown(n.$dialog,function(){n.context.triggerEvent("dialog.shown");u.replaceWith(u.clone().on("change",function(n){t.resolve(n.target.files||n.target.value)}).val(""));i.on("input paste propertychange",function(){n.ui.toggleBtn(r,i.val())}).val("");h.isSupportTouch||i.trigger("focus");r.click(function(n){n.preventDefault();t.resolve(i.val())});n.bindEnterKey(i,r)});n.ui.onDialogHidden(n.$dialog,function(){u.off();i.off();r.off();"pending"===t.state()&&t.reject()});n.ui.showDialog(n.$dialog)})}}])&&te(t.prototype,r),u&&te(t,u),n}();ue=function(){function t(n){var r=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.context=n;this.ui=i().summernote.ui;this.editable=n.layoutInfo.editable[0];this.options=n.options;this.events={"summernote.disable summernote.dialog.shown":function(){r.hide()},"summernote.blur":function(n,t){t.originalEvent&&t.originalEvent.relatedTarget&&r.$popover[0].contains(t.originalEvent.relatedTarget)||r.hide()}}}var r,f,e;return r=t,f=[{key:"shouldInitialize",value:function(){return!u.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var n=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",n,this.options.popover.image);this.$popover.on("mousedown",function(n){n.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t,r){if(n.isImg(t)){var e=i()(t).offset(),f=i()(this.options.container).offset(),u={};this.options.popatmouse?(u.left=r.pageX-20,u.top=r.pageY):u=e;u.top-=f.top;u.left-=f.left;this.$popover.css({display:"block",left:u.left,top:u.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}],f&&re(r.prototype,f),e&&re(r,e),t}();ee=function(){function t(n){var r=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.context=n;this.ui=i().summernote.ui;this.options=n.options;this.events={"summernote.mousedown":function(n,t){r.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){r.update()},"summernote.disable summernote.dialog.shown":function(){r.hide()},"summernote.blur":function(n,t){t.originalEvent&&t.originalEvent.relatedTarget&&r.$popover[0].contains(t.originalEvent.relatedTarget)||r.hide()}}}var r,f,e;return r=t,f=[{key:"shouldInitialize",value:function(){return!u.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var n=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",n,this.options.popover.table);h.isFF&&document.execCommand("enableInlineTableEditing",!1,!1);this.$popover.on("mousedown",function(n){n.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(t){var u,r,f;return this.context.isDisabled()?!1:(u=n.isCell(t)||n.isCell(null==t?void 0:t.parentElement),u?(r=n.posFromPlaceholder(t),f=i()(this.options.container).offset(),r.top-=f.top,r.left-=f.left,this.$popover.css({display:"block",left:r.left,top:r.top})):this.hide(),u)}},{key:"hide",value:function(){this.$popover.hide()}}],f&&fe(r.prototype,f),e&&fe(r,e),t}();se=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.ui=i().summernote.ui;this.$body=i()(document.body);this.$editor=t.layoutInfo.editor;this.options=t.options;this.lang=this.options.langInfo}var t,r,u;return t=n,(r=[{key:"initialize",value:function(){var n=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"<\/small><\/label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"<\/div>"].join(""),i='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-video-btn",'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:i}).render().appendTo(n)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()}},{key:"bindEnterKey",value:function(n,t){n.on("keypress",function(n){n.keyCode===o.code.ENTER&&(n.preventDefault(),t.trigger("click"))})}},{key:"createVideoNode",value:function(n){var r,u=n.match(/\/\/(?:(?:www|m)\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),c=n.match(/(?:\.|\/\/)drive\.google\.com\/file\/d\/(.[a-zA-Z0-9_-]*)\/view/),l=n.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),a=n.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),v=n.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),y=n.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),p=n.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),t=n.match(/\/\/(.*)\/videos\/watch\/([^?]*)(?:\?(?:start=(\w*))?(?:&stop=(\w*))?(?:&loop=([10]))?(?:&autoplay=([10]))?(?:&muted=([10]))?)?/),f=n.match(/\/\/v\.qq\.com.*?vid=(.+)/),w=n.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),ut=n.match(/^.+.(mp4|m4v)$/),ft=n.match(/^.+.(ogg|ogv)$/),et=n.match(/^.+.(webm)$/),b=n.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),tt,e,s,h,k,d,g,nt,rt;if(u&&11===u[1].length){if(tt=u[1],e=0,void 0!==u[2]&&(s=u[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/),s))for(var it=[3600,60,1],o=0,ot=it.length;o<ot;o++)e+=void 0!==s[o+1]?it[o]*parseInt(s[o+1],10):0;r=i()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+tt+(e>0?"?start="+e:"")).attr("width","640").attr("height","360")}else if(c&&c[0].length)r=i()("<iframe>").attr("frameborder",0).attr("src","https://drive.google.com/file/d/"+c[1]+"/preview").attr("width","640").attr("height","480");else if(l&&l[0].length)r=i()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+l[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(a&&a[0].length)r=i()("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(v&&v[3].length)r=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+v[3]).attr("width","640").attr("height","360");else if(y&&y[2].length)r=i()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+y[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)r=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(t&&t[0].length)h=0,"undefined"!==t[2]&&(h=t[2]),k=0,"undefined"!==t[3]&&(k=t[3]),d=0,"undefined"!==t[4]&&(d=t[4]),g=0,"undefined"!==t[5]&&(g=t[5]),nt=0,"undefined"!==t[6]&&(nt=t[6]),r=i()('<iframe allowfullscreen sandbox="allow-same-origin allow-scripts allow-popups">').attr("frameborder",0).attr("src","//"+t[1]+"/videos/embed/"+t[2]+"?loop="+d+"&autoplay="+g+"&muted="+nt+(h>0?"&start="+h:"")+(k>0?"&end="+e:"")).attr("width","560").attr("height","315");else if(f&&f[1].length||w&&w[2].length)rt=f&&f[1].length?f[1]:w[2],r=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+rt+"&amp;auto=0");else if(ut||ft||et)r=i()("<video controls>").attr("src",n).attr("width","640").attr("height","360");else{if(!b||!b[0].length)return!1;r=i()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(b[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return r.addClass("note-video-clip"),r[0]}},{key:"show",value:function(){var n=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange");this.showVideoDialog(t).then(function(t){n.ui.hideDialog(n.$dialog);n.context.invoke("editor.restoreRange");var i=n.createVideoNode(t);i&&n.context.invoke("editor.insertNode",i)}).fail(function(){n.context.invoke("editor.restoreRange")})}},{key:"showVideoDialog",value:function(){var n=this;return i().Deferred(function(t){var i=n.$dialog.find(".note-video-url"),r=n.$dialog.find(".note-video-btn");n.ui.onDialogShown(n.$dialog,function(){n.context.triggerEvent("dialog.shown");i.on("input paste propertychange",function(){n.ui.toggleBtn(r,i.val())});h.isSupportTouch||i.trigger("focus");r.click(function(n){n.preventDefault();t.resolve(i.val())});n.bindEnterKey(i,r)});n.ui.onDialogHidden(n.$dialog,function(){i.off();r.off();"pending"===t.state()&&t.reject()});n.ui.showDialog(n.$dialog)})}}])&&oe(t.prototype,r),u&&oe(t,u),n}();ce=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.ui=i().summernote.ui;this.$body=i()(document.body);this.$editor=t.layoutInfo.editor;this.options=t.options;this.lang=this.options.langInfo}var t,r,u;return t=n,r=[{key:"initialize",value:function(){var n=this.options.dialogsInBody?this.$body:this.options.container,t='<p class="text-center"><a href="http://summernote.org/" target="_blank" rel="noopener noreferrer">Summernote 0.8.20<\/a> · <a href="https://github.com/summernote/summernote" target="_blank" rel="noopener noreferrer">Project<\/a> · <a href="https://github.com/summernote/summernote/issues" target="_blank" rel="noopener noreferrer">Issues<\/a><\/p>';this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(n){n.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(n)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()}},{key:"createShortcutList",value:function(){var t=this,n=this.options.keyMap[h.isMac?"mac":"pc"];return Object.keys(n).map(function(r){var u=n[r],f=i()('<div><div class="help-list-item"><\/div><\/div>');return f.append(i()("<label><kbd>"+r+"<\/kdb><\/label>").css({width:180,"margin-right":10})).append(i()("<span><\/span>").html(t.context.memo("help."+u)||u)),f.html()}).join("")}},{key:"showHelpDialog",value:function(){var n=this;return i().Deferred(function(t){n.ui.onDialogShown(n.$dialog,function(){n.context.triggerEvent("dialog.shown");t.resolve()});n.ui.showDialog(n.$dialog)}).promise()}},{key:"show",value:function(){var n=this;this.context.invoke("editor.saveRange");this.showHelpDialog().then(function(){n.context.invoke("editor.restoreRange")})}}],r&&he(t.prototype,r),u&&he(t,u),n}();ae=function(){function n(t){var r=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.context=t;this.ui=i().summernote.ui;this.options=t.options;this.hidable=!0;this.onContextmenu=!1;this.pageX=null;this.pageY=null;this.events={"summernote.contextmenu":function(n){r.options.editing&&(n.preventDefault(),n.stopPropagation(),r.onContextmenu=!0,r.update(!0))},"summernote.mousedown":function(n,t){r.pageX=t.pageX;r.pageY=t.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(n,t){r.options.editing&&!r.onContextmenu&&(r.pageX=t.pageX,r.pageY=t.pageY,r.update());r.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){r.hide()},"summernote.focusout":function(){r.$popover.is(":active,:focus")||r.hide()}}}var t,r,f;return t=n,(r=[{key:"shouldInitialize",value:function(){return this.options.airMode&&!u.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var n=this,t;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air);this.$popover.on("mousedown",function(){n.hidable=!1});this.$popover.on("mouseup",function(){n.hidable=!0})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(n){var u=this.context.invoke("editor.currentStyle"),t,r;u.range&&(!u.range.isCollapsed()||n)?(t={left:this.pageX,top:this.pageY},r=i()(this.options.container).offset(),t.top-=r.top,t.left-=r.left,this.$popover.css({display:"block",left:Math.max(t.left,0)+-5,top:t.top+5}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)):this.hide()}},{key:"updateCodeview",value:function(n){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),n);n&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}])&&le(t.prototype,r),f&&le(t,f),n}();ye=function(){function t(n){var r=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,t);this.context=n;this.ui=i().summernote.ui;this.$editable=n.layoutInfo.editable;this.options=n.options;this.hint=this.options.hint||[];this.direction=this.options.hintDirection||"bottom";this.hints=Array.isArray(this.hint)?this.hint:[this.hint];this.events={"summernote.keyup":function(n,t){t.isDefaultPrevented()||r.handleKeyup(t)},"summernote.keydown":function(n,t){r.handleKeydown(t)},"summernote.disable summernote.dialog.shown summernote.blur":function(){r.hide()}}}var r,s,h;return r=t,s=[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var n=this;this.lastWordRange=null;this.matchingWord=null;this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container);this.$popover.hide();this.$content=this.$popover.find(".popover-content,.note-popover-content");this.$content.on("click",".note-hint-item",function(t){n.$content.find(".active").removeClass("active");i()(t.currentTarget).addClass("active");n.replace()});this.$popover.on("mousedown",function(n){n.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(n){this.$content.find(".active").removeClass("active");n.addClass("active");this.$content[0].scrollTop=n[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var t=this.$content.find(".note-hint-item.active"),i=t.next(),n;i.length?this.selectItem(i):(n=t.parent().next(),n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first()))}},{key:"moveUp",value:function(){var t=this.$content.find(".note-hint-item.active"),i=t.prev(),n;i.length?this.selectItem(i):(n=t.parent().prev(),n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last()))}},{key:"replace",value:function(){var u=this.$content.find(".note-hint-item.active"),n,t,r;u.length&&(n=this.nodeFromItem(u),null!==this.matchingWord&&0===this.matchingWord.length?this.lastWordRange.so=this.lastWordRange.eo:null!==this.matchingWord&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()&&(t=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length,t>0&&(this.lastWordRange.so+=t)),(this.lastWordRange.insertNode(n),"next"===this.options.hintSelect)?(r=document.createTextNode(""),i()(n).after(r),e.createFromNodeBefore(r).select()):e.createFromNodeAfter(n).select(),this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus"),this.context.triggerEvent("change",this.$editable.html(),this.$editable))}},{key:"nodeFromItem",value:function(t){var r=this.hints[t.data("index")],u=t.data("item"),i=r.content?r.content(u):u;return"string"==typeof i&&(i=n.createText(i)),i}},{key:"createItemTemplates",value:function(n,t){var r=this.hints[n];return t.map(function(t){var u=i()('<div class="note-hint-item"><\/div>');return u.append(r.template?r.template(t):t+""),u.data({index:n,item:t}),u})}},{key:"handleKeydown",value:function(n){this.$popover.is(":visible")&&(n.keyCode===o.code.ENTER?(n.preventDefault(),this.replace()):n.keyCode===o.code.UP?(n.preventDefault(),this.moveUp()):n.keyCode===o.code.DOWN&&(n.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(n,t,i){var r=this.hints[n],u;r&&r.match.test(t)&&r.search?(u=r.match.exec(t),this.matchingWord=u[0],r.search(u[1],i)):i()}},{key:"createGroup",value:function(n,t){var r=this,u=i()('<div class="note-hint-group note-hint-group-'+n+'"><\/div>');return this.searchKeyword(n,t,function(t){(t=t||[]).length&&(u.html(r.createItemTemplates(n,t)),r.show())}),u}},{key:"handleKeyup",value:function(n){var c=this,t,e,s,r,h;if(!u.contains([o.code.ENTER,o.code.UP,o.code.DOWN],n.keyCode)){if(s=this.context.invoke("editor.getLastRange"),"words"===this.options.hintMode){if(t=s.getWordsRange(s),e=t.toString(),this.hints.forEach(function(n){if(n.match.test(e))return t=s.getWordsMatchRange(n.match),!1}),!t)return void this.hide();e=t.toString()}else t=s.getWordRange(),e=t.toString();this.hints.length&&e?(this.$content.empty(),r=f.rect2bnd(u.last(t.getClientRects())),h=i()(this.options.container).offset(),r&&(r.top-=h.top,r.left-=h.left,this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(n,t){n.match.test(e)&&c.createGroup(t,e).appendTo(c.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:r.left,top:r.top-this.$popover.outerHeight()-5}):this.$popover.css({left:r.left,top:r.top+r.height+5}))):this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}],s&&ve(r.prototype,s),h&&ve(r,h),t}();i().summernote=i().extend(i().summernote,{version:"0.8.20",plugins:{},dom:n,range:e,lists:u,options:{langInfo:i().summernote.lang["en-US"],editing:!0,modules:{editor:cu,clipboard:au,dropzone:yu,codeview:bu,statusbar:du,fullscreen:nf,handle:rf,hintPopover:ye,autoLink:ef,autoSync:hf,autoReplace:lf,placeholder:vf,buttons:pf,toolbar:bf,linkDialog:df,linkPopover:ne,imageDialog:ie,imagePopover:ue,tablePopover:ee,videoDialog:se,helpDialog:ce,airPopover:ae},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,useProtocol:!0,defaultProtocol:"http://",focus:!1,tabDisabled:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,acceptImageFileTypes:"image/*",callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!0,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","jumpingbean.tv","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}});we=function(){function n(t,i,r,u){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.markup=t;this.children=i;this.options=r;this.callback=u}var t,r,u;return t=n,(r=[{key:"render",value:function(n){var t=i()(this.markup),r;return(this.options&&this.options.contents&&t.html(this.options.contents),this.options&&this.options.className&&t.addClass(this.options.className),this.options&&this.options.data&&i().each(this.options.data,function(n,i){t.attr("data-"+n,i)}),this.options&&this.options.click&&t.on("click",this.options.click),this.children)&&(r=t.find(".note-children-container"),this.children.forEach(function(n){n.render(r.length?r:t)})),this.callback&&this.callback(t,this.options),this.options&&this.options.callback&&this.options.callback(t),n&&n.append(t),t}}])&&pe(t.prototype,r),u&&pe(t,u),n}();const v=function(n,t){return function(){var i="object"===ei(arguments[1])?arguments[1]:arguments[0],r=Array.isArray(arguments[0])?arguments[0]:[];return i&&i.children&&(r=i.children),new we(n,r,i,t)}};var si=v('<div class="note-editor note-frame panel panel-default"><\/div>'),hi=v('<div class="panel-heading note-toolbar" role="toolbar"><\/div>'),pt=v('<div class="note-editing-area"><\/div>'),wt=v('<textarea class="note-codable" aria-multiline="true"><\/textarea>'),ci=v('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"><\/div>'),li=v('<output class="note-status-output" role="status" aria-live="polite"><\/output><div class="note-statusbar" role="status"><div class="note-resizebar" aria-label="Resize"><div class="note-icon-bar"><\/div><div class="note-icon-bar"><\/div><div class="note-icon-bar"><\/div><\/div><\/div>'),be=v('<div class="note-editor note-airframe"><\/div>'),ke=v('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"><\/div><output class="note-status-output" role="status" aria-live="polite"><\/output>'),ro=v('<div class="note-btn-group btn-group"><\/div>'),uo=v('<ul class="note-dropdown-menu dropdown-menu"><\/ul>',function(n,t){var i=Array.isArray(t.items)?t.items.map(function(n){var i="string"==typeof n?n:n.value||"",u=t.template?t.template(n):n,r="object"===oi(n)?n.option:void 0;return'<li aria-label="'+i+'"><a href="#" '+('data-value="'+i+'"'+(void 0!==r?' data-option="'+r+'"':""))+">"+u+"<\/a><\/li>"}).join(""):t.items;n.html(i).attr({"aria-label":t.title});t&&t.codeviewKeepButton&&n.addClass("note-codeview-keep")}),fo=function(n,t){return n+" "+ai(t.icons.caret,"span")},eo=v('<ul class="note-dropdown-menu dropdown-menu note-check"><\/ul>',function(n,t){var i=Array.isArray(t.items)?t.items.map(function(n){var i="string"==typeof n?n:n.value||"",r=t.template?t.template(n):n;return'<li aria-label="'+n+'"><a href="#" data-value="'+i+'">'+ai(t.checkClassName)+" "+r+"<\/a><\/li>"}).join(""):t.items;n.html(i).attr({"aria-label":t.title});t&&t.codeviewKeepButton&&n.addClass("note-codeview-keep")}),oo=v('<div class="modal note-modal" aria-hidden="false" tabindex="-1" role="dialog"><\/div>',function(n,t){t.fade&&n.addClass("fade");n.attr({"aria-label":t.title});n.html(['<div class="modal-dialog">','<div class="modal-content">',t.title?'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;<\/button><h4 class="modal-title">'+t.title+"<\/h4><\/div>":"",'<div class="modal-body">'+t.body+"<\/div>",t.footer?'<div class="modal-footer">'+t.footer+"<\/div>":"","<\/div>","<\/div>"].join(""))}),so=v('<div class="note-popover popover in"><div class="arrow"><\/div><div class="popover-content note-children-container"><\/div><\/div>',function(n,t){var i=void 0!==t.direction?t.direction:"bottom";n.addClass(i);t.hideArrow&&n.find(".arrow").hide()}),ho=v('<div class="checkbox"><\/div>',function(n,t){n.html(["<label"+(t.id?' for="note-'+t.id+'"':"")+">",'<input type="checkbox"'+(t.id?' id="note-'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text?t.text:"","<\/label>"].join(""))}),ai=function(n,t){return n.match(/^</)?n:"<"+(t=t||"i")+' class="'+n+'"><\/'+t+">"};i().summernote=i().extend(i().summernote,{ui_template:function(n){return{editor:si,toolbar:hi,editingArea:pt,codable:wt,editable:ci,statusbar:li,airEditor:be,airEditable:ke,buttonGroup:ro,dropdown:uo,dropdownButtonContents:fo,dropdownCheck:eo,dialog:oo,popover:so,checkbox:ho,icon:ai,options:n,palette:function(t,i){return v('<div class="note-color-palette"><\/div>',function(t,i){for(var f,e,o=[],r=0,c=i.colors.length;r<c;r++){for(var l=i.eventName,s=i.colors[r],a=i.colorsName[r],h=[],u=0,v=s.length;u<v;u++)f=s[u],e=a[u],h.push(['<button type="button" class="note-color-btn"','style="background-color:',f,'" ','data-event="',l,'" ','data-value="',f,'" ','title="',e,'" ','aria-label="',e,'" ','data-toggle="button" tabindex="-1"><\/button>'].join(""));o.push('<div class="note-color-row">'+h.join("")+"<\/div>")}t.html(o.join(""));i.tooltip&&t.find(".note-color-btn").tooltip({container:i.container||n.container,trigger:"hover",placement:"bottom"})})(t,i)},button:function(t,r){return v('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1"><\/button>',function(t,r){r&&r.tooltip&&t.attr({title:r.tooltip,"aria-label":r.tooltip}).tooltip({container:r.container||n.container,trigger:"hover",placement:"bottom"}).on("click",function(n){i()(n.currentTarget).tooltip("hide")});r&&r.codeviewButton&&t.addClass("note-codeview-keep")})(t,r)},toggleBtn:function(n,t){n.toggleClass("disabled",!t);n.attr("disabled",!t)},toggleBtnActive:function(n,t){n.toggleClass("active",t)},onDialogShown:function(n,t){n.one("shown.bs.modal",t)},onDialogHidden:function(n,t){n.one("hidden.bs.modal",t)},showDialog:function(n){n.modal("show")},hideDialog:function(n){n.modal("hide")},createLayout:function(t){var i=(n.airMode?be([pt([wt(),ke()])]):"bottom"===n.toolbarPosition?si([pt([wt(),ci()]),hi(),li()]):si([hi(),pt([wt(),ci()]),li()])).render();return i.insertAfter(t),{note:t,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(n,t){n.html(t.editable.html());t.editor.remove();n.show()}}},interface:"bs3"})})(),r})()});!function(n,t){var i,r;"function"==typeof define&&define.amd?define(["moment","jquery"],function(n,i){return i.fn||(i.fn={}),"function"!=typeof n&&n.hasOwnProperty("default")&&(n=n.default),t(n,i)}):"object"==typeof module&&module.exports?(i="undefined"!=typeof window?window.jQuery:void 0,i||(i=require("jquery")).fn||(i.fn={}),r="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=t(r,i)):n.daterangepicker=t(n.moment,n.jQuery)}(this,function(n,t){var i=function(i,r,u){var l,y,f,o,e,h,a,s,v,c;if((this.parentEl="body",this.element=t(i),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=n().subtract(100,"year").format("YYYY"),this.maxYear=n().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:n.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof r&&null!==r||(r={}),"string"==typeof(r=t.extend(this.element.data(),r)).template||r.template instanceof t||(r.template='<div class="daterangepicker"><div class="ranges"><\/div><div class="drp-calendar left"><div class="calendar-table"><\/div><div class="calendar-time"><\/div><\/div><div class="drp-calendar right"><div class="calendar-table"><\/div><div class="calendar-time"><\/div><\/div><div class="drp-buttons"><span class="drp-selected"><\/span><button class="cancelBtn" type="button"><\/button><button class="applyBtn" disabled="disabled" type="button"><\/button> <\/div><\/div>'),this.parentEl=r.parentEl&&t(r.parentEl).length?t(r.parentEl):t(this.parentEl),this.container=t(r.template).appendTo(this.parentEl),"object"==typeof r.locale&&("string"==typeof r.locale.direction&&(this.locale.direction=r.locale.direction),"string"==typeof r.locale.format&&(this.locale.format=r.locale.format),"string"==typeof r.locale.separator&&(this.locale.separator=r.locale.separator),"object"==typeof r.locale.daysOfWeek&&(this.locale.daysOfWeek=r.locale.daysOfWeek.slice()),"object"==typeof r.locale.monthNames&&(this.locale.monthNames=r.locale.monthNames.slice()),"number"==typeof r.locale.firstDay&&(this.locale.firstDay=r.locale.firstDay),"string"==typeof r.locale.applyLabel&&(this.locale.applyLabel=r.locale.applyLabel),"string"==typeof r.locale.cancelLabel&&(this.locale.cancelLabel=r.locale.cancelLabel),"string"==typeof r.locale.weekLabel&&(this.locale.weekLabel=r.locale.weekLabel),"string"==typeof r.locale.customRangeLabel))&&((v=document.createElement("textarea")).innerHTML=r.locale.customRangeLabel,l=v.value,this.locale.customRangeLabel=l),this.container.addClass(this.locale.direction),"string"==typeof r.startDate&&(this.startDate=n(r.startDate,this.locale.format)),"string"==typeof r.endDate&&(this.endDate=n(r.endDate,this.locale.format)),"string"==typeof r.minDate&&(this.minDate=n(r.minDate,this.locale.format)),"string"==typeof r.maxDate&&(this.maxDate=n(r.maxDate,this.locale.format)),"object"==typeof r.startDate&&(this.startDate=n(r.startDate)),"object"==typeof r.endDate&&(this.endDate=n(r.endDate)),"object"==typeof r.minDate&&(this.minDate=n(r.minDate)),"object"==typeof r.maxDate&&(this.maxDate=n(r.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof r.applyButtonClasses&&(this.applyButtonClasses=r.applyButtonClasses),"string"==typeof r.applyClass&&(this.applyButtonClasses=r.applyClass),"string"==typeof r.cancelButtonClasses&&(this.cancelButtonClasses=r.cancelButtonClasses),"string"==typeof r.cancelClass&&(this.cancelButtonClasses=r.cancelClass),"object"==typeof r.maxSpan&&(this.maxSpan=r.maxSpan),"object"==typeof r.dateLimit&&(this.maxSpan=r.dateLimit),"string"==typeof r.opens&&(this.opens=r.opens),"string"==typeof r.drops&&(this.drops=r.drops),"boolean"==typeof r.showWeekNumbers&&(this.showWeekNumbers=r.showWeekNumbers),"boolean"==typeof r.showISOWeekNumbers&&(this.showISOWeekNumbers=r.showISOWeekNumbers),"string"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses),"object"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses.join(" ")),"boolean"==typeof r.showDropdowns&&(this.showDropdowns=r.showDropdowns),"number"==typeof r.minYear&&(this.minYear=r.minYear),"number"==typeof r.maxYear&&(this.maxYear=r.maxYear),"boolean"==typeof r.showCustomRangeLabel&&(this.showCustomRangeLabel=r.showCustomRangeLabel),"boolean"==typeof r.singleDatePicker&&(this.singleDatePicker=r.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof r.timePicker&&(this.timePicker=r.timePicker),"boolean"==typeof r.timePickerSeconds&&(this.timePickerSeconds=r.timePickerSeconds),"number"==typeof r.timePickerIncrement&&(this.timePickerIncrement=r.timePickerIncrement),"boolean"==typeof r.timePicker24Hour&&(this.timePicker24Hour=r.timePicker24Hour),"boolean"==typeof r.autoApply&&(this.autoApply=r.autoApply),"boolean"==typeof r.autoUpdateInput&&(this.autoUpdateInput=r.autoUpdateInput),"boolean"==typeof r.linkedCalendars&&(this.linkedCalendars=r.linkedCalendars),"function"==typeof r.isInvalidDate&&(this.isInvalidDate=r.isInvalidDate),"function"==typeof r.isCustomDate&&(this.isCustomDate=r.isCustomDate),"boolean"==typeof r.alwaysShowCalendars&&(this.alwaysShowCalendars=r.alwaysShowCalendars),0!=this.locale.firstDay)for(y=this.locale.firstDay;y>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),y--;if(void 0===r.startDate&&void 0===r.endDate&&t(this.element).is(":text")&&(h=t(this.element).val(),a=h.split(this.locale.separator),f=o=null,2==a.length?(f=n(a[0],this.locale.format),o=n(a[1],this.locale.format)):this.singleDatePicker&&""!==h&&(f=n(h,this.locale.format),o=n(h,this.locale.format)),null!==f&&null!==o&&(this.setStartDate(f),this.setEndDate(o))),"object"==typeof r.ranges){for(e in r.ranges)f="string"==typeof r.ranges[e][0]?n(r.ranges[e][0],this.locale.format):n(r.ranges[e][0]),o="string"==typeof r.ranges[e][1]?n(r.ranges[e][1],this.locale.format):n(r.ranges[e][1]),this.minDate&&f.isBefore(this.minDate)&&(f=this.minDate.clone()),s=this.maxDate,(this.maxSpan&&s&&f.clone().add(this.maxSpan).isAfter(s)&&(s=f.clone().add(this.maxSpan)),s&&o.isAfter(s)&&(o=s.clone()),this.minDate&&o.isBefore(this.minDate,this.timepicker?"minute":"day")||s&&f.isAfter(s,this.timepicker?"minute":"day"))||((v=document.createElement("textarea")).innerHTML=e,l=v.value,this.ranges[l]=[f,o]);c="<ul>";for(e in this.ranges)c+='<li data-range-key="'+e+'">'+e+"<\/li>";this.showCustomRangeLabel&&(c+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"<\/li>");c+="<\/ul>";this.container.find(".ranges").prepend(c)}"function"==typeof u&&(this.callback=u);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide());this.timePicker&&this.autoApply&&(this.autoApply=!1);this.autoApply&&this.container.addClass("auto-apply");"object"==typeof r.ranges&&this.container.addClass("show-ranges");this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply"));(void 0===r.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses);this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".drp-calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this));this.container.find(".ranges").on("click.daterangepicker","li",t.proxy(this.clickRange,this));this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this));this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this)));this.updateElement()};return i.prototype={constructor:i,setStartDate:function(t){"string"==typeof t&&(this.startDate=n(t,this.locale.format));"object"==typeof t&&(this.startDate=n(t));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.isShowing||this.updateElement();this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=n(t,this.locale.format));"object"==typeof t&&(this.endDate=n(t));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone());this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan));this.previousRightTime=this.endDate.clone();this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.isShowing||this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled"));this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var n,t,i,r;this.endDate?(n=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour)||("PM"===(r=this.container.find(".left .ampmselect").val())&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0)):(n=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour)||("PM"===(r=this.container.find(".right .ampmselect").val())&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0));this.leftCalendar.month.hour(n).minute(t).second(i);this.rightCalendar.month.hour(n).minute(t).second(i)}this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(i){var r,k=(r="left"==i?this.leftCalendar:this.rightCalendar).month.month(),d=r.month.year(),yt=r.month.hour(),et=r.month.minute(),ot=r.month.second(),pt=n([d,k]).daysInMonth(),p=n([d,k,1]),wt=n([d,k,pt]),st=n(p).subtract(1,"month").month(),ht=n(p).subtract(1,"month").year(),g=n([ht,st]).daysInMonth(),ct=p.day(),s,v,nt,rt,a,ut,o,y,b,ft;for((r=[]).firstDay=p,r.lastDay=wt,s=0;s<6;s++)r[s]=[];v=g-ct+this.locale.firstDay+1;v>g&&(v-=7);ct==this.locale.firstDay&&(v=g-6);for(var w=n([ht,st,v,12,et,ot]),u=(s=0,0),f=0;s<42;s++,u++,w=n(w).add(24,"hour"))s>0&&u%7==0&&(u=0,f++),r[f][u]=w.clone().hour(yt).minute(et).second(ot),w.hour(12),this.minDate&&r[f][u].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&r[f][u].isBefore(this.minDate)&&"left"==i&&(r[f][u]=this.minDate.clone()),this.maxDate&&r[f][u].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&r[f][u].isAfter(this.maxDate)&&"right"==i&&(r[f][u]=this.maxDate.clone());"left"==i?this.leftCalendar.calendar=r:this.rightCalendar.calendar=r;var l="left"==i?this.minDate:this.startDate,h=this.maxDate,e=("left"==i?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');if(e+="<thead>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+="<th><\/th>"),e+=l&&!l.isBefore(r.firstDay)||this.linkedCalendars&&"left"!=i?"<th><\/th>":'<th class="prev available"><span><\/span><\/th>',nt=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY"),this.showDropdowns){for(var lt=r[1][1].month(),tt=r[1][1].year(),at=h&&h.year()||this.maxYear,vt=l&&l.year()||this.minYear,bt=tt==vt,kt=tt==at,it='<select class="monthselect">',c=0;c<12;c++)it+=(!bt||l&&c>=l.month())&&(!kt||h&&c<=h.month())?"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+">"+this.locale.monthNames[c]+"<\/option>":"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[c]+"<\/option>";for(it+="<\/select>",rt='<select class="yearselect">',a=vt;a<=at;a++)rt+='<option value="'+a+'"'+(a===tt?' selected="selected"':"")+">"+a+"<\/option>";nt=it+(rt+="<\/select>")}for((e+='<th colspan="5" class="month">'+nt+"<\/th>",e+=h&&!h.isAfter(r.lastDay)||this.linkedCalendars&&"right"!=i&&!this.singleDatePicker?"<th><\/th>":'<th class="next available"><span><\/span><\/th>',e+="<\/tr>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+='<th class="week">'+this.locale.weekLabel+"<\/th>"),t.each(this.locale.daysOfWeek,function(n,t){e+="<th>"+t+"<\/th>"}),e+="<\/tr>",e+="<\/thead>",e+="<tbody>",null==this.endDate&&this.maxSpan)&&(ut=this.startDate.clone().add(this.maxSpan).endOf("day"),h&&!ut.isBefore(h)||(h=ut)),f=0;f<6;f++){for(e+="<tr>",this.showWeekNumbers?e+='<td class="week">'+r[f][0].week()+"<\/td>":this.showISOWeekNumbers&&(e+='<td class="week">'+r[f][0].isoWeek()+"<\/td>"),u=0;u<7;u++){for(o=[],r[f][u].isSame(new Date,"day")&&o.push("today"),r[f][u].isoWeekday()>5&&o.push("weekend"),r[f][u].month()!=r[1][1].month()&&o.push("off","ends"),this.minDate&&r[f][u].isBefore(this.minDate,"day")&&o.push("off","disabled"),h&&r[f][u].isAfter(h,"day")&&o.push("off","disabled"),this.isInvalidDate(r[f][u])&&o.push("off","disabled"),r[f][u].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&o.push("active","start-date"),null!=this.endDate&&r[f][u].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&o.push("active","end-date"),null!=this.endDate&&r[f][u]>this.startDate&&r[f][u]<this.endDate&&o.push("in-range"),y=this.isCustomDate(r[f][u]),!1!==y&&("string"==typeof y?o.push(y):Array.prototype.push.apply(o,y)),b="",ft=!1,s=0;s<o.length;s++)b+=o[s]+" ","disabled"==o[s]&&(ft=!0);ft||(b+="available");e+='<td class="'+b.replace(/^\s+|\s+$/g,"")+'" data-title="r'+f+"c"+u+'">'+r[f][u].date()+"<\/td>"}e+="<\/tr>"}e+="<\/tbody>";e+="<\/table>";this.container.find(".drp-calendar."+i+" .calendar-table").html(e)},renderTimePicker:function(n){var u,i,e,f,h,v,c,o,r,s,l,a;if("right"!=n||this.endDate){f=this.maxDate;(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(f=this.startDate.clone().add(this.maxSpan)),"left"==n)?(i=this.startDate.clone(),e=this.minDate):"right"==n&&(i=this.endDate.clone(),e=this.startDate,h=this.container.find(".drp-calendar.right .calendar-time"),""==h.html()||(i.hour(isNaN(i.hour())?h.find(".hourselect option:selected").val():i.hour()),i.minute(isNaN(i.minute())?h.find(".minuteselect option:selected").val():i.minute()),i.second(isNaN(i.second())?h.find(".secondselect option:selected").val():i.second()),this.timePicker24Hour)||(v=h.find(".ampmselect option:selected").val(),"PM"===v&&i.hour()<12&&i.hour(i.hour()+12),"AM"===v&&12===i.hour()&&i.hour(0)),i.isBefore(this.startDate)&&(i=this.startDate.clone()),f&&i.isAfter(f)&&(i=f.clone()));u='<select class="hourselect">';for(var y=this.timePicker24Hour?0:1,p=this.timePicker24Hour?23:12,t=y;t<=p;t++)c=t,this.timePicker24Hour||(c=i.hour()>=12?12==t?12:t+12:12==t?0:t),o=i.clone().hour(c),r=!1,e&&o.minute(59).isBefore(e)&&(r=!0),f&&o.minute(0).isAfter(f)&&(r=!0),u+=c!=i.hour()||r?r?'<option value="'+t+'" disabled="disabled" class="disabled">'+t+"<\/option>":'<option value="'+t+'">'+t+"<\/option>":'<option value="'+t+'" selected="selected">'+t+"<\/option>";for(u+="<\/select> ",u+=': <select class="minuteselect">',t=0;t<60;t+=this.timePickerIncrement)s=t<10?"0"+t:t,o=i.clone().minute(t),r=!1,e&&o.second(59).isBefore(e)&&(r=!0),f&&o.second(0).isAfter(f)&&(r=!0),u+=i.minute()!=t||r?r?'<option value="'+t+'" disabled="disabled" class="disabled">'+s+"<\/option>":'<option value="'+t+'">'+s+"<\/option>":'<option value="'+t+'" selected="selected">'+s+"<\/option>";if(u+="<\/select> ",this.timePickerSeconds){for(u+=': <select class="secondselect">',t=0;t<60;t++)s=t<10?"0"+t:t,o=i.clone().second(t),r=!1,e&&o.isBefore(e)&&(r=!0),f&&o.isAfter(f)&&(r=!0),u+=i.second()!=t||r?r?'<option value="'+t+'" disabled="disabled" class="disabled">'+s+"<\/option>":'<option value="'+t+'">'+s+"<\/option>":'<option value="'+t+'" selected="selected">'+s+"<\/option>";u+="<\/select> "}this.timePicker24Hour||(u+='<select class="ampmselect">',l="",a="",e&&i.clone().hour(12).minute(0).second(0).isBefore(e)&&(l=' disabled="disabled" class="disabled"'),f&&i.clone().hour(0).minute(0).second(0).isAfter(f)&&(a=' disabled="disabled" class="disabled"'),u+=i.hour()>=12?'<option value="AM"'+l+'>AM<\/option><option value="PM" selected="selected"'+a+">PM<\/option>":'<option value="AM" selected="selected"'+l+'>AM<\/option><option value="PM"'+a+">PM<\/option>",u+="<\/select>");this.container.find(".drp-calendar."+n+" .calendar-time").html(u)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var n,i={top:0,left:0},f=this.drops,o=t(window).width(),r,e,u;switch(this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},o=this.parentEl[0].clientWidth+this.parentEl.offset().left),f){case"auto":(n=this.element.offset().top+this.element.outerHeight()-i.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(n=this.element.offset().top-this.container.outerHeight()-i.top,f="up");break;case"up":n=this.element.offset().top-this.container.outerHeight()-i.top;break;default:n=this.element.offset().top+this.element.outerHeight()-i.top}this.container.css({top:0,left:0,right:"auto"});r=this.container.outerWidth();(this.container.toggleClass("drop-up","up"==f),"left"==this.opens)?(e=o-this.element.offset().left-this.element.outerWidth(),r+e>t(window).width()?this.container.css({top:n,right:"auto",left:9}):this.container.css({top:n,right:e,left:"auto"})):"center"==this.opens?(u=this.element.offset().left-i.left+this.element.outerWidth()/2-r/2)<0?this.container.css({top:n,right:"auto",left:9}):u+r>t(window).width()?this.container.css({top:n,left:"auto",right:0}):this.container.css({top:n,left:u,right:"auto"}):(u=this.element.offset().left-i.left)+r>t(window).width()?this.container.css({top:n,left:"auto",right:0}):this.container.css({top:n,left:u,right:"auto"})},show:function(){this.isShowing||(this._outsideClickProxy=t.proxy(function(n){this.outsideClick(n)},this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy(function(n){this.move(n)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(n){var i=t(n.target);"focusin"==n.type||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(n){var t=n.target.getAttribute("data-range-key"),i;(this.chosenLabel=t,t==this.locale.customRangeLabel)?this.showCalendars():(i=this.ranges[t],this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(n){t(n.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(n){t(n.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(n){if(t(n.target).hasClass("available")){var i=t(n.target).attr("data-title"),r=i.substr(1,1),u=i.substr(3,1),f=t(n.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[r][u]:this.rightCalendar.calendar[r][u],e=this.leftCalendar,o=this.rightCalendar,s=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(n,i){if(!t(i).hasClass("week")){var u=t(i).attr("data-title"),h=u.substr(1,1),c=u.substr(3,1),r=t(i).parents(".drp-calendar").hasClass("left")?e.calendar[h][c]:o.calendar[h][c];r.isAfter(s)&&r.isBefore(f)||r.isSame(f,"day")?t(i).addClass("in-range"):t(i).removeClass("in-range")}})}},clickDate:function(n){var i,u,f,e;if(t(n.target).hasClass("available")){var o=t(n.target).attr("data-title"),s=o.substr(1,1),h=o.substr(3,1),r=t(n.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[s][h]:this.rightCalendar.calendar[s][h];this.endDate||r.isBefore(this.startDate,"day")?(this.timePicker&&(i=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(e=this.container.find(".left .ampmselect").val())&&i<12&&(i+=12),"AM"===e&&12===i&&(i=0)),u=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(u)&&(u=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),f=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,r=r.clone().hour(i).minute(u).second(f)),this.endDate=null,this.setStartDate(r.clone())):!this.endDate&&r.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(i=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(e=this.container.find(".right .ampmselect").val())&&i<12&&(i+=12),"AM"===e&&12===i&&(i=0)),u=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(u)&&(u=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),f=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,r=r.clone().hour(i).minute(u).second(f)),this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply()));this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply());this.updateView();n.stopPropagation()}},calculateChosenLabel:function(){var i=!0,r=0,n,t;for(n in this.ranges){if(this.timePicker){if(t=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm",this.startDate.format(t)==this.ranges[n][0].format(t)&&this.endDate.format(t)==this.ranges[n][1].format(t)){i=!1;this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){i=!1;this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").attr("data-range-key");break}r++}i&&(this.chosenLabel=this.showCustomRangeLabel?this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):null,this.showCalendars())},clickApply:function(){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(n){var u=t(n.target).closest(".drp-calendar").hasClass("left"),e=u?"left":"right",f=this.container.find(".drp-calendar."+e),r=parseInt(f.find(".monthselect").val(),10),i=f.find(".yearselect").val();u||(i<this.startDate.year()||i==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),i=this.startDate.year());this.minDate&&(i<this.minDate.year()||i==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),i=this.minDate.year());this.maxDate&&(i>this.maxDate.year()||i==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),i=this.maxDate.year());u?(this.leftCalendar.month.month(r).year(i),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(i),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")));this.updateCalendars()},timeChanged:function(n){var r=t(n.target).closest(".drp-calendar"),h=r.hasClass("left"),u=parseInt(r.find(".hourselect").val(),10),e=parseInt(r.find(".minuteselect").val(),10),o,s,i,f;isNaN(e)&&(e=parseInt(r.find(".minuteselect option:last").val(),10));o=this.timePickerSeconds?parseInt(r.find(".secondselect").val(),10):0;this.timePicker24Hour||(s=r.find(".ampmselect").val(),"PM"===s&&u<12&&(u+=12),"AM"===s&&12===u&&(u=0));h?(i=this.startDate.clone(),i.hour(u),i.minute(e),i.second(o),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())):this.endDate&&(f=this.endDate.clone(),f.hour(u),f.minute(e),f.second(o),this.setEndDate(f));this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var r=this.element.val().split(this.locale.separator),t=null,i=null;2===r.length&&(t=n(r[0],this.locale.format),i=n(r[1],this.locale.format));(this.singleDatePicker||null===t||null===i)&&(i=t=n(this.element.val(),this.locale.format));t.isValid()&&i.isValid()&&(this.setStartDate(t),this.setEndDate(i),this.updateView())}},keydown:function(n){9!==n.keyCode&&13!==n.keyCode||this.hide();27===n.keyCode&&(n.preventDefault(),n.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var n=this.startDate.format(this.locale.format);this.singleDatePicker||(n+=this.locale.separator+this.endDate.format(this.locale.format));n!==this.element.val()&&this.element.val(n).trigger("change")}},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}},t.fn.daterangepicker=function(n,r){var u=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,n);return this.each(function(){var n=t(this);n.data("daterangepicker")&&n.data("daterangepicker").remove();n.data("daterangepicker",new i(n,u,r))}),this},i}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){"use strict";var t={},i=Math.max,r=Math.min;t.c={};t.c.d=n(document);t.c.t=function(n){return n.originalEvent.touches.length-1};t.o=function(){var i=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.w=0;this.h=0;this.$c=null;this.c=null;this.t=0;this.isInit=!1;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.scale=1;this.relative=!1;this.relativeWidth=!1;this.relativeHeight=!1;this.$div=null;this.run=function(){var t=function(n,t){for(var r in t)i.o[r]=t[r];i._carve().init();i._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=n.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||this.$.attr("readonly")==="readonly",cursor:this.$.data("cursor")===!0&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(n){return n},parse:function(n){return parseFloat(n)}},this.o),this.o.flip=this.o.rotation==="anticlockwise"||this.o.rotation==="acw",this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(t){var r=n(this);i.i[t]=r;i.v[t]=i.o.parse(r.val());r.bind("change blur",function(){var n={};n[t]=r.val();i.val(i._validate(n))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),this.v===""&&(this.v=this.o.min),this.$.bind("change blur",function(){i.val(i._validate(i.o.parse(i.$.val())))})),this.o.displayInput||this.$.hide(),this.$c=n(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=n('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"><\/div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}};this._carve=function(){if(this.relative){var n=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(n,t)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),this.scale!==1&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this};this._draw=function(){var n=!0;i.g=i.c;i.clear();i.dH&&(n=i.dH());n!==!1&&i.draw()};this._touch=function(n){var r=function(n){var t=i.xy2val(n.originalEvent.touches[i.t].pageX,n.originalEvent.touches[i.t].pageY);t!=i.cv&&(i.cH&&i.cH(t)===!1||(i.change(i._validate(t)),i._draw()))};return this.t=t.c.t(n),r(n),t.c.d.bind("touchmove.k",r).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k");i.val(i.cv)}),this};this._mouse=function(n){var r=function(n){var t=i.xy2val(n.pageX,n.pageY);t!=i.cv&&(i.cH&&i.cH(t)===!1||(i.change(i._validate(t)),i._draw()))};return r(n),t.c.d.bind("mousemove.k",r).bind("keyup.k",function(n){if(n.keyCode===27){if(t.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&i.eH()===!1)return;i.cancel()}}).bind("mouseup.k",function(){t.c.d.unbind("mousemove.k mouseup.k keyup.k");i.val(i.cv)}),this};this._xy=function(){var n=this.$c.offset();return this.x=n.left,this.y=n.top,this};this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(n){n.preventDefault();i._xy()._mouse(n)}).bind("touchstart",function(n){n.preventDefault();i._xy()._touch(n)}),this.listen()),this.relative&&n(window).resize(function(){i._carve().init();i._draw()}),this};this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(n){var t=~~((n<0?-.5:.5)+n/this.o.step)*this.o.step;return Math.round(t*100)/100};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(){};this.val=function(){};this.xy2val=function(){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(n,t){var i;return n=n.substring(1,7),i=[parseInt(n.substring(0,2),16),parseInt(n.substring(2,4),16),parseInt(n.substring(4,6),16)],"rgba("+i[0]+","+i[1]+","+i[2]+","+t+")"};this.copy=function(n,t){for(var i in n)t[i]=n[i]}};t.Dial=function(){t.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=n.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)};this.val=function(n,t){if(null!=n){if(n=this.o.parse(n),t!==!1&&n!=this.v&&this.rH&&this.rH(n)===!1)return;this.cv=this.o.stopper?i(r(n,this.o.max),this.o.min):n;this.v=this.cv;this.$.val(this.o.format(this.v));this._draw()}else return this.v};this.xy2val=function(n,t){var u,f;return u=Math.atan2(n-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.o.flip&&(u=this.angleArc-u-this.PI2),this.angleArc!=this.PI2&&u<0&&u>-.5?u=0:u<0&&(u+=this.PI2),f=u*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(f=i(r(f,this.o.max),this.o.min)),f};this.listen=function(){var t=this,u,e,h=function(n){n.preventDefault();var o=n.originalEvent,s=o.detail||o.wheelDeltaX,h=o.detail||o.wheelDeltaY,f=t._validate(t.o.parse(t.$.val()))+(s>0||h>0?t.o.step:s<0||h<0?-t.o.step:0);f=i(r(f,t.o.max),t.o.min);t.val(f,!1);t.rH&&(clearTimeout(u),u=setTimeout(function(){t.rH(f);u=null},100),e||(e=setTimeout(function(){u&&t.rH(f);e=null},200)))},o,f,s=1,c={37:-t.o.step,38:t.o.step,39:t.o.step,40:-t.o.step};this.$.bind("keydown",function(u){var e=u.keyCode,h;e>=96&&e<=105&&(e=u.keyCode=e-48);o=parseInt(String.fromCharCode(e));isNaN(o)&&(e!==13&&e!==8&&e!==9&&e!==189&&(e!==190||t.$.val().match(/\./))&&u.preventDefault(),n.inArray(e,[37,38,39,40])>-1&&(u.preventDefault(),h=t.o.parse(t.$.val())+c[e]*s,t.o.stopper&&(h=i(r(h,t.o.max),t.o.min)),t.change(t._validate(h)),t._draw(),f=window.setTimeout(function(){s*=2},30)))}).bind("keyup",function(){isNaN(o)?f&&(window.clearTimeout(f),f=null,s=1,t.val(t.$.val())):t.$.val()>t.o.max&&t.$.val(t.o.max)||t.$.val()<t.o.min&&t.$.val(t.o.min)});this.$c.bind("mousewheel DOMMouseScroll",h);this.$.bind("mousewheel DOMMouseScroll",h)};this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min);this.$.val(this.v);this.w2=this.w/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var n=i(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(this.w*3/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/n>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(n){this.cv=n;this.$.val(this.o.format(n))};this.angle=function(n){return(n-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.arc=function(n){var t,i;return n=this.angle(n),this.o.flip?(t=this.endAngle+1e-5,i=t-n-1e-5):(t=this.startAngle-1e-5,i=t+n+1e-5),this.o.cursor&&(t=i-this.cursorExt)&&(i=i+this.cursorExt),{s:t,e:i,d:this.o.flip&&!this.o.cursor}};this.draw=function(){var n=this.g,i=this.arc(this.cv),t,r=1;n.lineWidth=this.lineWidth;n.lineCap=this.lineCap;this.o.bgColor!=="none"&&(n.beginPath(),n.strokeStyle=this.o.bgColor,n.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),n.stroke());this.o.displayPrevious&&(t=this.arc(this.v),n.beginPath(),n.strokeStyle=this.pColor,n.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),n.stroke(),r=this.cv==this.v);n.beginPath();n.strokeStyle=r?this.o.fgColor:this.fgColor;n.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d);n.stroke()};this.cancel=function(){this.val(this.v)}};n.fn.dial=n.fn.knob=function(i){return this.each(function(){var r=new t.Dial;r.o=i;r.$=n(this);r.run()}).parent()}});
/*!
 * JQVMap: jQuery Vector Map Library
 * @author JQVMap <me@peterschmalfeldt.com>
 * @version 1.5.1
 * @link http://jqvmap.com
 * @license https://github.com/manifestinteractive/jqvmap/blob/master/LICENSE
 * @builddate 2016/06/02
 */
VectorCanvas=function(n,t,i){if(this.mode=window.SVGAngle?"svg":"vml",this.params=i,"svg"===this.mode)this.createSvgNode=function(n){return document.createElementNS(this.svgns,n)};else{try{document.namespaces.rvml||document.namespaces.add("rvml","urn:schemas-microsoft-com:vml");this.createVmlNode=function(n){return document.createElement("<rvml:"+n+' class="rvml">')}}catch(r){this.createVmlNode=function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)")}"svg"===this.mode?this.canvas=this.createSvgNode("svg"):(this.canvas=this.createVmlNode("group"),this.canvas.style.position="absolute");this.setSize(n,t)};VectorCanvas.prototype={svgns:"http://www.w3.org/2000/svg",mode:"svg",width:0,height:0,canvas:null};ColorScale=function(n,t,i,r){n&&this.setColors(n);t&&this.setNormalizeFunction(t);i&&this.setMin(i);i&&this.setMax(r)};ColorScale.prototype={colors:[]};JQVMap=function(n){var f,t,i,r,u,o,e;if(n=n||{},t=this,i=JQVMap.maps[n.map],!i)throw new Error('Invalid "'+n.map+'" map parameter. Please make sure you have loaded this map file in your HTML.');this.selectedRegions=[];this.multiSelectRegion=n.multiSelectRegion;this.container=n.container;this.defaultWidth=i.width;this.defaultHeight=i.height;this.color=n.color;this.selectedColor=n.selectedColor;this.hoverColor=n.hoverColor;this.hoverColors=n.hoverColors;this.hoverOpacity=n.hoverOpacity;this.setBackgroundColor(n.backgroundColor);this.width=n.container.width();this.height=n.container.height();this.resize();jQuery(window).resize(function(){var i=n.container.width(),r=n.container.height(),u;i&&r&&(t.width=i,t.height=r,t.resize(),t.canvas.setSize(t.width,t.height),t.applyTransform(),u=jQuery.Event("resize.jqvmap"),jQuery(n.container).trigger(u,[i,r]),f&&(jQuery(".jqvmap-pin").remove(),t.pinHandlers=!1,t.placePins(f.pins,f.mode)))});this.canvas=new VectorCanvas(this.width,this.height,n);n.container.append(this.canvas.canvas);this.makeDraggable();this.rootGroup=this.canvas.createGroup(!0);this.index=JQVMap.mapIndex;this.label=jQuery("<div/>").addClass("jqvmap-label").appendTo(jQuery("body")).hide();n.enableZoom&&(jQuery("<div/>").addClass("jqvmap-zoomin").text("+").appendTo(n.container),jQuery("<div/>").addClass("jqvmap-zoomout").html("&#x2212;").appendTo(n.container));t.countries=[];for(r in i.paths)u=this.canvas.createPath({path:i.paths[r].path}),u.setFill(this.color),u.id=t.getCountryId(r),t.countries[r]=u,"svg"===this.canvas.mode?u.setAttribute("class","jqvmap-region"):jQuery(u).addClass("jqvmap-region"),jQuery(this.rootGroup).append(u);if(jQuery(n.container).delegate("svg"===this.canvas.mode?"path":"shape","mouseover mouseout",function(r){var f=r.target,u=r.target.id.split("_").pop(),e=jQuery.Event("labelShow.jqvmap"),o=jQuery.Event("regionMouseOver.jqvmap");u=u.toLowerCase();"mouseover"===r.type?(jQuery(n.container).trigger(o,[u,i.paths[u].name]),o.isDefaultPrevented()||t.highlight(u,f),n.showTooltip&&(t.label.text(i.paths[u].name),jQuery(n.container).trigger(e,[t.label,u]),e.isDefaultPrevented()||(t.label.show(),t.labelWidth=t.label.width(),t.labelHeight=t.label.height()))):(t.unhighlight(u,f),t.label.hide(),jQuery(n.container).trigger("regionMouseOut.jqvmap",[u,i.paths[u].name]))}),jQuery(n.container).delegate("svg"===this.canvas.mode?"path":"shape","click",function(r){var o=r.target,u=r.target.id.split("_").pop(),e=jQuery.Event("regionClick.jqvmap"),f;if(u=u.toLowerCase(),jQuery(n.container).trigger(e,[u,i.paths[u].name]),!n.multiSelectRegion&&!e.isDefaultPrevented())for(f in i.paths)t.countries[f].currentFillColor=t.countries[f].getOriginalFill(),t.countries[f].setFill(t.countries[f].getOriginalFill());e.isDefaultPrevented()||(t.isSelected(u)?t.deselect(u,o):t.select(u,o))}),n.showTooltip&&n.container.mousemove(function(n){if(t.label.is(":visible")){var i=n.pageX-15-t.labelWidth,r=n.pageY-15-t.labelHeight;0>i&&(i=n.pageX+15);0>r&&(r=n.pageY+15);t.label.css({left:i,top:r})}}),this.setColors(n.colors),this.canvas.canvas.appendChild(this.rootGroup),this.applyTransform(),this.colorScale=new ColorScale(n.scaleColors,n.normalizeFunction,n.valueMin,n.valueMax),n.values&&(this.values=n.values,this.setValues(n.values)),n.selectedRegions)if(n.selectedRegions instanceof Array)for(o in n.selectedRegions)this.select(n.selectedRegions[o].toLowerCase());else this.select(n.selectedRegions.toLowerCase());if(this.bindZoomButtons(),n.pins&&(f={pins:n.pins,mode:n.pinMode},this.pinHandlers=!1,this.placePins(n.pins,n.pinMode)),n.showLabels){this.pinHandlers=!1;e={};for(r in t.countries)"function"!=typeof t.countries[r]&&(n.pins&&n.pins[r]||(e[r]=r.toUpperCase()));f={pins:e,mode:"content"};this.placePins(e,"content")}JQVMap.mapIndex++};JQVMap.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,countries:{},countriesColors:{},countriesData:{},zoomStep:1.4,zoomMaxStep:4,zoomCurStep:1};JQVMap.xlink="http://www.w3.org/1999/xlink";JQVMap.mapIndex=1;JQVMap.maps={},function(){var t={colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,enableZoom:1,showTooltip:1,borderColor:1,borderWidth:1,borderOpacity:1,selectedRegions:1,multiSelectRegion:1},n={onLabelShow:"labelShow",onLoad:"load",onRegionOver:"regionMouseOver",onRegionOut:"regionMouseOut",onRegionClick:"regionClick",onRegionSelect:"regionSelect",onRegionDeselect:"regionDeselect",onResize:"resize"};jQuery.fn.vectorMap=function(i){var u={map:"world_en",backgroundColor:"#a5bfdd",color:"#f4f3f0",hoverColor:"#c9dfaf",hoverColors:{},selectedColor:"#c9dfaf",scaleColors:["#b6d6ff","#005ace"],normalizeFunction:"linear",enableZoom:!0,showTooltip:!0,borderColor:"#818181",borderWidth:1,borderOpacity:.25,selectedRegions:null,multiSelectRegion:!1},r=this.data("mapObject"),f,e;if("addMap"===i)JQVMap.maps[arguments[1]]=arguments[2];else{if("set"!==i||!t[arguments[1]]){if("string"==typeof i&&"function"==typeof r[i])return r[i].apply(r,Array.prototype.slice.call(arguments,1));jQuery.extend(u,i);u.container=this;this.css({position:"relative",overflow:"hidden"});r=new JQVMap(u);this.data("mapObject",r);this.unbind(".jqvmap");for(f in n)u[f]&&this.bind(n[f]+".jqvmap",u[f]);return e=jQuery.Event("load.jqvmap"),jQuery(u.container).trigger(e,r),r}r["set"+arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1)].apply(r,Array.prototype.slice.call(arguments,2))}}}(jQuery);ColorScale.arrayToRgb=function(n){for(var t,r="#",i=0;i<n.length;i++)t=n[i].toString(16),r+=1===t.length?"0"+t:t;return r};ColorScale.prototype.getColor=function(n){var e,r;"function"==typeof this.normalize&&(n=this.normalize(n));for(var u,i=[],f=0,t=0;t<this.colors.length-1;t++)u=this.vectorLength(this.vectorSubtract(this.colors[t+1],this.colors[t])),i.push(u),f+=u;for(e=(this.maxValue-this.minValue)/f,t=0;t<i.length;t++)i[t]*=e;for(t=0,n-=this.minValue;n-i[t]>=0;)n-=i[t],t++;for(r=t===this.colors.length-1?this.vectorToNum(this.colors[t]).toString(16):this.vectorToNum(this.vectorAdd(this.colors[t],this.vectorMult(this.vectorSubtract(this.colors[t+1],this.colors[t]),n/i[t]))).toString(16);r.length<6;)r="0"+r;return"#"+r};ColorScale.rgbToArray=function(n){return n=n.substr(1),[parseInt(n.substr(0,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(4,2),16)]};ColorScale.prototype.setColors=function(n){for(var t=0;t<n.length;t++)n[t]=ColorScale.rgbToArray(n[t]);this.colors=n};ColorScale.prototype.setMax=function(n){this.clearMaxValue=n;this.maxValue="function"==typeof this.normalize?this.normalize(n):n};ColorScale.prototype.setMin=function(n){this.clearMinValue=n;this.minValue="function"==typeof this.normalize?this.normalize(n):n};ColorScale.prototype.setNormalizeFunction=function(n){"polynomial"===n?this.normalize=function(n){return Math.pow(n,.2)}:"linear"===n?delete this.normalize:this.normalize=n;this.setMin(this.clearMinValue);this.setMax(this.clearMaxValue)};ColorScale.prototype.vectorAdd=function(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=n[i]+t[i];return r};ColorScale.prototype.vectorLength=function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t]*n[t];return Math.sqrt(i)};ColorScale.prototype.vectorMult=function(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=n[i]*t;return r};ColorScale.prototype.vectorSubtract=function(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=n[i]-t[i];return r};ColorScale.prototype.vectorToNum=function(n){for(var i=0,t=0;t<n.length;t++)i+=Math.round(n[t])*Math.pow(256,n.length-t-1);return i};JQVMap.prototype.applyTransform=function(){var n,t,i,r;this.defaultWidth*this.scale<=this.width?(n=(this.width-this.defaultWidth*this.scale)/(2*this.scale),i=(this.width-this.defaultWidth*this.scale)/(2*this.scale)):(n=0,i=(this.width-this.defaultWidth*this.scale)/this.scale);this.defaultHeight*this.scale<=this.height?(t=(this.height-this.defaultHeight*this.scale)/(2*this.scale),r=(this.height-this.defaultHeight*this.scale)/(2*this.scale)):(t=0,r=(this.height-this.defaultHeight*this.scale)/this.scale);this.transY>t?this.transY=t:this.transY<r&&(this.transY=r);this.transX>n?this.transX=n:this.transX<i&&(this.transX=i);this.canvas.applyTransformParams(this.scale,this.transX,this.transY)};JQVMap.prototype.bindZoomButtons=function(){var n=this;this.container.find(".jqvmap-zoomin").click(function(){n.zoomIn()});this.container.find(".jqvmap-zoomout").click(function(){n.zoomOut()})};JQVMap.prototype.deselect=function(n,t){if(n=n.toLowerCase(),t=t||jQuery("#"+this.getCountryId(n))[0],this.isSelected(n))this.selectedRegions.splice(this.selectIndex(n),1),jQuery(this.container).trigger("regionDeselect.jqvmap",[n]),t.currentFillColor=t.getOriginalFill(),t.setFill(t.getOriginalFill());else for(var i in this.countries)this.selectedRegions.splice(this.selectedRegions.indexOf(i),1),this.countries[i].currentFillColor=this.color,this.countries[i].setFill(this.color)};JQVMap.prototype.getCountryId=function(n){return"jqvmap"+this.index+"_"+n};JQVMap.prototype.getPin=function(n){var t=jQuery("#"+this.getPinId(n));return t.html()};JQVMap.prototype.getPinId=function(n){return this.getCountryId(n)+"_pin"};JQVMap.prototype.getPins=function(){var t=this.container.find(".jqvmap-pin"),n={};return jQuery.each(t,function(t,i){i=jQuery(i);var r=i.attr("for").toLowerCase(),u=i.html();n[r]=u}),JSON.stringify(n)};JQVMap.prototype.highlight=function(n,t){t=t||jQuery("#"+this.getCountryId(n))[0];this.hoverOpacity?t.setOpacity(this.hoverOpacity):this.hoverColors&&n in this.hoverColors?(t.currentFillColor=t.getFill()+"",t.setFill(this.hoverColors[n])):this.hoverColor&&(t.currentFillColor=t.getFill()+"",t.setFill(this.hoverColor))};JQVMap.prototype.isSelected=function(n){return this.selectIndex(n)>=0};JQVMap.prototype.makeDraggable=function(){var r,u,t=!1,n=this,i,f,e,h,c,o,s;n.isMoving=!1;n.isMovingTimeout=!1;this.container.mousemove(function(i){return t&&(n.transX-=(r-i.pageX)/n.scale,n.transY-=(u-i.pageY)/n.scale,n.applyTransform(),r=i.pageX,u=i.pageY,n.isMoving=!0,n.isMovingTimeout&&clearTimeout(n.isMovingTimeout),n.container.trigger("drag")),!1}).mousedown(function(n){return t=!0,r=n.pageX,u=n.pageY,!1}).mouseup(function(){return t=!1,clearTimeout(n.isMovingTimeout),n.isMovingTimeout=setTimeout(function(){n.isMoving=!1},100),!1}).mouseout(function(){if(t&&n.isMoving)return(clearTimeout(n.isMovingTimeout),n.isMovingTimeout=setTimeout(function(){t=!1;n.isMoving=!1},100),!1)});jQuery(this.container).bind("touchmove",function(t){var u,l,a,v,r=t.originalEvent.touches;if(1===r.length){if(1===i){if(o===r[0].pageX&&s===r[0].pageY)return;a=n.transX;v=n.transY;n.transX-=(o-r[0].pageX)/n.scale;n.transY-=(s-r[0].pageY)/n.scale;n.applyTransform();(a!==n.transX||v!==n.transY)&&t.preventDefault();n.isMoving=!0;n.isMovingTimeout&&clearTimeout(n.isMovingTimeout)}o=r[0].pageX;s=r[0].pageY}else 2===r.length&&(2===i?(l=Math.sqrt(Math.pow(r[0].pageX-r[1].pageX,2)+Math.pow(r[0].pageY-r[1].pageY,2))/h,n.setScale(c*l,f,e),t.preventDefault()):(u=jQuery(n.container).offset(),f=r[0].pageX>r[1].pageX?r[1].pageX+(r[0].pageX-r[1].pageX)/2:r[0].pageX+(r[1].pageX-r[0].pageX)/2,e=r[0].pageY>r[1].pageY?r[1].pageY+(r[0].pageY-r[1].pageY)/2:r[0].pageY+(r[1].pageY-r[0].pageY)/2,f-=u.left,e-=u.top,c=n.scale,h=Math.sqrt(Math.pow(r[0].pageX-r[1].pageX,2)+Math.pow(r[0].pageY-r[1].pageY,2))));i=r.length});jQuery(this.container).bind("touchstart",function(){i=0});jQuery(this.container).bind("touchend",function(){i=0})};JQVMap.prototype.placePins=function(n,t){var i=this,r;((!t||"content"!==t&&"id"!==t)&&(t="content"),"content"===t?jQuery.each(n,function(n,t){if(0!==jQuery("#"+i.getCountryId(n)).length){var r=i.getPinId(n),u=jQuery("#"+r);u.length>0&&u.remove();i.container.append('<div id="'+r+'" for="'+n+'" class="jqvmap-pin" style="position:absolute">'+t+"<\/div>")}}):jQuery.each(n,function(n,t){if(0!==jQuery("#"+i.getCountryId(n)).length){var u=i.getPinId(n),r=jQuery("#"+u);r.length>0&&r.remove();i.container.append('<div id="'+u+'" for="'+n+'" class="jqvmap-pin" style="position:absolute"><\/div>');r.append(jQuery("#"+t))}}),this.positionPins(),this.pinHandlers)||(this.pinHandlers=!0,r=function(){i.positionPins()},this.container.bind("zoomIn",r).bind("zoomOut",r).bind("drag",r))};JQVMap.prototype.positionPins=function(){var n=this,t=this.container.find(".jqvmap-pin");jQuery.each(t,function(t,i){i=jQuery(i);var s=n.getCountryId(i.attr("for").toLowerCase()),h=jQuery("#"+s),r=h[0].getBBox(),u=n.scale,f=n.canvas.rootGroup.getBoundingClientRect(),e=n.container[0].getBoundingClientRect(),o={left:f.left-e.left,top:f.top-e.top},c=r.x*u+r.width*u/2,l=r.y*u+r.height*u/2;i.css({left:o.left+c-i.width()/2,top:o.top+l-i.height()/2})})};JQVMap.prototype.removePin=function(n){n=n.toLowerCase();jQuery("#"+this.getPinId(n)).remove()};JQVMap.prototype.removePins=function(){this.container.find(".jqvmap-pin").remove()};JQVMap.prototype.reset=function(){for(var n in this.countries)this.countries[n].setFill(this.color);this.scale=this.baseScale;this.transX=this.baseTransX;this.transY=this.baseTransY;this.applyTransform()};JQVMap.prototype.resize=function(){var n=this.baseScale;this.width/this.height>this.defaultWidth/this.defaultHeight?(this.baseScale=this.height/this.defaultHeight,this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)):(this.baseScale=this.width/this.defaultWidth,this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale));this.scale*=this.baseScale/n;this.transX*=this.baseScale/n;this.transY*=this.baseScale/n};JQVMap.prototype.select=function(n,t){n=n.toLowerCase();t=t||jQuery("#"+this.getCountryId(n))[0];this.isSelected(n)||(this.multiSelectRegion?this.selectedRegions.push(n):this.selectedRegions=[n],jQuery(this.container).trigger("regionSelect.jqvmap",[n]),this.selectedColor&&t&&(t.currentFillColor=this.selectedColor,t.setFill(this.selectedColor)))};JQVMap.prototype.selectIndex=function(n){n=n.toLowerCase();for(var t=0;t<this.selectedRegions.length;t++)if(n===this.selectedRegions[t])return t;return-1};JQVMap.prototype.setBackgroundColor=function(n){this.container.css("background-color",n)};JQVMap.prototype.setColors=function(n,t){var r,i;if("string"==typeof n)this.countries[n].setFill(t),this.countries[n].setAttribute("original",t);else{r=n;for(i in r)this.countries[i]&&(this.countries[i].setFill(r[i]),this.countries[i].setAttribute("original",r[i]))}};JQVMap.prototype.setNormalizeFunction=function(n){this.colorScale.setNormalizeFunction(n);this.values&&this.setValues(this.values)};JQVMap.prototype.setScale=function(n){this.scale=n;this.applyTransform()};JQVMap.prototype.setScaleColors=function(n){this.colorScale.setColors(n);this.values&&this.setValues(this.values)};JQVMap.prototype.setValues=function(n){var i,r=0,u=Number.MAX_VALUE,t,f;for(t in n)t=t.toLowerCase(),i=parseFloat(n[t]),isNaN(i)||(i>r&&(r=n[t]),u>i&&(u=i));u===r&&r++;this.colorScale.setMin(u);this.colorScale.setMax(r);f={};for(t in n)t=t.toLowerCase(),i=parseFloat(n[t]),f[t]=isNaN(i)?this.color:this.colorScale.getColor(i);this.setColors(f);this.values=n};JQVMap.prototype.unhighlight=function(n,t){n=n.toLowerCase();t=t||jQuery("#"+this.getCountryId(n))[0];t.setOpacity(1);t.currentFillColor&&t.setFill(t.currentFillColor)};JQVMap.prototype.zoomIn=function(){var n=this,i=(jQuery("#zoom").innerHeight()-61)/(this.zoomMaxStep-this.zoomCurStep),t;n.zoomCurStep<n.zoomMaxStep&&(n.transX-=(n.width/n.scale-n.width/(n.scale*n.zoomStep))/2,n.transY-=(n.height/n.scale-n.height/(n.scale*n.zoomStep))/2,n.setScale(n.scale*n.zoomStep),n.zoomCurStep++,t=jQuery("#zoomSlider"),t.css("top",parseInt(t.css("top"),10)-i),n.container.trigger("zoomIn"))};JQVMap.prototype.zoomOut=function(){var n=this,i=(jQuery("#zoom").innerHeight()-61)/(this.zoomMaxStep-this.zoomCurStep),t;n.zoomCurStep>1&&(n.transX+=(n.width/(n.scale/n.zoomStep)-n.width/n.scale)/2,n.transY+=(n.height/(n.scale/n.zoomStep)-n.height/n.scale)/2,n.setScale(n.scale/n.zoomStep),n.zoomCurStep--,t=jQuery("#zoomSlider"),t.css("top",parseInt(t.css("top"),10)+i),n.container.trigger("zoomOut"))};VectorCanvas.prototype.applyTransformParams=function(n,t,i){"svg"===this.mode?this.rootGroup.setAttribute("transform","scale("+n+") translate("+t+", "+i+")"):(this.rootGroup.coordorigin=this.width-t+","+(this.height-i),this.rootGroup.coordsize=this.width/n+","+this.height/n)};VectorCanvas.prototype.createGroup=function(n){var t;return"svg"===this.mode?t=this.createSvgNode("g"):(t=this.createVmlNode("group"),t.style.width=this.width+"px",t.style.height=this.height+"px",t.style.left="0px",t.style.top="0px",t.coordorigin="0 0",t.coordsize=this.width+" "+this.height),n&&(this.rootGroup=t),t};VectorCanvas.prototype.createPath=function(n){var t,i,r;return"svg"===this.mode?(t=this.createSvgNode("path"),t.setAttribute("d",n.path),null!==this.params.borderColor&&t.setAttribute("stroke",this.params.borderColor),this.params.borderWidth>0&&(t.setAttribute("stroke-width",this.params.borderWidth),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round")),this.params.borderOpacity>0&&t.setAttribute("stroke-opacity",this.params.borderOpacity),t.setFill=function(n){this.setAttribute("fill",n);null===this.getAttribute("original")&&this.setAttribute("original",n)},t.getFill=function(){return this.getAttribute("fill")},t.getOriginalFill=function(){return this.getAttribute("original")},t.setOpacity=function(n){this.setAttribute("fill-opacity",n)}):(t=this.createVmlNode("shape"),t.coordorigin="0 0",t.coordsize=this.width+" "+this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",t.fillcolor=JQVMap.defaultFillColor,t.stroked=!1,t.path=VectorCanvas.pathSvgToVml(n.path),i=this.createVmlNode("skew"),i.on=!0,i.matrix="0.01,0,0,0.01,0,0",i.offset="0,0",t.appendChild(i),r=this.createVmlNode("fill"),t.appendChild(r),t.setFill=function(n){this.getElementsByTagName("fill")[0].color=n;null===this.getAttribute("original")&&this.setAttribute("original",n)},t.getFill=function(){return this.getElementsByTagName("fill")[0].color},t.getOriginalFill=function(){return this.getAttribute("original")},t.setOpacity=function(n){this.getElementsByTagName("fill")[0].opacity=parseInt(100*n,10)+"%"}),t};VectorCanvas.prototype.pathSvgToVml=function(n){var u,f,r="",t=0,i=0;return n.replace(/([MmLlHhVvCcSs])((?:-?(?:\d+)?(?:\.\d+)?,?\s?)+)/g,function(n,e,o){o=o.replace(/(\d)-/g,"$1,-").replace(/\s+/g,",").split(",");o[0]||o.shift();for(var s=0,h=o.length;h>s;s++)o[s]=Math.round(100*o[s]);switch(e){case"m":t+=o[0];i+=o[1];r="t"+o.join(",");break;case"M":t=o[0];i=o[1];r="m"+o.join(",");break;case"l":t+=o[0];i+=o[1];r="r"+o.join(",");break;case"L":t=o[0];i=o[1];r="l"+o.join(",");break;case"h":t+=o[0];r="r"+o[0]+",0";break;case"H":t=o[0];r="l"+t+","+i;break;case"v":i+=o[0];r="r0,"+o[0];break;case"V":i=o[0];r="l"+t+","+i;break;case"c":u=t+o[o.length-4];f=i+o[o.length-3];t+=o[o.length-2];i+=o[o.length-1];r="v"+o.join(",");break;case"C":u=o[o.length-4];f=o[o.length-3];t=o[o.length-2];i=o[o.length-1];r="c"+o.join(",");break;case"s":o.unshift(i-f);o.unshift(t-u);u=t+o[o.length-4];f=i+o[o.length-3];t+=o[o.length-2];i+=o[o.length-1];r="v"+o.join(",");break;case"S":o.unshift(i+i-f);o.unshift(t+t-u);u=o[o.length-4];f=o[o.length-3];t=o[o.length-2];i=o[o.length-1];r="c"+o.join(",")}return r}).replace(/z/g,"")};VectorCanvas.prototype.setSize=function(n,t){if("svg"===this.mode)this.canvas.setAttribute("width",n),this.canvas.setAttribute("height",t);else if(this.canvas.style.width=n+"px",this.canvas.style.height=t+"px",this.canvas.coordsize=n+" "+t,this.canvas.coordorigin="0 0",this.rootGroup){for(var r=this.rootGroup.getElementsByTagName("shape"),i=0,u=r.length;u>i;i++)r[i].coordsize=n+" "+t,r[i].style.width=n+"px",r[i].style.height=t+"px";this.rootGroup.coordsize=n+" "+t;this.rootGroup.style.width=n+"px";this.rootGroup.style.height=t+"px"}this.width=n;this.height=t};!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():n.Sparkline=t()}(window,function(){function n(t,i){this.element=t;this.options=function(n,t){var r={};for(var i in t)r[i]=i in n?n[i]:t[i];return r}(i||{},n.options);this.element.innerHTML="<canvas><\/canvas>";this.canvas=this.element.firstChild;this.context=this.canvas.getContext("2d");this.ratio=window.devicePixelRatio||1;this.options.tooltip&&(this.canvas.style.position="relative",this.canvas.onmousemove=u.bind(this))}function i(n,t,i,r,u){var f=t-n;return 0==f?i+r/2:i+r-(this[u]-n)/f*r}function r(n,i,r,u,f,e,o){this.context.beginPath();this.context.fillStyle=u;this.context.arc(e,o,n,0,2*Math.PI,!1);this.context.fill();t.call(this,i,r,f,e,o)}function t(n,t,i,r,u){i&&(this.context.save(),this.context.strokeStyle=i.color||"black",this.context.lineWidth=(i.width||1)*this.ratio,this.context.globalAlpha=i.alpha||1,this.context.beginPath(),this.context.moveTo("right"!=i.direction?n:r,u),this.context.lineTo("left"!=i.direction?t:r,u),this.context.stroke(),this.context.restore())}function u(n){var t,i,r,f=n.offsetX||n.layerX||0,e=(this.options.width-2*this.options.dotRadius)/(this.points.length-1),u=(t=0,i=Math.round((f-this.options.dotRadius)/e),r=this.points.length-1,Math.max(t,Math.min(i,r)));this.canvas.title=this.options.tooltip(this.points[u],u,this.points)}return n.options={width:100,height:null,lineColor:"black",lineWidth:1.5,startColor:"transparent",endColor:"black",maxColor:"transparent",minColor:"transparent",minValue:null,maxValue:null,minMaxValue:null,maxMinValue:null,dotRadius:2.5,tooltip:null,fillBelow:!0,fillLighten:.5,startLine:!1,endLine:!1,minLine:!1,maxLine:!1,bottomLine:!1,topLine:!1,averageLine:!1},n.init=function(t,i){return new n(t,i)},n.draw=function(t,i,r){var u=new n(t,r);return u.draw(i),u},n.prototype.draw=function(n){var p,f;n=n||[];this.points=n;this.canvas.width=this.options.width*this.ratio;this.canvas.style.width=this.options.width+"px";p=this.options.height||this.element.offsetHeight;this.canvas.height=p*this.ratio;this.canvas.style.height=p+"px";var h=this.options.lineWidth*this.ratio,u=Math.max(this.options.dotRadius*this.ratio,h/2),c=Math.max(this.options.dotRadius*this.ratio,h/2),e=this.canvas.width-2*u,l=this.canvas.height-2*c,a=Math.min.apply(Math,n),v=Math.max.apply(Math,n),g=null!=this.options.minValue?this.options.minValue:Math.min(a,null!=this.options.maxMinValue?this.options.maxMinValue:a),nt=null!=this.options.maxValue?this.options.maxValue:Math.max(v,null!=this.options.minMaxValue?this.options.minMaxValue:v),w=u,b=u,o=u,s=i.bind(n,g,nt,c,l),k=e/(n.length-1),y=r.bind(this,this.options.dotRadius*this.ratio,u,e+u),d=t.bind(this,u,e+u);if(this.context.save(),this.context.strokeStyle=this.options.lineColor,this.context.fillStyle=this.options.lineColor,this.context.lineWidth=h,this.context.lineCap="round",this.context.lineJoin="round",this.options.fillBelow&&n.length>1){for(this.context.save(),this.context.beginPath(),this.context.moveTo(o,s(0)),f=1;f<n.length;f++)o+=k,w=n[f]==a?o:w,b=n[f]==v?o:b,this.context.lineTo(o,s(f));this.context.lineTo(e+u,l+c+h/2);this.context.lineTo(u,l+c+h/2);this.context.fill();this.options.fillLighten>0?(this.context.fillStyle="white",this.context.globalAlpha=this.options.fillLighten,this.context.fill(),this.context.globalAlpha=1):this.options.fillLighten<0&&(this.context.fillStyle="black",this.context.globalAlpha=-this.options.fillLighten,this.context.fill());this.context.restore()}for(o=u,this.context.beginPath(),this.context.moveTo(o,s(0)),f=1;f<n.length;f++)o+=k,this.context.lineTo(o,s(f));this.context.stroke();this.context.restore();d(this.options.bottomLine,0,c);d(this.options.topLine,0,l+c+h/2);y(this.options.startColor,this.options.startLine,u+(1==n.length?e/2:0),s(0));y(this.options.endColor,this.options.endLine,u+(1==n.length?e/2:e),s(n.length-1));y(this.options.minColor,this.options.minLine,w+(1==n.length?e/2:0),s(n.indexOf(a)));y(this.options.maxColor,this.options.maxLine,b+(1==n.length?e/2:0),s(n.indexOf(v)))},n});
/*!@preserve
 * Tempus Dominus Bootstrap4 v5.39.0 (https://tempusdominus.github.io/bootstrap-4/)
 * Copyright 2016-2020 Jonathan Peterson and contributors
 * Licensed under MIT (https://github.com/tempusdominus/bootstrap-3/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Tempus Dominus Bootstrap4's requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4's JavaScript.");if(!function(){var n=jQuery.fn.jquery.split(" ")[0].split(".");if(n[0]<2&&n[1]<9||1===n[0]&&9===n[1]&&n[2]<1||4<=n[0])throw new Error("Tempus Dominus Bootstrap4's requires at least jQuery v3.0.0 but less than v4.0.0");}(),"undefined"==typeof moment)throw new Error("Tempus Dominus Bootstrap4's requires moment.js. Moment.js must be included before Tempus Dominus Bootstrap4's JavaScript.");if(version=moment.version.split("."),version[0]<=2&&version[1]<17||3<=version[0])throw new Error("Tempus Dominus Bootstrap4's requires at least moment.js v2.17.0 but less than v3.0.0");!function(){function ft(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function et(n){return t=new Date(n),"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime());var t}function rt(n){return n.replace(/(^\s+)|(\s+$)/g,"")}function ot(n,t){return r[n]&&r[t]?r[n]<0&&r[t]<0?Math.abs(r[t])-Math.abs(r[n]):r[n]<0?-1:r[t]<0?1:r[n]-r[t]:r[n]?r[n]:r[t]?r[t]:0}function s(i){var u,r=i.data("target");return r||(r=i.attr("href")||"",r=/^#[a-z]/i.test(r)?r:null),0===(u=n(r)).length?i:(u.data(t.DATA_KEY)||n.extend({},u.data(),n(this).data()),u)}var i,u,l,a,f,k,d,g,nt,h,v,tt,o,y,r,it,c,t=(i=jQuery,u=moment,d={DATA_TOGGLE:'[data-toggle="'+(a=l="datetimepicker")+'"]'},g={INPUT:l+"-input"},nt={CHANGE:"change"+(f="."+a),BLUR:"blur"+f,KEYUP:"keyup"+f,KEYDOWN:"keydown"+f,FOCUS:"focus"+f,CLICK_DATA_API:"click"+f+(k=".data-api"),UPDATE:"update"+f,ERROR:"error"+f,HIDE:"hide"+f,SHOW:"show"+f},h=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],v={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},tt=["times","days","months","years","decades"],c={timeZone:"",format:!(it={time:"clock",date:"calendar",up:"arrow-up",down:"arrow-down",previous:"arrow-left",next:"arrow-right",today:"arrow-down-circle",clear:"trash-2",close:"x"}),dayViewHeaderFormat:"MMMM YYYY",extraFormats:!(r={timeZone:-39,format:-38,dayViewHeaderFormat:-37,extraFormats:-36,stepping:-35,minDate:-34,maxDate:-33,useCurrent:-32,collapse:-31,locale:-30,defaultDate:-29,disabledDates:-28,enabledDates:-27,icons:-26,tooltips:-25,useStrict:-24,sideBySide:-23,daysOfWeekDisabled:-22,calendarWeeks:-21,viewMode:-20,toolbarPlacement:-19,buttons:-18,widgetPositioning:-17,widgetParent:-16,ignoreReadonly:-15,keepOpen:-14,focusOnShow:-13,inline:-12,keepInvalid:-11,keyBinds:-10,debug:-9,allowInputToggle:-8,disabledTimeIntervals:-7,disabledHours:-6,enabledHours:-5,viewDate:-4,allowMultidate:-3,multidateSeparator:-2,updateOnlyThroughDateOption:-1,date:1}),stepping:1,minDate:!(y={}),maxDate:!(o={}),useCurrent:!0,collapse:!0,locale:u.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{type:"class",time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-trash",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,readonly:!1,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var n=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(n.clone().subtract(7,"d")):this.date(n.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var n=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(n.clone().add(7,"d")):this.date(n.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var n=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(n.clone().subtract(1,"y")):this.date(n.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var n=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(n.clone().add(1,"y")):this.date(n.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var n=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(n.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var n=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(n.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var n=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(n.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var n=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(n.clone().add(1,"M")),!0},enter:function(){return!!this.widget&&(this.hide(),!0)},escape:function(){return!!this.widget&&(this.hide(),!0)},"control space":function(){return!!this.widget&&(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0)},t:function(){return!!this.widget&&(this.date(this.getMoment()),!0)},"delete":function(){return!!this.widget&&(this.clear(),!0)}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:", ",updateOnlyThroughDateOption:!1,promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200},function(){function t(n,t){this._options=this._getOptions(t);this._element=n;this._dates=[];this._datesFormatted=[];this._viewDate=null;this.unset=!0;this.component=!1;this.widget=!1;this.use24Hours=null;this.actualFormat=null;this.parseFormats=null;this.currentViewMode=null;this.MinViewModeNumber=0;this.isInitFormatting=!1;this.isInit=!1;this.isDateUpdateThroughDateOptionFromClientCode=!1;this.hasInitDate=!1;this.initDate=void 0;this._notifyChangeEventContext=void 0;this._currentPromptTimeTimeout=null;this._int()}var r,e,n=t.prototype;return n._int=function(){this.isInit=!0;var n=this._element.data("target-input");this._element.is("input")?this.input=this._element:void 0!==n&&(this.input="nearest"===n?this._element.find("input"):i(n));this._dates=[];this._dates[0]=this.getMoment();this._viewDate=this.getMoment().clone();i.extend(!0,this._options,this._dataToOptions());this.hasInitDate=!1;this.initDate=void 0;this.options(this._options);this.isInitFormatting=!0;this._initFormatting();this.isInitFormatting=!1;void 0!==this.input&&this.input.is("input")&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&void 0!==this.input&&void 0===this.input.attr("placeholder")&&this._setValue(this._options.defaultDate,0);this.hasInitDate&&this.date(this.initDate);this._options.inline&&this.show();this.isInit=!1},n._update=function(){this.widget&&(this._fillDate(),this._fillTime())},n._setValue=function(n,i){var h=void 0===i,f=!n&&h,e=this.isDateUpdateThroughDateOptionFromClientCode,c=!this.isInit&&this._options.updateOnlyThroughDateOption&&!e,r="",o=!1,u=this.unset?null:this._dates[i],s;if(!u&&!this.unset&&h&&f&&(u=this._dates[this._dates.length-1]),!n)return c?void this._notifyEvent({type:t.Event.CHANGE,date:n,oldDate:u,isClear:f,isInvalid:o,isDateUpdateThroughDateOptionFromClientCode:e,isInit:this.isInit}):(!this._options.allowMultidate||1===this._dates.length||f?(this.unset=!0,this._dates=[],this._datesFormatted=[]):(r=""+this._element.data("date")+this._options.multidateSeparator,r=u&&r.replace(""+u.format(this.actualFormat)+this._options.multidateSeparator,"").replace(""+this._options.multidateSeparator+this._options.multidateSeparator,"").replace(new RegExp(this._options.multidateSeparator.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"\\s*$"),"")||"",this._dates.splice(i,1),this._datesFormatted.splice(i,1)),r=rt(r),void 0!==this.input&&(this.input.val(r),this.input.trigger("input")),this._element.data("date",r),this._notifyEvent({type:t.Event.CHANGE,date:!1,oldDate:u,isClear:f,isInvalid:o,isDateUpdateThroughDateOptionFromClientCode:e,isInit:this.isInit}),void this._update());if(n=n.clone().locale(this._options.locale),this._hasTimeZone()&&n.tz(this._options.timeZone),1!==this._options.stepping&&n.minutes(Math.round(n.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(n)){if(c)return void this._notifyEvent({type:t.Event.CHANGE,date:n.clone(),oldDate:u,isClear:f,isInvalid:o,isDateUpdateThroughDateOptionFromClientCode:e,isInit:this.isInit});if(this._dates[i]=n,this._datesFormatted[i]=n.format("YYYY-MM-DD"),this._viewDate=n.clone(),this._options.allowMultidate&&1<this._dates.length){for(s=0;s<this._dates.length;s++)r+=""+this._dates[s].format(this.actualFormat)+this._options.multidateSeparator;r=r.replace(new RegExp(this._options.multidateSeparator+"\\s*$"),"")}else r=this._dates[i].format(this.actualFormat);r=rt(r);void 0!==this.input&&(this.input.val(r),this.input.trigger("input"));this._element.data("date",r);this.unset=!1;this._update();this._notifyEvent({type:t.Event.CHANGE,date:this._dates[i].clone(),oldDate:u,isClear:f,isInvalid:o,isDateUpdateThroughDateOptionFromClientCode:e,isInit:this.isInit})}else o=!0,this._options.keepInvalid?this._notifyEvent({type:t.Event.CHANGE,date:n,oldDate:u,isClear:f,isInvalid:o,isDateUpdateThroughDateOptionFromClientCode:e,isInit:this.isInit}):void 0!==this.input&&(this.input.val(""+(this.unset?"":this._dates[i].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:t.Event.ERROR,date:n,oldDate:u})},n._change=function(n){var t=i(n.target).val().trim(),r=t?this._parseInputDate(t):null;return this._setValue(r,0),n.stopImmediatePropagation(),!1},n._getOptions=function(n){return i.extend(!0,{},c,n&&n.icons&&"feather"===n.icons.type?{icons:it}:{},n)},n._hasTimeZone=function(){return void 0!==u.tz&&void 0!==this._options.timeZone&&null!==this._options.timeZone&&""!==this._options.timeZone},n._isEnabled=function(n){if("string"!=typeof n||1<n.length)throw new TypeError("isEnabled expects a single character string parameter");switch(n){case"y":return-1!==this.actualFormat.indexOf("Y");case"M":return-1!==this.actualFormat.indexOf("M");case"d":return-1!==this.actualFormat.toLowerCase().indexOf("d");case"h":case"H":return-1!==this.actualFormat.toLowerCase().indexOf("h");case"m":return-1!==this.actualFormat.indexOf("m");case"s":return-1!==this.actualFormat.indexOf("s");case"a":case"A":return-1!==this.actualFormat.toLowerCase().indexOf("a");default:return!1}},n._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},n._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},n._dataToOptions=function(){var n=this._element.data(),t={};return n.dateOptions&&n.dateOptions instanceof Object&&(t=i.extend(!0,t,n.dateOptions)),i.each(this._options,function(i){var r="date"+i.charAt(0).toUpperCase()+i.slice(1);void 0!==n[r]?t[i]=n[r]:delete t[i]}),t},n._format=function(){return this._options.format||"YYYY-MM-DD HH:mm"},n._areSameDates=function(n,t){var i=this._format();return n&&t&&(n.isSame(t)||u(n.format(i),i).isSame(u(t.format(i),i)))},n._notifyEvent=function(n){if(n.type===t.Event.CHANGE){if(this._notifyChangeEventContext=this._notifyChangeEventContext||0,this._notifyChangeEventContext++,n.date&&this._areSameDates(n.date,n.oldDate)||!n.isClear&&!n.date&&!n.oldDate||1<this._notifyChangeEventContext)return void(this._notifyChangeEventContext=void 0);this._handlePromptTimeIfNeeded(n)}this._element.trigger(n);this._notifyChangeEventContext=void 0},n._handlePromptTimeIfNeeded=function(n){if(this._options.promptTimeOnDateChange){if(!n.oldDate&&this._options.useCurrent)return;if(n.oldDate&&n.date&&(n.oldDate.format("YYYY-MM-DD")===n.date.format("YYYY-MM-DD")||n.oldDate.format("YYYY-MM-DD")!==n.date.format("YYYY-MM-DD")&&n.oldDate.format("HH:mm:ss")!==n.date.format("HH:mm:ss")))return;var t=this;clearTimeout(this._currentPromptTimeTimeout);this._currentPromptTimeTimeout=setTimeout(function(){t.widget&&t.widget.find('[data-action="togglePicker"]').click()},this._options.promptTimeOnDateChangeTransitionDelay)}},n._viewUpdate=function(n){"y"===n&&(n="YYYY");this._notifyEvent({type:t.Event.UPDATE,change:n,viewDate:this._viewDate.clone()})},n._showMode=function(n){this.widget&&(n&&(this.currentViewMode=Math.max(this.MinViewModeNumber,Math.min(3,this.currentViewMode+n))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+h[this.currentViewMode].CLASS_NAME).show())},n._isInDisabledDates=function(n){return!0===this._options.disabledDates[n.format("YYYY-MM-DD")]},n._isInEnabledDates=function(n){return!0===this._options.enabledDates[n.format("YYYY-MM-DD")]},n._isInDisabledHours=function(n){return!0===this._options.disabledHours[n.format("H")]},n._isInEnabledHours=function(n){return!0===this._options.enabledHours[n.format("H")]},n._isValid=function(n,t){if(!n||!n.isValid()||this._options.disabledDates&&"d"===t&&this._isInDisabledDates(n)||this._options.enabledDates&&"d"===t&&!this._isInEnabledDates(n)||this._options.minDate&&n.isBefore(this._options.minDate,t)||this._options.maxDate&&n.isAfter(this._options.maxDate,t)||this._options.daysOfWeekDisabled&&"d"===t&&-1!==this._options.daysOfWeekDisabled.indexOf(n.day())||this._options.disabledHours&&("h"===t||"m"===t||"s"===t)&&this._isInDisabledHours(n)||this._options.enabledHours&&("h"===t||"m"===t||"s"===t)&&!this._isInEnabledHours(n))return!1;if(this._options.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var r=!1;if(i.each(this._options.disabledTimeIntervals,function(){if(n.isBetween(this[0],this[1]))return!(r=!0)}),r)return!1}return!0},n._parseInputDate=function(n,t){var i=(void 0===t?{}:t).isPickerShow,r=void 0!==i&&i;return void 0===this._options.parseInputDate||r?u.isMoment(n)||(n=this.getMoment(n)):n=this._options.parseInputDate(n),n},n._keydown=function(n){var t,r,i,u,f=null,s=[],h={},e=n.which;for(t in o[e]="p",o)o.hasOwnProperty(t)&&"p"===o[t]&&(s.push(t),parseInt(t,10)!==e&&(h[t]=!0));for(t in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(t)&&"function"==typeof this._options.keyBinds[t]&&(i=t.split(" ")).length===s.length&&v[e]===i[i.length-1]){for(u=!0,r=i.length-2;0<=r;r--)if(!(v[i[r]]in h)){u=!1;break}if(u){f=this._options.keyBinds[t];break}}f&&f.call(this)&&(n.stopPropagation(),n.preventDefault())},n._keyup=function(n){o[n.which]="r";y[n.which]&&(y[n.which]=!1,n.stopPropagation(),n.preventDefault())},n._indexGivenDates=function(n){var t={},r=this;return i.each(n,function(){var n=r._parseInputDate(this);n.isValid()&&(t[n.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t},n._indexGivenHours=function(n){var t={};return i.each(n,function(){t[this]=!0}),!!Object.keys(t).length&&t},n._initFormatting=function(){var t=this._options.format||"L LT",n=this;this.actualFormat=t.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return(n.isInitFormatting&&null===n._options.date?n.getMoment():n._dates[0]).localeData().longDateFormat(t)||t});this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[];this.parseFormats.indexOf(t)<0&&this.parseFormats.indexOf(this.actualFormat)<0&&this.parseFormats.push(this.actualFormat);this.use24Hours=this.actualFormat.toLowerCase().indexOf("a")<1&&this.actualFormat.replace(/\[.*?]/g,"").indexOf("h")<1;this._isEnabled("y")&&(this.MinViewModeNumber=2);this._isEnabled("M")&&(this.MinViewModeNumber=1);this._isEnabled("d")&&(this.MinViewModeNumber=0);this.currentViewMode=Math.max(this.MinViewModeNumber,this.currentViewMode);this.unset||this._setValue(this._dates[0],0)},n._getLastPickedDate=function(){var n=this._dates[this._getLastPickedDateIndex()];return!n&&this._options.allowMultidate&&(n=u(new Date)),n},n._getLastPickedDateIndex=function(){return this._dates.length-1},n.getMoment=function(n){var t=null==n?u().clone().locale(this._options.locale):this._hasTimeZone()?u.tz(n,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):u(n,this.parseFormats,this._options.locale,this._options.useStrict);return this._hasTimeZone()&&t.tz(this._options.timeZone),t},n.toggle=function(){return this.widget?this.hide():this.show()},n.readonly=function(n){if(0===arguments.length)return this._options.readonly;if("boolean"!=typeof n)throw new TypeError("readonly() expects a boolean parameter");this._options.readonly=n;void 0!==this.input&&this.input.prop("readonly",this._options.readonly);this.widget&&(this.hide(),this.show())},n.ignoreReadonly=function(n){if(0===arguments.length)return this._options.ignoreReadonly;if("boolean"!=typeof n)throw new TypeError("ignoreReadonly() expects a boolean parameter");this._options.ignoreReadonly=n},n.options=function(n){if(0===arguments.length)return i.extend(!0,{},this._options);if(!(n instanceof Object))throw new TypeError("options() this.options parameter should be an object");i.extend(!0,this._options,n);var t=this,r=Object.keys(this._options).sort(ot);i.each(r,function(n,i){var r=t._options[i];if(void 0!==t[i]){if(t.isInit&&"date"===i)return t.hasInitDate=!0,void(t.initDate=r);t[i](r)}})},n.date=function(n,t){if(t=t||0,0===arguments.length)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[t].clone();if(!(null===n||"string"==typeof n||u.isMoment(n)||n instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");"string"==typeof n&&et(n)&&(n=new Date(n));this._setValue(null===n?null:this._parseInputDate(n),t)},n.updateOnlyThroughDateOption=function(n){if("boolean"!=typeof n)throw new TypeError("updateOnlyThroughDateOption() expects a boolean parameter");this._options.updateOnlyThroughDateOption=n},n.format=function(n){if(0===arguments.length)return this._options.format;if("string"!=typeof n&&("boolean"!=typeof n||!1!==n))throw new TypeError("format() expects a string or boolean:false parameter "+n);this._options.format=n;this.actualFormat&&this._initFormatting()},n.timeZone=function(n){if(0===arguments.length)return this._options.timeZone;if("string"!=typeof n)throw new TypeError("newZone() expects a string parameter");this._options.timeZone=n},n.dayViewHeaderFormat=function(n){if(0===arguments.length)return this._options.dayViewHeaderFormat;if("string"!=typeof n)throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=n},n.extraFormats=function(n){if(0===arguments.length)return this._options.extraFormats;if(!1!==n&&!(n instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=n;this.parseFormats&&this._initFormatting()},n.disabledDates=function(n){if(0===arguments.length)return this._options.disabledDates?i.extend({},this._options.disabledDates):this._options.disabledDates;if(!n)return this._options.disabledDates=!1,this._update(),!0;if(!(n instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(n);this._options.enabledDates=!1;this._update()},n.enabledDates=function(n){if(0===arguments.length)return this._options.enabledDates?i.extend({},this._options.enabledDates):this._options.enabledDates;if(!n)return this._options.enabledDates=!1,this._update(),!0;if(!(n instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(n);this._options.disabledDates=!1;this._update()},n.daysOfWeekDisabled=function(n){var t,i;if(0===arguments.length)return this._options.daysOfWeekDisabled.splice(0);if("boolean"==typeof n&&!n)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(n instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=n.reduce(function(n,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===n.indexOf(t)&&n.push(t),n},[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(t=0;t<this._dates.length;t++){for(i=0;!this._isValid(this._dates[t],"d");){if(this._dates[t].add(1,"d"),31===i)throw"Tried 31 times to find a valid date";i++}this._setValue(this._dates[t],t)}this._update()},n.maxDate=function(n){var t,i;if(0===arguments.length)return this._options.maxDate?this._options.maxDate.clone():this._options.maxDate;if("boolean"==typeof n&&!1===n)return this._options.maxDate=!1,this._update(),!0;if("string"==typeof n&&("now"!==n&&"moment"!==n||(n=this.getMoment())),t=this._parseInputDate(n),!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+n);if(this._options.minDate&&t.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+t.format(this.actualFormat));for(this._options.maxDate=t,i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isAfter(n)&&this._setValue(this._options.maxDate,i);this._viewDate.isAfter(t)&&(this._viewDate=t.clone().subtract(this._options.stepping,"m"));this._update()},n.minDate=function(n){var t,i;if(0===arguments.length)return this._options.minDate?this._options.minDate.clone():this._options.minDate;if("boolean"==typeof n&&!1===n)return this._options.minDate=!1,this._update(),!0;if("string"==typeof n&&("now"!==n&&"moment"!==n||(n=this.getMoment())),t=this._parseInputDate(n),!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+n);if(this._options.maxDate&&t.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+t.format(this.actualFormat));for(this._options.minDate=t,i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isBefore(n)&&this._setValue(this._options.minDate,i);this._viewDate.isBefore(t)&&(this._viewDate=t.clone().add(this._options.stepping,"m"));this._update()},n.defaultDate=function(n){if(0===arguments.length)return this._options.defaultDate?this._options.defaultDate.clone():this._options.defaultDate;if(!n)return!(this._options.defaultDate=!1);"string"==typeof n&&(n="now"===n||"moment"===n?this.getMoment():this.getMoment(n));var t=this._parseInputDate(n);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+n);if(!this._isValid(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=t;(this._options.defaultDate&&this._options.inline||void 0!==this.input&&""===this.input.val().trim())&&this._setValue(this._options.defaultDate,0)},n.locale=function(n){if(0===arguments.length)return this._options.locale;if(!u.localeData(n))throw new TypeError("locale() locale "+n+" is not loaded from moment locales!");this._options.locale=n;for(var t=0;t<this._dates.length;t++)this._dates[t].locale(this._options.locale);this._viewDate.locale(this._options.locale);this.actualFormat&&this._initFormatting();this.widget&&(this.hide(),this.show())},n.stepping=function(n){if(0===arguments.length)return this._options.stepping;n=parseInt(n,10);(isNaN(n)||n<1)&&(n=1);this._options.stepping=n},n.useCurrent=function(n){var t=["year","month","day","hour","minute"];if(0===arguments.length)return this._options.useCurrent;if("boolean"!=typeof n&&"string"!=typeof n)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof n&&-1===t.indexOf(n.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));this._options.useCurrent=n},n.collapse=function(n){if(0===arguments.length)return this._options.collapse;if("boolean"!=typeof n)throw new TypeError("collapse() expects a boolean parameter");if(this._options.collapse===n)return!0;this._options.collapse=n;this.widget&&(this.hide(),this.show())},n.icons=function(n){if(0===arguments.length)return i.extend({},this._options.icons);if(!(n instanceof Object))throw new TypeError("icons() expects parameter to be an Object");i.extend(this._options.icons,n);this.widget&&(this.hide(),this.show())},n.tooltips=function(n){if(0===arguments.length)return i.extend({},this._options.tooltips);if(!(n instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");i.extend(this._options.tooltips,n);this.widget&&(this.hide(),this.show())},n.useStrict=function(n){if(0===arguments.length)return this._options.useStrict;if("boolean"!=typeof n)throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=n},n.sideBySide=function(n){if(0===arguments.length)return this._options.sideBySide;if("boolean"!=typeof n)throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=n;this.widget&&(this.hide(),this.show())},n.viewMode=function(n){if(0===arguments.length)return this._options.viewMode;if("string"!=typeof n)throw new TypeError("viewMode() expects a string parameter");if(-1===t.ViewModes.indexOf(n))throw new TypeError("viewMode() parameter must be one of ("+t.ViewModes.join(", ")+") value");this._options.viewMode=n;this.currentViewMode=Math.max(t.ViewModes.indexOf(n)-1,this.MinViewModeNumber);this._showMode()},n.calendarWeeks=function(n){if(0===arguments.length)return this._options.calendarWeeks;if("boolean"!=typeof n)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=n;this._update()},n.buttons=function(n){if(0===arguments.length)return i.extend({},this._options.buttons);if(!(n instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if(i.extend(this._options.buttons,n),"boolean"!=typeof this._options.buttons.showToday)throw new TypeError("buttons.showToday expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClear)throw new TypeError("buttons.showClear expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClose)throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},n.keepOpen=function(n){if(0===arguments.length)return this._options.keepOpen;if("boolean"!=typeof n)throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=n},n.focusOnShow=function(n){if(0===arguments.length)return this._options.focusOnShow;if("boolean"!=typeof n)throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=n},n.inline=function(n){if(0===arguments.length)return this._options.inline;if("boolean"!=typeof n)throw new TypeError("inline() expects a boolean parameter");this._options.inline=n},n.clear=function(){this._setValue(null)},n.keyBinds=function(n){if(0===arguments.length)return this._options.keyBinds;this._options.keyBinds=n},n.debug=function(n){if("boolean"!=typeof n)throw new TypeError("debug() expects a boolean parameter");this._options.debug=n},n.allowInputToggle=function(n){if(0===arguments.length)return this._options.allowInputToggle;if("boolean"!=typeof n)throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=n},n.keepInvalid=function(n){if(0===arguments.length)return this._options.keepInvalid;if("boolean"!=typeof n)throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=n},n.datepickerInput=function(n){if(0===arguments.length)return this._options.datepickerInput;if("string"!=typeof n)throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=n},n.parseInputDate=function(n){if(0===arguments.length)return this._options.parseInputDate;if("function"!=typeof n)throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=n},n.disabledTimeIntervals=function(n){if(0===arguments.length)return this._options.disabledTimeIntervals?i.extend({},this._options.disabledTimeIntervals):this._options.disabledTimeIntervals;if(!n)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(n instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=n;this._update()},n.disabledHours=function(n){var t,r;if(0===arguments.length)return this._options.disabledHours?i.extend({},this._options.disabledHours):this._options.disabledHours;if(!n)return this._options.disabledHours=!1,this._update(),!0;if(!(n instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(n),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(t=0;t<this._dates.length;t++){for(r=0;!this._isValid(this._dates[t],"h");){if(this._dates[t].add(1,"h"),24===r)throw"Tried 24 times to find a valid date";r++}this._setValue(this._dates[t],t)}this._update()},n.enabledHours=function(n){var t,r;if(0===arguments.length)return this._options.enabledHours?i.extend({},this._options.enabledHours):this._options.enabledHours;if(!n)return this._options.enabledHours=!1,this._update(),!0;if(!(n instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(n),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(t=0;t<this._dates.length;t++){for(r=0;!this._isValid(this._dates[t],"h");){if(this._dates[t].add(1,"h"),24===r)throw"Tried 24 times to find a valid date";r++}this._setValue(this._dates[t],t)}this._update()},n.viewDate=function(n){if(0===arguments.length)return this._viewDate.clone();if(!n)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(!("string"==typeof n||u.isMoment(n)||n instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(n);this._update();this._viewUpdate(h[this.currentViewMode]&&h[this.currentViewMode].NAV_FUNCTION)},n._fillDate=function(){},n._useFeatherIcons=function(){return"feather"===this._options.icons.type},n.allowMultidate=function(n){if("boolean"!=typeof n)throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=n},n.multidateSeparator=function(n){if(0===arguments.length)return this._options.multidateSeparator;if("string"!=typeof n)throw new TypeError("multidateSeparator expects a string parameter");this._options.multidateSeparator=n},r=t,(e=[{key:"NAME",get:function(){return l}},{key:"DATA_KEY",get:function(){return a}},{key:"EVENT_KEY",get:function(){return f}},{key:"DATA_API_KEY",get:function(){return k}},{key:"DatePickerModes",get:function(){return h}},{key:"ViewModes",get:function(){return tt}},{key:"Event",get:function(){return nt}},{key:"Selector",get:function(){return d}},{key:"Default",get:function(){return c},set:function(n){c=n}},{key:"ClassName",get:function(){return g}}])&&ft(r,e),t}()),n,ut,p,w,b,e;n=jQuery;ut=n.fn[t.NAME];p=["top","bottom","auto"];w=["left","right","auto"];b=["default","top","bottom"];e=function(i){function u(n,t){var r=i.call(this,n,t)||this;return r._init(),r}var f,e,r;return e=i,(f=u).prototype=Object.create(e.prototype),(f.prototype.constructor=f).__proto__=e,r=u.prototype,r._init=function(){var n;this._element.hasClass("input-group")&&(this.component=0===(n=this._element.find(".datepickerbutton")).length?this._element.find('[data-toggle="datetimepicker"]'):n)},r._iconTag=function(t){return"undefined"!=typeof feather&&this._useFeatherIcons()&&feather.icons[t]?n("<span>").html(feather.icons[t].toSvg()):n("<span>").addClass(t)},r._getDatePickerTemplate=function(){var t=n("<thead>").append(n("<tr>").append(n("<th>").addClass("prev").attr("data-action","previous").append(this._iconTag(this._options.icons.previous))).append(n("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",this._options.calendarWeeks?"6":"5")).append(n("<th>").addClass("next").attr("data-action","next").append(this._iconTag(this._options.icons.next)))),i=n("<tbody>").append(n("<tr>").append(n("<td>").attr("colspan",this._options.calendarWeeks?"8":"7")));return[n("<div>").addClass("datepicker-days").append(n("<table>").addClass("table table-sm").append(t).append(n("<tbody>"))),n("<div>").addClass("datepicker-months").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),n("<div>").addClass("datepicker-years").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),n("<div>").addClass("datepicker-decades").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},r._getTimePickerMainTemplate=function(){var t=n("<tr>"),i=n("<tr>"),r=n("<tr>");return this._isEnabled("h")&&(t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(this._iconTag(this._options.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:this._options.tooltips.pickHour}).attr("data-action","showHours"))),r.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(this._iconTag(this._options.icons.down))))),this._isEnabled("m")&&(this._isEnabled("h")&&(t.append(n("<td>").addClass("separator")),i.append(n("<td>").addClass("separator").html(":")),r.append(n("<td>").addClass("separator"))),t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(this._iconTag(this._options.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:this._options.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(this._iconTag(this._options.icons.down))))),this._isEnabled("s")&&(this._isEnabled("m")&&(t.append(n("<td>").addClass("separator")),i.append(n("<td>").addClass("separator").html(":")),r.append(n("<td>").addClass("separator"))),t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(this._iconTag(this._options.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:this._options.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(this._iconTag(this._options.icons.down))))),this.use24Hours||(t.append(n("<td>").addClass("separator")),i.append(n("<td>").append(n("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:this._options.tooltips.togglePeriod}))),r.append(n("<td>").addClass("separator"))),n("<div>").addClass("timepicker-picker").append(n("<table>").addClass("table-condensed").append([t,i,r]))},r._getTimePickerTemplate=function(){var i=n("<div>").addClass("timepicker-hours").append(n("<table>").addClass("table-condensed")),r=n("<div>").addClass("timepicker-minutes").append(n("<table>").addClass("table-condensed")),u=n("<div>").addClass("timepicker-seconds").append(n("<table>").addClass("table-condensed")),t=[this._getTimePickerMainTemplate()];return this._isEnabled("h")&&t.push(i),this._isEnabled("m")&&t.push(r),this._isEnabled("s")&&t.push(u),t},r._getToolbar=function(){var i,r,t=[];return this._options.buttons.showToday&&t.push(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1","data-action":"today",title:this._options.tooltips.today}).append(this._iconTag(this._options.icons.today)))),!this._options.sideBySide&&this._options.collapse&&this._hasDate()&&this._hasTime()&&(r="times"===this._options.viewMode?(i=this._options.tooltips.selectDate,this._options.icons.date):(i=this._options.tooltips.selectTime,this._options.icons.time),t.push(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1","data-action":"togglePicker",title:i}).append(this._iconTag(r))))),this._options.buttons.showClear&&t.push(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1","data-action":"clear",title:this._options.tooltips.clear}).append(this._iconTag(this._options.icons.clear)))),this._options.buttons.showClose&&t.push(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1","data-action":"close",title:this._options.tooltips.close}).append(this._iconTag(this._options.icons.close)))),0===t.length?"":n("<table>").addClass("table-condensed").append(n("<tbody>").append(n("<tr>").append(t)))},r._getTemplate=function(){var t=n("<div>").addClass(("bootstrap-datetimepicker-widget dropdown-menu "+(this._options.calendarWeeks?"tempusdominus-bootstrap-datetimepicker-widget-with-calendar-weeks":"")+" "+(this._useFeatherIcons()?"tempusdominus-bootstrap-datetimepicker-widget-with-feather-icons":"")+" ").trim()),u=n("<div>").addClass("datepicker").append(this._getDatePickerTemplate()),f=n("<div>").addClass("timepicker").append(this._getTimePickerTemplate()),i=n("<ul>").addClass("list-unstyled"),r=n("<li>").addClass(("picker-switch"+(this._options.collapse?" accordion-toggle":"")+" "+(this._useFeatherIcons()?"picker-switch-with-feathers-icons":"")).trim()).append(this._getToolbar());return this._options.inline&&t.removeClass("dropdown-menu"),this.use24Hours&&t.addClass("usetwentyfour"),(void 0!==this.input&&this.input.prop("readonly")||this._options.readonly)&&t.addClass("bootstrap-datetimepicker-widget-readonly"),this._isEnabled("s")&&!this.use24Hours&&t.addClass("wider"),this._options.sideBySide&&this._hasDate()&&this._hasTime()?(t.addClass("timepicker-sbs"),"top"===this._options.toolbarPlacement&&t.append(r),t.append(n("<div>").addClass("row").append(u.addClass("col-md-6")).append(f.addClass("col-md-6"))),"bottom"!==this._options.toolbarPlacement&&"default"!==this._options.toolbarPlacement||t.append(r),t):("top"===this._options.toolbarPlacement&&i.append(r),this._hasDate()&&i.append(n("<li>").addClass(this._options.collapse&&this._hasTime()?"collapse":"").addClass(this._options.collapse&&this._hasTime()&&"times"===this._options.viewMode?"":"show").append(u)),"default"===this._options.toolbarPlacement&&i.append(r),this._hasTime()&&i.append(n("<li>").addClass(this._options.collapse&&this._hasDate()?"collapse":"").addClass(this._options.collapse&&this._hasDate()&&"times"===this._options.viewMode?"show":"").append(f)),"bottom"===this._options.toolbarPlacement&&i.append(r),t.append(i))},r._place=function(t){var r,i=t&&t.data&&t.data.picker||this,u=i._options.widgetPositioning.vertical,f=i._options.widgetPositioning.horizontal,e=(i.component&&i.component.length?i.component:i._element).position(),o=(i.component&&i.component.length?i.component:i._element).offset();if(i._options.widgetParent)r=i._options.widgetParent.append(i.widget);else if(i._element.is("input"))r=i._element.after(i.widget).parent();else{if(i._options.inline)return void(r=i._element.append(i.widget));r=i._element;i._element.children().first().after(i.widget)}if("auto"===u&&(u=o.top+1.5*i.widget.height()>=n(window).height()+n(window).scrollTop()&&i.widget.height()+i._element.outerHeight()<o.top?"top":"bottom"),"auto"===f&&(f=r.width()<o.left+i.widget.outerWidth()/2&&o.left+i.widget.outerWidth()>n(window).width()?"right":"left"),"top"===u?i.widget.addClass("top").removeClass("bottom"):i.widget.addClass("bottom").removeClass("top"),"right"===f?i.widget.addClass("float-right"):i.widget.removeClass("float-right"),"relative"!==r.css("position")&&(r=r.parents().filter(function(){return"relative"===n(this).css("position")}).first()),0===r.length)throw new Error("datetimepicker component should be placed within a relative positioned container");i.widget.css({top:"top"===u?"auto":e.top+i._element.outerHeight()+"px",bottom:"top"===u?r.outerHeight()-(r===i._element?0:e.top)+"px":"auto",left:"left"===f?(r===i._element?0:e.left)+"px":"auto",right:"left"===f?"auto":r.outerWidth()-i._element.outerWidth()-(r===i._element?0:e.left)+"px"})},r._fillDow=function(){var t=n("<tr>"),i=this._viewDate.clone().startOf("w").startOf("d");for(!0===this._options.calendarWeeks&&t.append(n("<th>").addClass("cw").text("#"));i.isBefore(this._viewDate.clone().endOf("w"));)t.append(n("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");this.widget.find(".datepicker-days thead").append(t)},r._fillMonths=function(){for(var i=[],t=this._viewDate.clone().startOf("y").startOf("d");t.isSame(this._viewDate,"y");)i.push(n("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");this.widget.find(".datepicker-months td").empty().append(i)},r._updateMonths=function(){var i=this.widget.find(".datepicker-months"),t=i.find("th"),r=i.find("tbody").find("span"),f=this,u=this._getLastPickedDate();t.eq(0).find("span").attr("title",this._options.tooltips.prevYear);t.eq(1).attr("title",this._options.tooltips.selectYear);t.eq(2).find("span").attr("title",this._options.tooltips.nextYear);i.find(".disabled").removeClass("disabled");this._isValid(this._viewDate.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled");t.eq(1).text(this._viewDate.year());this._isValid(this._viewDate.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled");r.removeClass("active");u&&u.isSame(this._viewDate,"y")&&!this.unset&&r.eq(u.month()).addClass("active");r.each(function(t){f._isValid(f._viewDate.clone().month(t),"M")||n(this).addClass("disabled")})},r._getStartEndYear=function(n,t){var i=n/10,r=Math.floor(t/n)*n;return[r,r+9*i,Math.floor(t/i)*i]},r._updateYears=function(){var r=this.widget.find(".datepicker-years"),t=r.find("th"),f=this._getStartEndYear(10,this._viewDate.year()),n=this._viewDate.clone().year(f[0]),u=this._viewDate.clone().year(f[1]),i="";for(t.eq(0).find("span").attr("title",this._options.tooltips.prevDecade),t.eq(1).attr("title",this._options.tooltips.selectDecade),t.eq(2).find("span").attr("title",this._options.tooltips.nextDecade),r.find(".disabled").removeClass("disabled"),this._options.minDate&&this._options.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+u.year()),this._options.maxDate&&this._options.maxDate.isBefore(u,"y")&&t.eq(2).addClass("disabled"),i+='<span data-action="selectYear" class="year old'+(this._isValid(n,"y")?"":" disabled")+'">'+(n.year()-1)+"<\/span>";!n.isAfter(u,"y");)i+='<span data-action="selectYear" class="year'+(n.isSame(this._getLastPickedDate(),"y")&&!this.unset?" active":"")+(this._isValid(n,"y")?"":" disabled")+'">'+n.year()+"<\/span>",n.add(1,"y");i+='<span data-action="selectYear" class="year old'+(this._isValid(n,"y")?"":" disabled")+'">'+n.year()+"<\/span>";r.find("td").html(i)},r._updateDecades=function(){var i,u=this.widget.find(".datepicker-decades"),t=u.find("th"),o=this._getStartEndYear(100,this._viewDate.year()),n=this._viewDate.clone().year(o[0]),f=this._viewDate.clone().year(o[1]),e=this._getLastPickedDate(),s=!1,h=!1,r="";for(t.eq(0).find("span").attr("title",this._options.tooltips.prevCentury),t.eq(2).find("span").attr("title",this._options.tooltips.nextCentury),u.find(".disabled").removeClass("disabled"),(0===n.year()||this._options.minDate&&this._options.minDate.isAfter(n,"y"))&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+f.year()),this._options.maxDate&&this._options.maxDate.isBefore(f,"y")&&t.eq(2).addClass("disabled"),r+=n.year()-10<0?"<span>&nbsp;<\/span>":'<span data-action="selectDecade" class="decade old" data-selection="'+(n.year()+6)+'">'+(n.year()-10)+"<\/span>";!n.isAfter(f,"y");)i=n.year()+11,s=this._options.minDate&&this._options.minDate.isAfter(n,"y")&&this._options.minDate.year()<=i,h=this._options.maxDate&&this._options.maxDate.isAfter(n,"y")&&this._options.maxDate.year()<=i,r+='<span data-action="selectDecade" class="decade'+(e&&e.isAfter(n)&&e.year()<=i?" active":"")+(this._isValid(n,"y")||s||h?"":" disabled")+'" data-selection="'+(n.year()+6)+'">'+n.year()+"<\/span>",n.add(10,"y");r+='<span data-action="selectDecade" class="decade old" data-selection="'+(n.year()+6)+'">'+n.year()+"<\/span>";u.find("td").html(r)},r._fillDate=function(){i.prototype._fillDate.call(this);var t,f,r,e,s,o=this.widget.find(".datepicker-days"),u=o.find("th"),h=[];if(this._hasDate()){for(u.eq(0).find("span").attr("title",this._options.tooltips.prevMonth),u.eq(1).attr("title",this._options.tooltips.selectMonth),u.eq(2).find("span").attr("title",this._options.tooltips.nextMonth),o.find(".disabled").removeClass("disabled"),u.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat)),this._isValid(this._viewDate.clone().subtract(1,"M"),"M")||u.eq(0).addClass("disabled"),this._isValid(this._viewDate.clone().add(1,"M"),"M")||u.eq(2).addClass("disabled"),t=this._viewDate.clone().startOf("M").startOf("w").startOf("d"),e=0;e<42;e++)0===t.weekday()&&(f=n("<tr>"),this._options.calendarWeeks&&f.append('<td class="cw">'+t.week()+"<\/td>"),h.push(f)),r="",t.isBefore(this._viewDate,"M")&&(r+=" old"),t.isAfter(this._viewDate,"M")&&(r+=" new"),this._options.allowMultidate?-1!==(s=this._datesFormatted.indexOf(t.format("YYYY-MM-DD")))&&t.isSame(this._datesFormatted[s],"d")&&!this.unset&&(r+=" active"):t.isSame(this._getLastPickedDate(),"d")&&!this.unset&&(r+=" active"),this._isValid(t,"d")||(r+=" disabled"),t.isSame(this.getMoment(),"d")&&(r+=" today"),0!==t.day()&&6!==t.day()||(r+=" weekend"),f.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+r+'">'+t.date()+"<\/td>"),t.add(1,"d");n("body").addClass("tempusdominus-bootstrap-datetimepicker-widget-day-click");n("body").append('<div class="tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel"><\/div>');o.find("tbody").empty().append(h);n("body").find(".tempusdominus-bootstrap-datetimepicker-widget-day-click-glass-panel").remove();n("body").removeClass("tempusdominus-bootstrap-datetimepicker-widget-day-click");this._updateMonths();this._updateYears();this._updateDecades()}},r._fillHours=function(){var u=this.widget.find(".timepicker-hours table"),t=this._viewDate.clone().startOf("d"),r=[],i=n("<tr>");for(11<this._viewDate.hour()&&!this.use24Hours&&t.hour(12);t.isSame(this._viewDate,"d")&&(this.use24Hours||this._viewDate.hour()<12&&t.hour()<12||11<this._viewDate.hour());)t.hour()%4==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectHour" class="hour'+(this._isValid(t,"h")?"":" disabled")+'">'+t.format(this.use24Hours?"HH":"hh")+"<\/td>"),t.add(1,"h");u.empty().append(r)},r._fillMinutes=function(){for(var f=this.widget.find(".timepicker-minutes table"),t=this._viewDate.clone().startOf("h"),r=[],u=1===this._options.stepping?5:this._options.stepping,i=n("<tr>");this._viewDate.isSame(t,"h");)t.minute()%(4*u)==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectMinute" class="minute'+(this._isValid(t,"m")?"":" disabled")+'">'+t.format("mm")+"<\/td>"),t.add(u,"m");f.empty().append(r)},r._fillSeconds=function(){for(var u=this.widget.find(".timepicker-seconds table"),t=this._viewDate.clone().startOf("m"),r=[],i=n("<tr>");this._viewDate.isSame(t,"m");)t.second()%20==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectSecond" class="second'+(this._isValid(t,"s")?"":" disabled")+'">'+t.format("ss")+"<\/td>"),t.add(5,"s");u.empty().append(r)},r._fillTime=function(){var t,r,i=this.widget.find(".timepicker span[data-time-component]"),n=this._getLastPickedDate();this.use24Hours||(t=this.widget.find(".timepicker [data-action=togglePeriod]"),r=n?n.clone().add(12<=n.hours()?-12:12,"h"):void 0,n&&t.text(n.format("A")),this._isValid(r,"h")?t.removeClass("disabled"):t.addClass("disabled"));n&&i.filter("[data-time-component=hours]").text(n.format(this.use24Hours?"HH":"hh"));n&&i.filter("[data-time-component=minutes]").text(n.format("mm"));n&&i.filter("[data-time-component=seconds]").text(n.format("ss"));this._fillHours();this._fillMinutes();this._fillSeconds()},r._doAction=function(i,r){var u=this._getLastPickedDate(),b,k,nt,tt,it,h,c,d,l,a,v,y,p,w,o,g;if(n(i.currentTarget).is(".disabled"))return!1;switch(r=r||n(i.currentTarget).data("action")){case"next":b=t.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.add(t.DatePickerModes[this.currentViewMode].NAV_STEP,b);this._fillDate();this._viewUpdate(b);break;case"previous":k=t.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.subtract(t.DatePickerModes[this.currentViewMode].NAV_STEP,k);this._fillDate();this._viewUpdate(k);break;case"pickerSwitch":this._showMode(1);break;case"selectMonth":nt=n(i.target).closest("tbody").find("span").index(n(i.target));this._viewDate.month(nt);this.currentViewMode===this.MinViewModeNumber?(this._setValue(u.clone().year(this._viewDate.year()).month(this._viewDate.month()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate());this._viewUpdate("M");break;case"selectYear":tt=parseInt(n(i.target).text(),10)||0;this._viewDate.year(tt);this.currentViewMode===this.MinViewModeNumber?(this._setValue(u.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate());this._viewUpdate("YYYY");break;case"selectDecade":it=parseInt(n(i.target).data("selection"),10)||0;this._viewDate.year(it);this.currentViewMode===this.MinViewModeNumber?(this._setValue(u.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate());this._viewUpdate("YYYY");break;case"selectDay":h=this._viewDate.clone();n(i.target).is(".old")&&h.subtract(1,"M");n(i.target).is(".new")&&h.add(1,"M");c=h.date(parseInt(n(i.target).text(),10));d=0;this._options.allowMultidate?-1!==(d=this._datesFormatted.indexOf(c.format("YYYY-MM-DD")))?this._setValue(null,d):this._setValue(c,this._getLastPickedDateIndex()+1):this._setValue(c,this._getLastPickedDateIndex());this._hasTime()||this._options.keepOpen||this._options.inline||this._options.allowMultidate||this.hide();break;case"incrementHours":if(!u)break;l=u.clone().add(1,"h");this._isValid(l,"h")&&(this._getLastPickedDateIndex()<0&&this.date(l),this._setValue(l,this._getLastPickedDateIndex()));break;case"incrementMinutes":if(!u)break;a=u.clone().add(this._options.stepping,"m");this._isValid(a,"m")&&(this._getLastPickedDateIndex()<0&&this.date(a),this._setValue(a,this._getLastPickedDateIndex()));break;case"incrementSeconds":if(!u)break;v=u.clone().add(1,"s");this._isValid(v,"s")&&(this._getLastPickedDateIndex()<0&&this.date(v),this._setValue(v,this._getLastPickedDateIndex()));break;case"decrementHours":if(!u)break;y=u.clone().subtract(1,"h");this._isValid(y,"h")&&(this._getLastPickedDateIndex()<0&&this.date(y),this._setValue(y,this._getLastPickedDateIndex()));break;case"decrementMinutes":if(!u)break;p=u.clone().subtract(this._options.stepping,"m");this._isValid(p,"m")&&(this._getLastPickedDateIndex()<0&&this.date(p),this._setValue(p,this._getLastPickedDateIndex()));break;case"decrementSeconds":if(!u)break;w=u.clone().subtract(1,"s");this._isValid(w,"s")&&(this._getLastPickedDateIndex()<0&&this.date(w),this._setValue(w,this._getLastPickedDateIndex()));break;case"togglePeriod":this._setValue(u.clone().add(12<=u.hours()?-12:12,"h"),this._getLastPickedDateIndex());break;case"togglePicker":var rt,ut,s=n(i.target),f=s.closest("a"),ft=s.closest("ul"),e=ft.find(".show"),et=ft.find(".collapse:not(.show)"),ot=s.is("span")?s:s.find("span");if(e&&e.length){if((rt=e.data("collapse"))&&rt.transitioning)return!0;e.collapse?(e.collapse("hide"),et.collapse("show")):(e.removeClass("show"),et.addClass("show"));this._useFeatherIcons()?(f.toggleClass(this._options.icons.time+" "+this._options.icons.date),ut=f.hasClass(this._options.icons.time)?this._options.icons.date:this._options.icons.time,f.html(this._iconTag(ut))):ot.toggleClass(this._options.icons.time+" "+this._options.icons.date);(this._useFeatherIcons()?f.hasClass(this._options.icons.date):ot.hasClass(this._options.icons.date))?f.attr("title",this._options.tooltips.selectDate):f.attr("title",this._options.tooltips.selectTime)}break;case"showPicker":this.widget.find(".timepicker > div:not(.timepicker-picker)").hide();this.widget.find(".timepicker .timepicker-picker").show();break;case"showHours":this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-hours").show();break;case"showMinutes":this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-minutes").show();break;case"showSeconds":this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-seconds").show();break;case"selectHour":o=parseInt(n(i.target).text(),10);this.use24Hours||(12<=u.hours()?12!==o&&(o+=12):12===o&&(o=0));this._setValue(u.clone().hours(o),this._getLastPickedDateIndex());this._isEnabled("a")||this._isEnabled("m")||this._options.keepOpen||this._options.inline?this._doAction(i,"showPicker"):this.hide();break;case"selectMinute":this._setValue(u.clone().minutes(parseInt(n(i.target).text(),10)),this._getLastPickedDateIndex());this._isEnabled("a")||this._isEnabled("s")||this._options.keepOpen||this._options.inline?this._doAction(i,"showPicker"):this.hide();break;case"selectSecond":this._setValue(u.clone().seconds(parseInt(n(i.target).text(),10)),this._getLastPickedDateIndex());this._isEnabled("a")||this._options.keepOpen||this._options.inline?this._doAction(i,"showPicker"):this.hide();break;case"clear":this.clear();break;case"close":this.hide();break;case"today":g=this.getMoment();this._isValid(g,"d")&&this._setValue(g,this._getLastPickedDateIndex())}return!1},r.hide=function(){var i,r=!1;this.widget&&(this.widget.find(".collapse").each(function(){var t=n(this).data("collapse");return!t||!t.transitioning||!(r=!0)}),r||(this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this.widget.hide(),n(window).off("resize",this._place),this.widget.off("click","[data-action]"),this.widget.off("mousedown",!1),this.widget.remove(),this.widget=!1,void 0!==this.input&&void 0!==this.input.val()&&0!==this.input.val().trim().length&&this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!1}),0),i=this._getLastPickedDate(),this._notifyEvent({type:t.Event.HIDE,date:this.unset?null:i?i.clone():void 0}),void 0!==this.input&&this.input.blur(),this._viewDate=i?i.clone():this.getMoment()))},r.show=function(){var i,r=!1;if(void 0!==this.input){if(this.input.prop("disabled")||!this._options.ignoreReadonly&&this.input.prop("readonly")||this.widget)return;void 0!==this.input.val()&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim(),{isPickerShow:!0}),0):r=!0}else r=!0;r&&this.unset&&this._options.useCurrent&&(i=this.getMoment(),"string"==typeof this._options.useCurrent&&(i={year:function(n){return n.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(n){return n.date(1).hours(0).seconds(0).minutes(0)},day:function(n){return n.hours(0).seconds(0).minutes(0)},hour:function(n){return n.seconds(0).minutes(0)},minute:function(n){return n.seconds(0)}}[this._options.useCurrent](i)),this._setValue(i,0));this.widget=this._getTemplate();this._fillDow();this._fillMonths();this.widget.find(".timepicker-hours").hide();this.widget.find(".timepicker-minutes").hide();this.widget.find(".timepicker-seconds").hide();this._update();this._showMode();n(window).on("resize",{picker:this},this._place);this.widget.on("click","[data-action]",n.proxy(this._doAction,this));this.widget.on("mousedown",!1);this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active");this._place();this.widget.show();void 0!==this.input&&this._options.focusOnShow&&!this.input.is(":focus")&&this.input.focus();this._notifyEvent({type:t.Event.SHOW})},r.destroy=function(){this.hide();this._element.removeData(t.DATA_KEY);this._element.removeData("date")},r.disable=function(){this.hide();this.component&&this.component.hasClass("btn")&&this.component.addClass("disabled");void 0!==this.input&&this.input.prop("disabled",!0)},r.enable=function(){this.component&&this.component.hasClass("btn")&&this.component.removeClass("disabled");void 0!==this.input&&this.input.prop("disabled",!1)},r.toolbarPlacement=function(n){if(0===arguments.length)return this._options.toolbarPlacement;if("string"!=typeof n)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===b.indexOf(n))throw new TypeError("toolbarPlacement() parameter must be one of ("+b.join(", ")+") value");this._options.toolbarPlacement=n;this.widget&&(this.hide(),this.show())},r.widgetPositioning=function(t){if(0===arguments.length)return n.extend({},this._options.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===w.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+w.join(", ")+")");this._options.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===p.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+p.join(", ")+")");this._options.widgetPositioning.vertical=t.vertical}this._update()},r.widgetParent=function(t){if(0===arguments.length)return this._options.widgetParent;if("string"==typeof t&&(t=n(t)),null!==t&&"string"!=typeof t&&!(t instanceof n))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");this._options.widgetParent=t;this.widget&&(this.hide(),this.show())},r.setMultiDate=function(n){var r=this._options.format,t,i;for(this.clear(),t=0;t<n.length;t++)i=moment(n[t],r),this._setValue(i,t)},u._jQueryHandleThis=function(i,r,f){var e=n(i).data(t.DATA_KEY),o;if("object"==typeof r&&n.extend({},t.Default,r),e||(e=new u(n(i),r),n(i).data(t.DATA_KEY,e)),"string"==typeof r){if(void 0===e[r])throw new Error('No method named "'+r+'"');return void 0===f?e[r]():("date"===r&&(e.isDateUpdateThroughDateOptionFromClientCode=!0),o=e[r](f),e.isDateUpdateThroughDateOptionFromClientCode=!1,o)}},u._jQueryInterface=function(n,t){return 1===this.length?u._jQueryHandleThis(this[0],n,t):this.each(function(){u._jQueryHandleThis(this,n,t)})},u}(t);n(document).on(t.Event.CLICK_DATA_API,t.Selector.DATA_TOGGLE,function(){var r=n(this),i=s(r),u=i.data(t.DATA_KEY);0!==i.length&&(u._options.allowInputToggle&&r.is('input[data-toggle="datetimepicker"]')||e._jQueryInterface.call(i,"toggle"))}).on(t.Event.CHANGE,"."+t.ClassName.INPUT,function(t){var i=s(n(this));0===i.length||t.isInit||e._jQueryInterface.call(i,"_change",t)}).on(t.Event.BLUR,"."+t.ClassName.INPUT,function(i){var r=s(n(this)),u=r.data(t.DATA_KEY);0!==r.length&&(u._options.debug||window.debug||e._jQueryInterface.call(r,"hide",i))}).on(t.Event.KEYDOWN,"."+t.ClassName.INPUT,function(t){var i=s(n(this));0!==i.length&&e._jQueryInterface.call(i,"_keydown",t)}).on(t.Event.KEYUP,"."+t.ClassName.INPUT,function(t){var i=s(n(this));0!==i.length&&e._jQueryInterface.call(i,"_keyup",t)}).on(t.Event.FOCUS,"."+t.ClassName.INPUT,function(i){var r=s(n(this)),u=r.data(t.DATA_KEY);0!==r.length&&u._options.allowInputToggle&&e._jQueryInterface.call(r,"show",i)});n.fn[t.NAME]=e._jQueryInterface;n.fn[t.NAME].Constructor=e;n.fn[t.NAME].noConflict=function(){return n.fn[t.NAME]=ut,e._jQueryInterface}}();
/*!
 * OverlayScrollbars
 * https://github.com/KingSora/OverlayScrollbars
 *
 * Version: 1.13.0
 *
 * Copyright KingSora | Rene Haas.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 * Date: 02.08.2020
 */
!function(n,t){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t(n,n.document,undefined,i)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(n,n.document,undefined,require("jquery")):t(n,n.document,undefined,n.jQuery)}("undefined"!=typeof window?window:this,function(n,t,i,r){"use strict";function at(n){return n.charAt(0).toUpperCase()+n.slice(1)}function wt(i){return i?n.innerWidth||t.documentElement[u.cW]||t.body[u.cW]:n.innerHeight||t.documentElement[u.cH]||t.body[u.cH]}function g(n,t){if(typeof n!=l)throw"Can't bind function!";var i=u.p,e=Array[i].slice.call(arguments,2),r=function(){},f=function(){return n.apply(this instanceof r?this:t,e.concat(Array[i].slice.call(arguments)))};return n[i]&&(r[i]=n[i]),f[i]=new r,f}function pt(){nt=nt||new ni(et.m);vt=vt||new ti(nt)}function ni(t){function ft(n){return{x:n[u.oH]-n[u.cH],y:n[u.oW]-n[u.cW]}}var b=this,tt="overflow",it=e("body"),i=e('<div id="os-dummy-scrollbar-size"><div><\/div><\/div>'),h=i[0],rt=e(i.children("div").eq(0));it.append(i);i.hide().show();var l,r,s,a,v,ut,y,k,w,d=ft(h),g={x:0===d.x,y:0===d.y},nt=(r=n.navigator.userAgent,a="substring",v=r[s="indexOf"]("MSIE "),ut=r[s]("Trident/"),y=r[s]("Edge/"),k=r[s]("rv:"),w=parseInt,0<v?l=w(r[a](v+5,r[s](".",v)),10):0<ut?l=w(r[a](k+3,r[s](".",k)),10):0<y&&(l=w(r[a](y+5,r[s](".",y)),10)),l);e.extend(b,{defaultOptions:t,msie:nt,autoUpdateLoop:!1,autoUpdateRecommended:!f.mO(),nativeScrollbarSize:d,nativeScrollbarIsOverlaid:g,nativeScrollbarStyling:function(){var t=!1;i.addClass("os-viewport-native-scrollbars-invisible");try{t="none"===i.css("scrollbar-width")&&(9<nt||!nt)||"none"===n.getComputedStyle(h,"::-webkit-scrollbar").getPropertyValue("display")}catch(r){}return t}(),overlayScrollbarDummySize:{x:30,y:30},cssCalc:c.v("width","calc","(1px)")||null,restrictedMeasuring:function(){var n,t,r,f;return i.css(tt,"hidden"),n=h[u.sW],t=h[u.sH],i.css(tt,"visible"),r=h[u.sW],f=h[u.sH],n-r!=0||t-f!=0}(),rtlScrollBehavior:function(){var t,n,r;return i.css({"overflow-y":"hidden","overflow-x":"scroll",direction:"rtl"}).scrollLeft(0),t=i.offset(),n=rt.offset(),i.scrollLeft(-999),r=rt.offset(),{i:t.left===n.left,n:n.left!==r.left}}(),supportTransform:!!c.u("transform"),supportTransition:!!c.u("transition"),supportPassiveEvents:function(){var t=!1;try{n.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(i){}return t}(),supportResizeObserver:!!f.rO(),supportMutationObserver:!!f.mO()});i.removeAttr(u.s).remove(),function(){function h(){var t=n.screen.deviceXDPI||0,i=n.screen.logicalXDPI||1;return n.devicePixelRatio||t/i}if(!g.x||!g.y){var t=o.abs,r=f.wW(),u=f.wH(),s=h();e(n).on("resize",function(){if(0<p().length){var n=f.wW(),c=f.wH(),a=n-r,v=c-u;if(0==a&&0==v)return;var l,k=o.round(n/(r/100)),d=o.round(c/(u/100)),g=t(a),nt=t(v),tt=t(k),rt=t(d),y=h(),ut=2<g&&2<nt,et=!function(n,i){var r=t(n),u=t(i);return r!==u&&r+1!==u&&r-1!==u}(tt,rt),ot=ut&&et&&y!==s&&0<s,w=b.nativeScrollbarSize;ot&&(it.append(i),l=b.nativeScrollbarSize=ft(i[0]),i.remove(),w.x===l.x&&w.y===l.y||e.each(p(),function(){p(this)&&p(this).update("zoom")}));r=n;u=c;s=y}})}}()}function ti(n){var s,v=e.inArray,h=f.now,w="autoUpdate",c=u.l,t=[],l=[],r=!1,a=33,y=h(),p=function(){var u,v,nt,b,e,k,d,g,n;if(0<t[c]&&r){if(s=f.rAF()(function(){p()}),d=h(),g=d-y,a<g){for(y=d-g%a,u=33,n=0;n<t[c];n++)(v=t[n])!==i&&(b=(nt=v.options())[w],e=o.max(1,nt.autoUpdateInterval),k=h(),(!0===b||null===b)&&k-l[n]>e&&(v.update("auto"),l[n]=new Date(k+=e)),u=o.max(1,o.min(u,e)));a=u}}else a=33};this.add=function(i){-1===v(i,t)&&(t.push(i),l.push(h()),0<t[c]&&!r&&(r=!0,n.autoUpdateLoop=r,p()))};this.remove=function(u){var e=v(u,t);-1<e&&(l.splice(e,1),t.splice(e,1),0===t[c]&&r&&(r=!1,n.autoUpdateLoop=r,s!==i&&(f.cAF()(s),s=-1)))}}function ii(r,a,w,b,g){function yi(n,t,i,r,o){var c=f.isA(t)&&f.isA(i),v=r?"removeEventListener":"addEventListener",y=r?"off":"on",h=!c&&t.split(ni),s=0,l=e.isPlainObject(o),p=fe&&(l?o.V:o)||!1,a=l&&(o.$||!1),w=fe?{passive:p,capture:a}:a;if(c)for(;s<t[u.l];s++)yi(n,t[s],i[s],r,o);else for(;s<h[u.l];s++)fe?n[0][v](h[s],i,w):n[y](h[s],i)}function wr(n,t,i,r){yi(n,t,i,!1,r);oc.push(f.bind(yi,0,n,t,i,!0,r))}function fs(n,t){var dt,ut,o,ft,y,et;if(n){var gt=f.rO(),ot="animationstart mozAnimationStart webkitAnimationStart MSAnimationStart",c="childNodes",r=3333333,l=function(){n[ii](r)[ti](vt?lt.n?-r:lt.i?0:r:r);t()};if(t){if(ss)((y=n.addClass("observed").append(nr(af)).contents()[0])[ph]=new gt(l)).observe(y);else if(9<rf||!re){n.prepend(nr(af,nr({c:is,dir:"ltr"},nr(is,nr(ya))+nr(is,nr({c:ya,style:"width: 200%; height: 200%"})))));var p,a,w,k,s=n[0][c][0][c][0],st=e(s[c][1]),d=e(s[c][0]),ni=e(d[0][c][0]),ht=s[u.oW],ct=s[u.oH],v=b.nativeScrollbarSize,yt=function(){d[ti](r)[ii](r);st[ti](r)[ii](r)},wt=function(){a=0;p&&(ht=w,ct=k,l())},g=function(n){return w=s[u.oW],k=s[u.oH],p=w!=ht||k!=ct,n&&p&&!a?(f.cAF()(a),a=f.rAF()(wt)):n||wt(),yt(),n&&(f.prvD(n),f.stpP(n)),!1},tt={},bt={};pf(bt,it,[-2*(v.y+1),-2*v.x,-2*v.y,-2*(v.x+1)]);e(s).css(bt);d.on(ki,g);st.on(ki,g);n.on(ot,function(){g(!1)});tt[rt]=r;tt[pt]=r;ni.css(tt);yt()}else dt=df.attachEvent,ut=rf!==i,dt?(n.prepend(nr(af)),ie(n,di+af)[0].attachEvent("onresize",l)):(o=df.createElement(h),o.setAttribute(u.ti,"-1"),o.setAttribute(u.c,af),o.onload=function(){var n=this.contentDocument.defaultView;n.addEventListener("resize",l);n.document.documentElement.style.display="none"},o.type="text/html",ut&&n.prepend(o),o.data="about:blank",ut||n.prepend(o),n.on(ot,l));n[0]===co&&(ft=function(){var t=nt.css("direction"),n={},i=0,u=!1;return t!==sl&&(i="ltr"===t?(n[at]=0,n[bi]=kt,r):(n[at]=kt,n[bi]=0,lt.n?-r:lt.i?0:r),ar.children().eq(0).css(n),ar[ti](i)[ii](r),sl=t,u=!0),u},ft(),wr(n,ki,function(n){return ft()&&nu(),f.prvD(n),f.stpP(n),!1}))}else ss?(et=(y=n.contents()[0])[ph],et&&(et.disconnect(),delete y[ph])):yu(n.children(di+af).eq(0))}}function iy(){if(uo){var r,t,o,n,i,a,v,s,h,c,y=f.mO(),p=f.now();gs=function(n){var t=!1;return si&&!fi&&(vi(n,function(){return!(t=function(n){var i=n.attributeName,t=n.target,f=n.type,r="closest";if(t===ir)return null===i;if("attributes"===f&&(i===u.c||i===u.s)&&!ft){if(i===u.c&&e(t).hasClass(oi))return sv(n.oldValue,t.className);if(typeof t[r]!=l)return!0;if(null!==t[r](di+af)||null!==t[r](di+lu)||null!==t[r](di+nc))return!1}return!0}(this))}),t&&(s=f.now(),h=ku||rr,c=function(){dt||(p=s,ft&&ac(),h?nu():ut.update(kt))},clearTimeout(v),11<s-p||!h?c():v=setTimeout(c,11))),t};ao=new y(ta=function(f){var s,e=!1,h=!1,c=[];return si&&!fi&&(vi(f,function(){r=(s=this).target;t=s.attributeName;o=t===u.c;n=s.oldValue;i=r.className;hi&&o&&!h&&-1<n.indexOf(bo)&&i.indexOf(bo)<0&&(a=vv(!0),wi.className=i.split(ni).concat(n.split(ni).filter(function(n){return n.match(a)})).join(ni),e=h=!0);e=e||(o?sv(n,i):t!==u.s||n!==r[u.s].cssText);c.push(t)}),lc(c),e&&ut.update(h||kt)),e});vo=new y(gs)}}function uv(){uo&&!gr&&(ao.observe(wi,{attributes:!0,attributeOldValue:!0,attributeFilter:ec}),vo.observe(ft?wu:ir,{attributes:!0,attributeOldValue:!0,subtree:!ft,childList:!ft,characterData:!ft,attributeFilter:ft?rv:ec}),gr=!0)}function sc(){uo&&gr&&(ao.disconnect(),vo.disconnect(),gr=!1)}function ry(){if(!fi){var n,t={w:co[u.sW],h:co[u.sH]};n=wf(t,yl);yl=t;n&&nu({A:!0})}}function fv(){cf&&tu(!0)}function ev(){cf&&!uf.hasClass(vf)&&tu(!1)}function uy(){ur&&(tu(!0),clearTimeout(ra),ra=setTimeout(function(){ur&&!dt&&tu(!1)},100))}function to(n){return f.prvD(n),!1}function hc(n){var t=e(n.target);wv(function(n,i){t.is(i)&&nu({k:!0})})}function cc(n){n||cc(!0);yi(nt,be.split(ni)[0],uy,!ur||n,!0);yi(nt,[ua,fa],[fv,ev],!cf||n,!0);si||n||nt.one("mouseover",fv)}function ov(){var n={};return cr&&ou&&(n.w=iu(ou.css(yr+rt)),n.h=iu(ou.css(yr+pt)),n.c=wf(n,du),n.f=!0),!!(du=n).c}function sv(n,t){var r,f,o=typeof t==s?t.split(ni):[],i=function(n,t){for(var u,r=[],f=[],i=0;i<n.length;i++)r[n[i]]=!0;for(i=0;i<t.length;i++)r[t[i]]?delete r[t[i]]:r[t[i]]=!0;for(u in r)f.push(u);return f}(typeof n==s?n.split(ni):[],o),e=pu(us,i);if(-1<e&&i.splice(e,1),0<i[u.l])for(f=vv(!0,!0),r=0;r<i.length;r++)if(!i[r].match(f))return!0;return!1}function lc(n){vi(n=n||rc,function(n,t){if(-1<f.inA(t,rc)){var i=st.attr(t);ht(i)==s?ot.attr(t,i):ot.removeAttr(t)}})}function ac(){if(!fi){var t,i,r,f,e=!lo,s=gt.w,h=gt.h,n={},c=rr||e;return n[yr+rt]=it,n[yr+pt]=it,n[rt]=kt,st.css(n),t=wu[u.oW],i=c?o.max(t,wu[u.sW]-1):1,n[rt]=rr?kt:cu,n[yr+rt]=cu,n[pt]=kt,st.css(n),r=wu[u.oH],f=o.max(r,wu[u.sH]-1),n[rt]=i,n[pt]=f,su.css(n),n[yr+rt]=s,n[yr+pt]=h,st.css(n),{q:t,B:r,X:i,Y:f}}}function nu(n){var is,de,ss,no,ch,lh,vi,gc,l,pe,nl,ph,k;clearTimeout(il);n=n||{};yf.A|=n.A;yf.k|=n.k;yf.H|=n.H;var nf,wh=f.now(),kf=!!yf.A,we=!!yf.k,kr=!!yf.H,df=n.C,kh=0<uc&&si&&!dt&&!kr&&!df&&wh-tl<uc&&!ku&&!rr;if(kh&&(il=setTimeout(nu,uc)),!(dt||kh||fi&&!df||si&&!kr&&(nf=nt.is(":hidden"))||"inline"===nt.css("display"))){tl=wh;yf={};!uu||ct.x&&ct.y?fu=ai({},b.nativeScrollbarSize):(fu.x=0,fu.y=0);lf={x:3*(fu.x+(ct.x?0:3)),y:3*(fu.y+(ct.y?0:3))};df=df||{};var t=function(){return wf.apply(this,[].slice.call(arguments).concat([kr]))},di={x:ot[ti](),y:ot[ii]()},te=bt.scrollbars,gh=bt.textarea,ie=te.visibility,nc=t(ie,pl),rf=te.autoHide,tc=t(rf,wl),so=te.clickScrolling,ic=t(so,bl),co=te.dragScrolling,rc=t(co,bs),uf=bt.className,ta=t(uf,ve),ff=bt.resize,ao=t(ff,kl)&&!cr,ef=bt.paddingAbsolute,lu=t(ef,hl),vo=bt.clipAlways,fc=t(vo,cl),fr=bt.sizeAutoCapable&&!cr,ec=t(fr,al),p=bt.nativeScrollbarsOverlaid.showNativeScrollbars,au=t(p,ps),be=bt.autoUpdate,ia=t(be,ws),ue=bt.overflowBehavior,bo=t(ue,gf,kr),ns=gh.dynWidth,ra=t(na,ns),ts=gh.dynHeight,ua=t(gl,ts);(ih="n"===rf,gu="s"===rf,ur="m"===rf,cf="l"===rf,th=te.autoHideDelay,ks=ve,yo="n"===ff,po="b"===ff,uh="h"===ff,fh="v"===ff,hu=bt.normalizeRTL,p=p&&ct.x&&ct.y,pl=ie,wl=rf,bl=so,bs=co,ve=uf,kl=ff,hl=ef,cl=vo,al=fr,ps=p,ws=be,gf=ai({},ue),na=ns,gl=ts,dr=dr||{x:!1,y:!1},ta&&(ui(nt,ks+ni+us),wt(nt,uf!==i&&null!==uf&&0<uf.length?uf:us)),ia&&(!0===be||null===be&&re?(sc(),g.add(ut)):(g.remove(ut),uv())),ec)&&(fr?(ei?ei.show():(ei=e(nr(dv)),tr.before(ei)),eu)?lr.show():(lr=e(nr(gv)),ho=lr[0],ei.before(lr),is={w:-1,h:-1},fs(lr,function(){var n={w:ho[u.oW],h:ho[u.oH]};wf(n,is)&&(si&&ku&&0<n.h||rr&&0<n.w||si&&!ku&&0===n.h||!rr&&0===n.w)&&nu();is=n}),eu=!0,null!==os&&lr.css(pt,os+"(100% + 1px)")):(eu&&lr.hide(),ei&&ei.hide()));kr&&(ar.find("*").trigger(ki),eu&&lr.find("*").trigger(ki));nf=nf===i?nt.is(":hidden"):nf;var fe,oe=!!ft&&"off"!==st.attr("wrap"),fa=t(oe,lo),ke=nt.css("direction"),d=t(ke,ol),rs=nt.css("box-sizing"),vu=t(rs,ul),a=kc(er);try{fe=eu?ho[u.bCR]():null}catch(sv){return}pi="border-box"===rs;var af=(vt="rtl"===ke)?at:bi,ht=vt?bi:at,es=!1,oc=!(!eu||"none"===nt.css(pr))&&0===o.round(fe.right-fe.left)&&(!!ef||0<wi[u.cW]-ee);fr&&!oc&&(de=wi[u.oW],ss=ei.css(rt),ei.css(rt,kt),no=wi[u.oW],ei.css(rt,ss),(es=de!==no)||(ei.css(rt,de+1),no=wi[u.oW],ei.css(rt,ss),es=de!==no));var v=(oc||es)&&fr&&!nf,vr=t(v,rr),ea=!v&&rr,w=!(!eu||!fr||nf)&&0===o.round(fe.bottom-fe.top),oi=t(w,ku),oa=!w&&ku,tt=kc(tf,"-"+rt,!(v&&pi||!pi),!(w&&pi||!pi)),yu=kc(li),s={},y={},hc=function(){return{w:wi[u.cW],h:wi[u.cH]}},hs=function(){return{w:bu[u.oW]+o.max(0,ir[u.cW]-ir[u.sW]),h:bu[u.oH]+o.max(0,ir[u.cH]-ir[u.sH])}},lc=ee=a.l+a.r,vc=fo=a.t+a.b;if(lc*=ef?1:0,vc*=ef?1:0,a.c=t(a,ys),cs=tt.l+tt.r,ls=tt.t+tt.b,tt.c=t(tt,fl),as=yu.l+yu.r,vs=yu.t+yu.b,yu.c=t(yu,el),lo=oe,ol=ke,ul=rs,rr=v,ku=w,ys=a,fl=tt,el=yu,d&&eu&&lr.css(pr,ht),a.c||d||lu||vr||oi||vu||ec){var hi={},gs={},yc=[a.t,a.r,a.b,a.l];pf(y,li,[-a.t,-a.r,-a.b,-a.l]);ef?(pf(hi,it,yc),pf(ft?gs:s,er)):(pf(hi,it),pf(ft?gs:s,er,yc));tr.css(hi);st.css(gs)}gt=hs();var pu=!!ft&&ac(),sa=ft&&t(pu,dl),rh=ft&&pu?{w:ns?pu.X:pu.q,h:ts?pu.Y:pu.B}:{};if(dl=pu,w&&(oi||lu||vu||a.c||tt.c)?s[pt]=kt:(oi||lu)&&(s[pt]=cu),v&&(vr||lu||vu||a.c||tt.c||d)?(s[rt]=kt,y[wo+rt]=cu):(vr||lu)&&(s[rt]=cu,s[pr]=it,y[wo+rt]=it),v?(y[rt]=kt,s[rt]=c.v(rt,"max-content intrinsic")||kt,s[pr]=ht):y[rt]=it,y[pt]=w?rh.h||ir[u.cH]:it,fr&&ei.css(y),yt.css(s),s={},y={},kf||we||sa||d||vu||lu||vr||v||oi||w||au||bo||fc||ao||nc||tc||rc||ic||ra||ua||fa){var to="overflow",oh=to+"-x",sh=to+"-y";if(!uu){var se={},ha=dr.y&&ae.ys&&!p?ct.y?ot.css(af):-fu.y:0,va=dr.x&&ae.xs&&!p?ct.x?ot.css(or):-fu.x:0;pf(se,it);ot.css(se)}var wr=pv(),he={w:rh.w||wr[u.cW],h:rh.h||wr[u.cH]},ya=wr[u.sW],pa=wr[u.sH];uu||(se[or]=oa?it:va,se[af]=ea?it:ha,ot.css(se));gt=hs();var io=hc(),hh={w:io.w-as-cs-(pi?0:ee),h:io.h-vs-ls-(pi?0:fo)},vf={w:o.max((v?he.w:ya)+lc,hh.w),h:o.max((w?he.h:pa)+vc,hh.h)};(vf.c=t(vf,ll),ll=vf,fr)&&((vf.c||w||v)&&(y[rt]=vf.w,y[pt]=vf.h,ft||(he={w:wr[u.cW],h:wr[u.cH]})),ch={},lh=function(n){var u=sr(n),i=u.F,t=u.K,r=n?v:w,f=n?cs:ls,e=n?ee:fo,s=n?as:vs,h=gt[i]-f-s-(pi?0:e);r&&(r||!tt.c)||(y[t]=hh[i]-1);!(r&&he[i]<h)||n&&ft&&oe||(ft&&(ch[t]=iu(su.css(t))-1),--y[t]);0<he[i]&&(y[t]=o.max(1,y[t]))},lh(!0),lh(!1),ft&&su.css(ch),ei.css(y));v&&(s[rt]=cu);!v||pi||gr||(s[pr]="none");yt.css(s);s={};vi={w:wr[u.sW],h:wr[u.sH]};vi.c=we=t(vi,hf);hf=vi;gt=hs();kf=t(io=hc(),le);le=io;var ah=ft&&(0===gt.w||0===gt.h),ro=ne,bf={},ce={},pc={},et={},h={},r={},ye={},bc=bu[u.bCR](),dc=function(n){var i=sr(n),u=sr(!n).U,t=i.U,f=i.F,e=i.K,c=ki+i.G+"Max",s=bc[e]?o.abs(bc[e]-gt[f]):0,l=ro&&0<ro[t]&&0===sf[c];bf[t]="v-s"===ue[t];ce[t]="v-h"===ue[t];pc[t]="s"===ue[t];et[t]=o.max(0,o.round(100*(vi[f]-gt[f]))/100);et[t]*=ah||l&&0<s&&s<1?0:1;h[t]=0<et[t];r[t]=bf[t]||ce[t]?h[u]&&!bf[u]&&!ce[u]:h[t];r[t+"s"]=!!r[t]&&(pc[t]||bf[t]);ye[t]=h[t]&&r[t+"s"]};if(dc(!0),dc(!1),et.c=t(et,ne),ne=et,h.c=t(h,dr),dr=h,r.c=t(r,ae),ae=r,ct.x||ct.y){var vh,yh={},yi={},uo=kr;(h.x||h.y)&&(yi.w=ct.y&&h.y?vi.w+ru.y:it,yi.h=ct.x&&h.x?vi.h+ru.x:it,uo=t(yi,rl),rl=yi);(h.c||r.c||vi.c||d||vr||oi||v||w||au)&&(s[li+ht]=s[tf+ht]=it,vh=function(n){var f=sr(n),e=sr(!n),t=f.U,i=n?or:af,u=n?w:v;ct[t]&&h[t]&&r[t+"s"]?(s[li+i]=!u||p?it:ru[t],s[tf+i]=n&&u||p?it:ru[t]+"px solid transparent"):(yi[e.F]=s[li+i]=s[tf+i]=it,uo=!0)},uu?hr(ot,dh,!p):(vh(!0),vh(!1)));p&&(yi.w=yi.h=it,uo=!0);uo&&!uu&&(yh[rt]=r.y?yi.w:it,yh[pt]=r.x?yi.h:it,ou||(ou=e(nr(kv)),ot.prepend(ou)),ou.css(yh));yt.css(s)}if(l={},hi={},(kf||h.c||r.c||vi.c||bo||vu||au||d||fc||oi)&&(l[ht]=it,(gc=function(n){var u=sr(n),i=sr(!n),t=u.U,f=u.J,e=n?or:af,o=function(){l[e]=it;eh[i.F]=0};h[t]&&r[t+"s"]?(l[to+f]=ki,p||uu?o():(l[e]=-(ct[t]?ru[t]:fu[t]),eh[i.F]=ct[t]?ru[i.U]:0)):(l[to+f]=it,o())})(!0),gc(!1),!uu&&(gt.h<lf.x||gt.w<lf.y)&&(h.x&&r.x&&!ct.x||h.y&&r.y&&!ct.y)?(l[er+ri]=lf.x,l[li+ri]=-lf.x,l[er+ht]=lf.y,l[li+ht]=-lf.y):l[er+ri]=l[li+ri]=l[er+ht]=l[li+ht]=it,l[er+af]=l[li+af]=it,h.x&&r.x||h.y&&r.y||ah?ft&&ah&&(hi[oh]=hi[sh]="hidden"):(!vo||ce.x||bf.x||ce.y||bf.y)&&(ft&&(hi[oh]=hi[sh]=it),l[oh]=l[sh]="visible"),tr.css(hi),ot.css(l),l={},(h.c||vu||vr||oi)&&(!ct.x||!ct.y))&&(pe=ir[u.s],pe.webkitTransform="scale(1)",pe.display="run-in",ir[u.oH],pe.display=it,pe.webkitTransform=it),(s={},d||vr||oi)&&(vt&&v?(nl=yt.css(pr),ph=o.round(yt.css(pr,it).css(at,it).position().left),yt.css(pr,nl),ph!==o.round(yt.position().left)&&(s[at]=ph)):s[at]=it),yt.css(s),ft&&we){if(k=function(){var t=wu.selectionStart;if(t!==i){for(var r,f=st.val(),c=f[u.l],e=f.split("\n"),l=e[u.l],o=f.substr(0,t).split("\n"),h=0,s=0,a=o[u.l],v=o[o[u.l]-1][u.l],n=0;n<e[u.l];n++)r=e[n][u.l],s<r&&(h=n+1,s=r);return{Q:a,Z:v,nn:l,tn:s,rn:h,en:t,"in":c}}}(),k){var sl=ds===i||k.nn!==ds.nn,vl=k.Q,wa=k.Z,ba=k.rn,ka=k.nn,da=k.tn,iv=k.en,yl=k["in"]<=iv&&nh,eo={x:oe||wa!==da||vl!==ba?-1:ne.x,y:(oe?yl||sl&&ro&&di.y===ro.y:(yl||sl)&&vl===ka)?ne.y:-1};di.x=-1<eo.x?vt&&hu&&lt.i?0:eo.x:di.x;di.y=-1<eo.y?eo.y:di.y}ds=k}vt&&lt.i&&ct.y&&h.x&&hu&&(di.x+=eh.w||0);v&&nt[ti](0);w&&nt[ii](0);ot[ti](di.x)[ii](di.y);var rv="v"===ie,fv="h"===ie,ev="a"===ie,oo=function(n,t){t=t===i?n:t;lv(!0,n,ye.x);lv(!1,t,ye.y)};hr(nt,go,r.x||r.y);hr(nt,la,r.x);hr(nt,aa,r.y);d&&!cr&&hr(nt,ca,vt);cr&&wt(nt,bh);ao&&(hr(nt,bh,yo),hr(ci,ge,!yo),hr(ci,ga,po),hr(ci,nv,uh),hr(ci,tv,fh));(nc||bo||r.c||h.c||au)&&(p?au&&(ui(nt,ko),p&&oo(!1)):ev?oo(ye.x,ye.y):rv?oo(!0):fv&&oo(!1));(tc||au)&&(cc(!cf&&!ur),tu(ih,!ih));(kf||et.c||oi||vr||ao||vu||lu||au||d)&&(wc(!0),br(!0),wc(!1),br(!1));ic&&av(!0,so);rc&&av(!1,co);gi("onDirectionChanged",{isRTL:vt,dir:ke},d);gi("onHostSizeChanged",{width:le.w,height:le.h},kf);gi("onContentSizeChanged",{width:hf.w,height:hf.h},we);gi("onOverflowChanged",{x:h.x,y:h.y,xScrollable:r.xs,yScrollable:r.ys,clipped:r.x||r.y},h.c||r.c);gi("onOverflowAmountChanged",{x:et.x,y:et.y},et.c)}cr&&du&&(dr.c||du.c)&&(du.f||ov(),ct.y&&dr.x&&yt.css(yr+rt,du.w+ru.y),ct.x&&dr.y&&yt.css(yr+pt,du.h+ru.x),du.c=!1);si&&df.updateOnLoad&&hv();gi("onUpdated",{forced:kr})}}function hv(){ft||wv(function(n,t){yt.find(t).each(function(n,t){f.inA(t,no)<0&&(no.push(t),e(t).off(fc,hc).on(fc,hc))})})}function vc(n){var t=et._(n,et.g,!0,oe);return oe=ai({},oe,t.S),bt=ai({},bt,t.z),t.z}function yc(n){var r="parent",a=ns+ni+rs,o=ft?ni+rs:it,t=bt.textarea.inheritedAttrs,c={},l=function(){var t=n?st:nt;vi(c,function(n,i){ht(i)==s&&(n==u.c?t.addClass(i):t.attr(n,i))})},v=[oi,bo,wh,bh,ca,oa,sa,ha,ko,go,la,aa,us,ns,rs,ve].join(ni),h={};nt=nt||(ft?hi?st[r]()[r]()[r]()[r]():e(nr(wh)):st);yt=yt||vu(gh+o);ot=ot||vu(ts+o);tr=tr||vu(kh+o);ar=ar||vu("os-resize-observer-host");su=su||(ft?vu(bv):i);hi&&wt(nt,bo);n&&ui(nt,v);t=ht(t)==s?t.split(ni):t;f.isA(t)&&ft&&vi(t,function(t,i){ht(i)==s&&(c[i]=n?nt.attr(i):st.attr(i))});n?(hi&&si?(ar.children().remove(),vi([tr,ot,yt,su],function(n,t){t&&ui(t.removeAttr(u.s),tc)}),wt(nt,ft?wh:oi)):(yu(ar),yt.contents().unwrap().unwrap().unwrap(),ft&&(st.unwrap(),yu(nt),yu(su),l())),ft&&st.removeAttr(u.s),cr&&ui(kf,ea)):(ft&&(bt.sizeAutoCapable||(h[rt]=st.css(rt),h[pt]=st.css(pt)),hi||st.addClass(rs).wrap(nt),nt=st[r]().css(h)),hi||(wt(st,ft?a:oi),nt.wrapInner(yt).wrapInner(ot).wrapInner(tr).prepend(ar),yt=ie(nt,di+gh),ot=ie(nt,di+ts),tr=ie(nt,di+kh),ft&&(yt.prepend(su),l())),uu&&wt(ot,dh),ct.x&&ct.y&&wt(ot,va),cr&&wt(kf,ea),co=ar[0],wi=nt[0],bu=tr[0],sf=ot[0],ir=yt[0],lc())}function fy(){function t(n){ac();ut.update(kt);n&&re&&clearInterval(o)}var o,r,s=[112,113,114,115,116,117,118,119,120,121,123,33,34,37,38,39,40,16,17,18,19,20,144],n=[],e="focus";ft?(9<rf||!re?wr(st,"input",t):wr(st,[ah,vh],[function(i){var r=i.keyCode;pu(r,s)<0&&(n[u.l]||(t(),o=setInterval(t,1e3/60)),pu(r,n)<0&&n.push(r))},function(i){var r=i.keyCode,f=pu(r,n);pu(r,s)<0&&(-1<f&&n.splice(f,1),n[u.l]||t(!0))}]),wr(st,[ki,"drop",e,e+"out"],[function(n){return st[ti](lt.i&&hu?9999999:0),st[ii](0),f.prvD(n),f.stpP(n),!1},function(){setTimeout(function(){dt||t()},50)},function(){nh=!0;wt(nt,e)},function(){nh=!1;n=[];ui(nt,e);t(!0)}])):wr(yt,yh,function(n){!0!==ws&&function(n){if(!si)return 1;var r="flex-grow",f="flex-shrink",e="flex-basis",o=[rt,yr+rt,wo+rt,li+at,li+bi,at,bi,"font-weight","word-spacing",r,f,e],s=[er+at,er+bi,tf+at+rt,tf+bi+rt],h=[pt,yr+pt,wo+pt,li+ri,li+or,ri,or,"line-height",r,f,e],c=[er+ri,er+or,tf+ri+rt,tf+or+rt],l="s"===gf.x||"v-s"===gf.x,t=!1,i=function(n,t){for(var i=0;i<n[u.l];i++)if(n[i]===t)return!0;return!1};return("s"===gf.y||"v-s"===gf.y)&&((t=i(h,n))||pi||(t=i(c,n))),l&&!t&&((t=i(o,n))||pi||(t=i(s,n))),t}((n=n.originalEvent||n).propertyName)&&ut.update(kt)});wr(ot,ki,function(n){fi||(r!==i?clearTimeout(r):((gu||ur)&&tu(!0),io()||wt(nt,ko),gi("onScrollStart",n)),nf||(br(!0),br(!1)),gi("onScroll",n),r=setTimeout(function(){dt||(clearTimeout(r),r=i,(gu||ur)&&tu(!1),io()||ui(nt,ko),gi("onScrollStop",n))},175))},!0)}function pc(n){function f(n){var t=sr(n),i=t.an,f=t.un,e=t.cn;hi&&si?vi([i,f,e],function(n,t){ui(t.removeAttr(u.s),tc)}):yu(i||r(n).an)}var t,i,r=function(t){var i=vu(lu+ni+(t?ny:ty),!0),r=vu(pa,i),u=vu(ba,i);return hi||n||(i.append(r),r.append(u)),{an:i,un:r,cn:u}};n?(f(!0),f()):(t=r(!0),i=r(),ff=t.an,oo=t.un,se=t.cn,ef=i.an,so=i.un,he=i.cn,hi||(tr.after(ef),tr.after(ff)))}function cv(n){function nt(n){return rf&&ct?n["screen"+at]:f.page(n)[c]}function w(n){return bt.scrollbars[n]}function tt(){p=.5}function it(){p=1}function rt(n){f.stpP(n)}function ft(n){-1<pu(n.keyCode,g)&&tt()}function et(n){-1<pu(n.keyCode,g)&&it()}function b(n){var t=(n.originalEvent||n).touches!==i;return!(fi||dt||io()||!bs||t&&!w("touchSupport"))&&(1===f.mBtn(n)||t)}function st(t){if(b(t)){var u=e.I,s=e.D,i=e.N*((nt(t)-a)*v/(u-s));i=isFinite(i)?i:0;vt&&n&&!lt.i&&(i*=-1);ot[l](o.round(r+i));nf&&br(n,r+i);fe||f.prvD(t)}else y(t)}function y(e){if(e=e||e.originalEvent,yi(kr,[be,we,ah,vh,ke],[st,y,ft,et,to],!0),f.rAF()(function(){yi(kr,d,rt,!0,{$:!0})}),nf&&br(n,!0),nf=!1,ui(uf,vf),ui(t.cn,s),ui(t.un,s),ui(t.an,s),v=1,it(),h!==(a=r=i)&&(ut.scrollStop(),clearTimeout(h),h=i),e){var o=wi[u.bCR]();e.clientX>=o.left&&e.clientX<=o.right&&e.clientY>=o.top&&e.clientY<=o.bottom||ev();(gu||ur)&&tu(!1)}}function ht(i){r=ot[l]();r=isNaN(r)?0:r;(vt&&n&&!lt.n||!vt)&&(r=r<0?0:r);v=dc()[c];a=nt(i);nf=!w(k);wt(uf,vf);wt(t.cn,s);wt(t.an,s);yi(kr,[be,we,ke],[st,y,to]);f.rAF()(function(){yi(kr,d,rt,!1,{$:!0})});!rf&&hs||f.prvD(i);f.stpP(i)}var h,r,a,v,t=sr(n),e=t.sn,ct=ce.top!==ce,c=t.U,at=t.J,l=ki+t.G,s="active",k="snapHandle",d="click",p=1,g=[16,17];wr(t.cn,te,function(n){b(n)&&ht(n)});wr(t.un,[te,ua,fa],[function(r){if(b(r)){var u,d=t.sn.D/Math.round(o.min(1,gt[t.F]/hf[t.F])*t.sn.I),at=o.round(gt[t.F]*d),yt=270*d,pt=400*d,bt=t.un.offset()[t.P],nt=r.ctrlKey,it=r.shiftKey,kt=it&&nt,g=!0,rt=function(t){nf&&br(n,t)},st=function(){rt();ht(r)},ct=function(){if(!dt){var r=(a-bt)*v,f=e.W,nt=e.I,s=e.D,b=e.N,tt=e.R,k=yt*p,ft=g?o.max(pt,k):k,t=b*((r-s/2)/(nt-s)),y=vt&&n&&(!lt.i&&!lt.n||hu),et=y?f<r:r<f,w={},d={easing:"linear",step:function(t){nf&&(ot[l](t),br(n,t))}};t=isFinite(t)?t:0;t=vt&&n&&!lt.i?b-t:t;it?(ot[l](t),kt?(t=ot[l](),ot[l](tt),t=y&&lt.i?b-t:t,t=y&&lt.n?-t:t,w[c]=t,ut.scroll(w,ai(d,{duration:130,complete:st}))):st()):(u=g?et:u,(y?u?r<=f+s:f<=r:u?f<=r:r<=f+s)?(clearTimeout(h),ut.scrollStop(),h=i,rt(!0)):(h=setTimeout(ct,ft),w[c]=(u?"-=":"+=")+at,ut.scroll(w,ai(d,{duration:k}))),g=!1)}};nt&&tt();v=dc()[c];a=f.page(r)[c];nf=!w(k);wt(uf,vf);wt(t.un,s);wt(t.an,s);yi(kr,[we,ah,vh,ke],[y,ft,et,to]);ct();f.prvD(r);f.stpP(r)}},function(){rh=!0;(gu||ur)&&tu(!0)},function(){rh=!1;(gu||ur)&&tu(!1)}]);wr(t.an,te,function(n){f.stpP(n)});ue&&wr(t.an,yh,function(i){i.target===t.an[0]&&(wc(n),br(n))})}function lv(n,t,i){var r=n?ff:ef;hr(nt,n?oa:sa,!t);hr(r,da,!i)}function tu(n,t){if(clearTimeout(ia),n)ui(ff,de),ui(ef,de);else{var i,r=function(){rh||dt||(!(i=se.hasClass("active")||he.hasClass("active"))&&(gu||ur||cf)&&wt(ff,de),!i&&(gu||ur||cf)&&wt(ef,de))};0<th&&!0!==t?ia=setTimeout(r,th):r()}}function wc(n){var i={},t=sr(n),r=t.sn,u=o.min(1,gt[t.F]/hf[t.F]);i[t.K]=o.floor(1e8*u)/1e6+"%";io()||t.cn.css(i);r.D=t.cn[0]["offset"+t.ln];r.M=u}function br(n,t){var l,k,a=ht(t)==y,v=vt&&n,r=sr(n),f=r.sn,d="translate(",g=c.u("transform"),nt=c.u("transition"),p=n?ot[ti]():ot[ii](),ft=t===i||a?p:t,w=f.D,s=r.un[0]["offset"+r.ln],et=s-w,h={},b=(sf[ki+r.ln]-sf["client"+r.ln])*(lt.n&&v?-1:1),tt=function(n){return isNaN(n/b)?0:o.max(0,o.min(1,n/b))},rt=function(n){var t=et*n;return t=isNaN(t)?0:t,t=v&&!lt.i?s-w-t:t,t=o.max(0,t)},ut=tt(p),e=rt(tt(ft)),st=rt(ut);f.N=b;f.R=p;f.L=ut;bf?(l=v?-(s-w-e):e,k=n?d+l+"px, 0)":d+"0, "+l+"px)",h[g]=k,ue&&(h[nt]=a&&1<o.abs(e-f.W)?function(n){var o=c.u("transition"),s=n.css(o);if(s)return s;for(var r,f,t,h="\\s*(([^,(]+(\\(.+?\\))?)+)[\\s,]*",l=new RegExp(h),v=new RegExp("^("+h+")+$"),a="property duration timing-function delay".split(" "),i=[],e=0,y=function(n){if(r=[],!n.match(v))return n;for(;n.match(l);)r.push(RegExp.$1),n=n.replace(l,it);return r};e<a[u.l];e++)for(f=y(n.css(o+"-"+a[e])),t=0;t<f[u.l];t++)i[t]=(i[t]?i[t]+ni:it)+f[t];return i.join(", ")}(r.cn)+", "+(g+ni+250)+"ms":it)):h[r.P]=e;io()||(r.cn.css(h),bf&&ue&&a&&r.cn.one(yh,function(){dt||r.cn.css(nt,it)}));f.W=e;f.j=st;f.I=s}function av(n,t){var i=t?"removeClass":"addClass",u=n?so:he,r=n?wa:ka;(n?oo:se)[i](r);u[i](r)}function sr(n){return{K:n?rt:pt,ln:n?"Width":"Height",P:n?at:ri,G:n?"Left":"Top",U:n?ye:pe,J:n?"X":"Y",F:n?"w":"h",vn:n?"l":"t",un:n?oo:so,cn:n?se:he,an:n?ff:ef,sn:n?fr:vr}}function bc(n){ci=ci||vu(nc,!0);n?hi&&si?ui(ci.removeAttr(u.s),tc):yu(ci):hi||nt.append(ci)}function gi(n,t,i){if(!1!==i)if(si){var u,f=bt.callbacks[n],r=n;"on"===r.substr(0,2)&&(r=r.substr(2,1).toLowerCase()+r.substr(3));ht(f)==l&&f.call(ut,t);vi(au,function(){ht((u=this).on)==l&&u.on(r,t)})}else dt||ic.push({n:n,a:t})}function pf(n,t,i){i=i||[it,it,it,it];n[(t=t||it)+ri]=i[0];n[t+bi]=i[1];n[t+or]=i[2];n[t+at]=i[3]}function kc(n,t,i,r){return t=t||it,n=n||it,{t:r?0:iu(nt.css(n+ri+t)),r:i?0:iu(nt.css(n+bi+t)),b:r?0:iu(nt.css(n+or+t)),l:i?0:iu(nt.css(n+at+t))}}function vv(n,t){var i,r,f,e=function(n,t){if(f="",t&&typeof n==s)for(r=n.split(ni),i=0;i<r[u.l];i++)f+="|"+r[i]+"$";return f};return new RegExp("(^"+oi+"([-_].+|)$)"+e(ve,n)+e(ks,t),"g")}function dc(){var n=bu[u.bCR]();return{x:bf&&1/(o.round(n.width)/bu[u.oW])||1,y:bf&&1/(o.round(n.height)/bu[u.oH])||1}}function yv(t){var i="ownerDocument",r="HTMLElement",u=t&&t[i]&&t[i].parentWindow||n;return typeof u[r]==h?t instanceof u[r]:t&&typeof t==h&&null!==t&&1===t.nodeType&&typeof t.nodeName==s}function iu(n,t){var i=t?parseFloat(n):parseInt(n,10);return isNaN(i)?0:i}function io(){return ps&&ct.x&&ct.y}function pv(){return ft?su[0]:ir}function nr(n,t){return"<div "+(n?ht(n)==s?'class="'+n+'"':function(){var t,i=it;if(e.isPlainObject(n))for(t in n)i+=("c"===t?"class":t)+'="'+n[t]+'" ';return i}():it)+">"+(t||it)+"<\/div>"}function vu(n,t){var i=ht(t)==y,r=!i&&t||nt;return hi&&!r[u.l]?null:hi?r[i?"children":"find"](di+n.replace(/\s/g,di)).eq(0):e(nr(n))}function gc(n,t){for(var r,f=t.split(di),i=0;i<f.length;i++){if(!n[u.hOP](f[i]))return;r=n[f[i]];i<f.length&&ht(r)==h&&(n=r)}return r}function wv(n){var t=bt.updateOnLoad;t=ht(t)==s?t.split(ni):t;f.isA(t)&&!dt&&vi(t,n)}function wf(n,t,i){if(i)return i;if(ht(n)!=h||ht(t)!=h)return n!==t;for(var r in n)if("c"!==r&&(!n[u.hOP](r)||!t[u.hOP](r)||wf(n[r],t[r])))return!0;return!1}function ai(){return e.extend.apply(this,[!0].concat([].slice.call(arguments)))}function wt(n,t){return ro.addClass.call(n,t)}function ui(n,t){return ro.removeClass.call(n,t)}function hr(n,t,i){return(i?wt:ui)(n,t)}function yu(n){return ro.remove.call(n)}function ie(n,t){return ro.find.call(n,t).eq(0)}var ht=f.type,pu=e.inArray,vi=e.each,ut=new v,ro=e[u.p],es;if(yv(r)){if(p(r))return es=p(r),es.options(a),es;var ct,ru,lt,re,rf,uu,os,fu,ue,bf,fe,ss,uo,si,dt,ft,cr,hs,hi,pi,eu,ee,fo,cs,ls,as,vs,vt,fi,nl,oe,bt,tl,il,eo,kr,kf,uf,st,nt,lr,ar,tr,ot,yt,ou,ei,su,ci,ff,oo,se,ef,so,he,ce,df,wu,wi,ho,co,bu,sf,ir,le,hf,rl,dr,ae,rr,ku,ul,ys,fl,el,ol,sl,hl,cl,ll,gf,ne,ps,ws,al,vl,yl,pl,wl,bl,bs,kl,hu,ve,ks,lo,ds,dl,gl,na,du,ao,vo,ta,gs,gr,nh,ia,ra,th,ih,gu,ur,cf,rh,nf,yo,po,uh,fh,eh={},fr={},vr={},gt={},lf={},oh="-hidden",li="margin-",er="padding-",tf="border-",ri="top",bi="right",or="bottom",at="left",yr="min-",wo="max-",rt="width",pt="height",pr="float",it="",kt="auto",sh="sync",ki="scroll",cu="100%",ye="x",pe="y",di=".",ni=" ",hh="scrollbar",ch="-horizontal",lh="-vertical",ti=ki+"Left",ii=ki+"Top",te="mousedown touchstart",we="mouseup touchend touchcancel",be="mousemove touchmove",ua="mouseenter",fa="mouseleave",ah="keydown",vh="keyup",ke="selectstart",yh="transitionend webkitTransitionEnd oTransitionEnd",ph="__overlayScrollbarsRO__",ea="os-html",oi="os-host",bo=oi+"-foreign",wh=oi+"-textarea",oa=oi+"-"+hh+ch+oh,sa=oi+"-"+hh+lh+oh,ha=oi+"-transition",ca=oi+"-rtl",bh=oi+"-resize-disabled",ko=oi+"-scrolling",go=oi+"-overflow",la=(go=oi+"-overflow")+"-x",aa=go+"-y",ns="os-textarea",bv=ns+"-cover",kh="os-padding",ts="os-viewport",dh=ts+"-native-scrollbars-invisible",va=ts+"-native-scrollbars-overlaid",gh="os-content",kv="os-content-arrange",dv="os-content-glue",gv="os-size-auto-observer",af="os-resize-observer",is="os-resize-observer-item",ya=is+"-final",rs="os-text-inherit",lu="os-"+hh,pa=lu+"-track",wa=pa+"-off",ba=lu+"-handle",ka=ba+"-off",da=lu+"-unusable",de=lu+"-"+kt+oh,nc=lu+"-corner",ge=nc+"-resize",ga=ge+"-both",nv=ge+ch,tv=ge+lh,ny=lu+ch,ty=lu+lh,vf="os-dragging",us="os-theme-none",tc=[dh,va,wa,ka,da,de,ge,ga,nv,tv,vf].join(ni),ic=[],rc=[u.ti],au={},yf={},uc=42,fc="load",no=[],iv={},rv=["wrap","cols","rows"],ec=[u.i,u.c,u.s,"open"].concat(rc),oc=[];return ut.sleep=function(){fi=!0},ut.update=function(n){var f,t,e,r,o;if(!dt)return ht(n)==s?n===kt?(f=function(){if(!fi&&!gr){var n,t,f,r=[],e=[{T:nt,O:ec.concat(":visible")},{T:ft?st:i,O:rv}];return vi(e,function(i,u){(n=u.T)&&vi(u.O,function(i,u){t=":"===u.charAt(0)?n.is(u):n.attr(u);f=iv[u];wf(t,f)&&r.push(u);iv[u]=t})}),lc(r),0<r[u.l]}}(),t=function(){if(fi)return!1;var i,r,f,t,e=pv(),o=ft&&rr&&!lo?st.val().length:0,s=!gr&&rr&&!ft,n={};return s&&(i=yt.css(pr),n[pr]=vt?bi:at,n[rt]=kt,yt.css(n)),t={w:e[u.sW]+o,h:e[u.sH]+o},s&&(n[pr]=i,n[rt]=cu,yt.css(n)),r=ov(),f=wf(t,vl),vl=t,f||r}(),(e=f||t)&&nu({k:t,C:si?i:bt})):n===sh?gr?(r=ta(ao.takeRecords()),o=gs(vo.takeRecords())):r=ut.update(kt):"zoom"===n&&nu({A:!0,k:!0}):(n=fi||n,fi=!1,ut.update(sh)&&!n||nu({H:n})),hv(),e||r||o},ut.options=function(n,t){var i,r={};if(e.isEmptyObject(n)||!e.isPlainObject(n)){if(ht(n)!=s)return oe;if(!(1<arguments.length))return gc(oe,n);!function(n,t,i){for(var f=t.split(di),o=f.length,r=0,u={},s=u;r<o;r++)u=u[f[r]]=r+1<o?{}:i;e.extend(n,s,!0)}(r,n,t);i=vc(r)}else i=vc(n);e.isEmptyObject(i)||nu({C:i})},ut.destroy=function(){var t,n;if(!dt){for(t in g.remove(ut),sc(),fs(ar),fs(lr),au)ut.removeExt(t);for(;0<oc[u.l];)oc.pop()();for(cc(!0),ei&&yu(ei),ou&&yu(ou),eu&&yu(lr),pc(!0),bc(!0),yc(!0),n=0;n<no[u.l];n++)e(no[n]).off(fc,hc);no=i;fi=dt=!0;p(r,0);gi("onDestroyed")}},ut.scroll=function(n,t,r,c){function cr(n,t){for(a=0;a<t[w];a++)if(n===t[a])return 1}function lr(n,t){var i=n?nu:tu;if(t=ht(t)==s||ht(t)==d?[t,t]:t,f.isA(t))return n?t[0]:t[1];if(ht(t)==h)for(a=0;a<i[w];a++)if(i[a]in t)return t[i[a]]}function ar(n,t){var l,u,r,a,g=ht(t)==s,y=n?fr:vr,p=y.R,h=y.N,c=vt&&n,b=c&&lt.n&&!st,f="replace",nt=eval;if((u=g?(2<t[w]&&(a=t.substr(0,2),-1<pu(a,ru)&&(l=a)),t=(t=l?t.substr(2):t)[f](/min/g,0)[f](/</g,0)[f](/max/g,(b?"-":it)+cu)[f](/>/g,(b?"-":it)+cu)[f](/px/g,it)[f](/%/g," * "+h*(c&&lt.n?-1:1)/100)[f](/vw/g," * "+gt.w)[f](/vh/g," * "+gt.h),iu(isNaN(t)?iu(nt(t),!0).toFixed():t)):t)!==i&&!isNaN(u)&&ht(u)==d){var v=st&&c,e=p*(v&&lt.n?-1:1),k=v&&lt.i,tt=v&&lt.n;switch(e=k?h-e:e,l){case"+=":r=e+u;break;case"-=":r=e-u;break;case"*=":r=e*u;break;case"/=":r=e/u;break;default:r=u}r=k?h-r:r;r*=tt?-1:1;r=c&&lt.n?o.min(0,o.max(h,r)):o.max(0,o.min(h,r))}return r===p?i:r}function yr(n,t,i,r){var u,f,e=[i,i],o=ht(n);if(o==t)n=[n,n];else if(o==k){if(2<(u=n[w])||u<1)n=e;else for(1===u&&(n[1]=i),a=0;a<u;a++)if(f=n[a],ht(f)!=t||!cr(f,r)){n=e;break}}else n=o==h?[n[ye]||i,n[pe]||i]:e;return{x:n[0],y:n[1]}}function ci(n){var t,r,i=[],u=[ri,bi,or,at];for(a=0;a<n[w]&&a!==u[w];a++)t=n[a],(r=ht(t))==y?i.push(t?iu(oi.css(li+u[a])):0):i.push(r==d?t:0);return i}var b;if(0===arguments.length||n===i){var nr=hu&&vt&&lt.i,ir=hu&&vt&&lt.n,dt=fr.R,ni=fr.L,vi=fr.N;return ni=nr?1-ni:ni,dt=nr?vi-dt:dt,vi*=ir?-1:1,{position:{x:dt*=ir?-1:1,y:vr.R},ratio:{x:ni,y:vr.L},max:{x:vi,y:vr.N},handleOffset:{x:fr.W,y:vr.W},handleLength:{x:fr.D,y:vr.D},handleLengthRatio:{x:fr.M,y:vr.M},trackLength:{x:fr.I,y:vr.I},snappedHandleOffset:{x:fr.j,y:vr.j},isRTL:vt,isRTLNormalized:hu}}ut.update(sh);var a,ui,fi,ei,yi,g,et,nt,oi,st=hu,nu=[ye,at,"l"],tu=[pe,ri,"t"],ru=["+=","-=","*=","/="],pi=ht(t)==h,rr=pi?t.complete:c,p={},wi={},ct="begin",ur="nearest",si="never",hi="ifneeded",w=u.l,uu=[ye,pe,"xy","yx"],fu=[ct,"end","center",ur],eu=["always",si,hi],yt=n[u.hOP]("el"),wt=yt?n.el:n,ki=!!(wt instanceof e||tt)&&wt instanceof tt,ou=!ki&&yv(wt),er=function(){ui&&br(!0);fi&&br(!1)},hr=ht(rr)!=l?i:function(){er();rr()};if(ki||ou){var pr,v=yt?n.margin:0,wr=yt?n.axis:0,su=yt?n.scroll:0,lu=yt?n.block:0,kr=[0,0,0,0],ai=ht(v);if(0<(oi=ki?wt:e(wt))[w]){v=ai==d||ai==y?ci([v,v,v,v]):ai==k?2===(pr=v[w])?ci([v[0],v[1],v[0],v[1]]):4<=pr?ci(v):kr:ai==h?ci([v[ri],v[bi],v[or],v[at]]):kr;yi=cr(wr,uu)?wr:"xy";g=yr(su,s,"always",eu);et=yr(lu,s,ct,fu);nt=v;var di=fr.R,au=vr.R,bt=tr.offset(),ft=oi.offset(),kt={x:g.x==si||yi==pe,y:g.y==si||yi==ye};if(ft[ri]-=nt[0],ft[at]-=nt[3],b={x:o.round(ft[at]-bt[at]+di),y:o.round(ft[ri]-bt[ri]+au)},vt&&(lt.n||lt.i||(b.x=o.round(bt[at]-ft[at]+di)),lt.n&&st&&(b.x*=-1),lt.i&&st&&(b.x=o.round(bt[at]-ft[at]+(fr.N-di)))),et.x!=ct||et.y!=ct||g.x==hi||g.y==hi||vt){var gi=oi[0],dr=bf?gi[u.bCR]():{width:gi[u.oW],height:gi[u.oH]},vu={w:dr[rt]+nt[3]+nt[1],h:dr[pt]+nt[0]+nt[2]},gr=function(n){var u=sr(n),o=u.F,s=u.P,t=u.U,h=et[t]==(n&&vt?ct:"end"),c="center"==et[t],p=et[t]==ur,w=g[t]==si,l=g[t]==hi,i=gt[o],f=bt[s],r=vu[o],e=ft[s],a=c?2:1,v=e+r/2,y=f+i/2,k=r<=i&&f<=e&&e+r<=f+i;w?kt[t]=!0:kt[t]||((p||l)&&(kt[t]=l&&k,h=r<i?y<v:v<y),b[t]-=h||c?(i/a-r/a)*(n&&vt&&st?-1:1):0)};gr(!0);gr(!1)}kt.y&&delete b.y;kt.x&&delete b.x;n=b}}p[ti]=ar(!0,lr(!0,n));p[ii]=ar(!1,lr(!1,n));ui=p[ti]!==i;fi=p[ii]!==i;(ui||fi)&&(0<t||pi)?pi?(t.complete=hr,ot.animate(p,t)):(ei={duration:t,complete:hr},f.isA(r)||e.isPlainObject(r)?(wi[ti]=r[0]||r.x,wi[ii]=r[1]||r.y,ei.specialEasing=wi):ei.easing=r,ot.animate(p,ei)):(ui&&ot[ti](p[ti]),fi&&ot[ii](p[ii]),er())},ut.scrollStop=function(n,t,i){return ot.stop(n,t,i),ut},ut.getElements=function(n){var t={target:wu,host:wi,padding:bu,viewport:sf,content:ir,scrollbarHorizontal:{scrollbar:ff[0],track:oo[0],handle:se[0]},scrollbarVertical:{scrollbar:ef[0],track:so[0],handle:he[0]},scrollbarCorner:ci[0]};return ht(n)==s?gc(t,n):t},ut.getState=function(n){function t(n){if(!e.isPlainObject(n))return n;var t=ai({},n),i=function(n,i){t[u.hOP](n)&&(t[i]=t[n],delete t[n])};return i("w",rt),i("h",pt),delete t.c,t}var i={destroyed:!!t(dt),sleeping:!!t(fi),autoUpdate:t(!gr),widthAuto:t(rr),heightAuto:t(ku),padding:t(ys),overflowAmount:t(ne),hideOverflow:t(ae),hasOverflow:t(dr),contentScrollSize:t(hf),viewportSize:t(gt),hostSize:t(le),documentMixed:t(hs)};return ht(n)==s?gc(i,n):i},ut.ext=function(n){var i,r="added removed on contract".split(" "),t=0;if(ht(n)==s){if(au[u.hOP](n))for(i=ai({},au[n]);t<r.length;t++)delete i[r[t]]}else for(t in i={},au)i[t]=ai({},ut.ext(t));return i},ut.addExt=function(t,i){var r,o,s,h,c=v.extension(t),a=!0;if(c){if(au[u.hOP](t))return ut.ext(t);if((r=c.extensionFactory.call(ut,ai({},c.defaultOptions),e,f))&&(s=r.contract,ht(s)==l&&(h=s(n),a=ht(h)==y?h:a),a))return o=(au[t]=r).added,ht(o)==l&&o(i),ut.ext(t)}else console.warn('A extension with the name "'+t+"\" isn't registered.")},ut.removeExt=function(n){var t,i=au[n];return!!i&&(delete au[n],t=i.removed,ht(t)==l&&t(),!0)},v.valid(function(n,r,h){var c,l;return nl=b.defaultOptions,uu=b.nativeScrollbarStyling,fu=ai({},b.nativeScrollbarSize),ct=ai({},b.nativeScrollbarIsOverlaid),ru=ai({},b.overlayScrollbarDummySize),lt=ai({},b.rtlScrollBehavior),vc(ai({},nl,r)),os=b.cssCalc,rf=b.msie,re=b.autoUpdateRecommended,ue=b.supportTransition,bf=b.supportTransform,fe=b.supportPassiveEvents,ss=b.supportResizeObserver,uo=b.supportMutationObserver,b.restrictedMeasuring,kr=e(n.ownerDocument),df=kr[0],eo=e(df.defaultView||df.parentWindow),ce=eo[0],kf=ie(kr,"html"),uf=ie(kf,"body"),st=e(n),wu=st[0],ft=st.is("textarea"),cr=st.is("body"),hs=df!==t,hi=ft?st.hasClass(ns)&&st.parent().hasClass(gh):st.hasClass(oi)&&st.children(di+kh)[u.l],ct.x&&ct.y&&!bt.nativeScrollbarsOverlaid.initialize?(gi("onInitializationWithdrawn"),hi&&(yc(!0),pc(!0),bc(!0)),fi=dt=!0):(cr&&((c={}).l=o.max(st[ti](),kf[ti](),eo[ti]()),c.t=o.max(st[ii](),kf[ii](),eo[ii]()),l=function(){ot.removeAttr(u.ti);yi(ot,te,l,!0,!0)}),yc(),pc(),bc(),fy(),cv(!0),cv(!1),function(){function s(t){if(h(t)){var u=c(t),i={};(uh||po)&&(i[rt]=n.w+(u.x-r.x)*e.x);(fh||po)&&(i[pt]=n.h+(u.y-r.y)*e.y);nt.css(i);f.stpP(t)}else o(t)}function o(n){var r=n!==i;yi(kr,[ke,be,we],[to,s,o],!0);ui(uf,vf);ci.releaseCapture&&ci.releaseCapture();r&&(t&&uv(),ut.update(kt));t=!1}function h(n){var t=(n.originalEvent||n).touches!==i;return!fi&&!dt&&(1===f.mBtn(n)||t)}function c(n){return rf&&l?{x:n.screenX,y:n.screenY}:f.page(n)}var t,l=ce.top!==ce,r={},n={},e={};wr(ci,te,function(i){h(i)&&!yo&&(gr&&(t=!0,sc()),r=c(i),n.w=wi[u.oW]-(pi?0:ee),n.h=wi[u.oH]-(pi?0:fo),e=dc(),yi(kr,[ke,be,we],[to,s,o]),wt(uf,vf),ci.setCapture&&ci.setCapture(),f.prvD(i),f.stpP(i))})}(),iy(),fs(ar,ry),cr&&(ot[ti](c.l)[ii](c.t),t.activeElement==n&&sf.focus&&(ot.attr(u.ti,"-1"),sf.focus(),yi(ot,te,l,!1,!0))),ut.update(kt),si=!0,gi("onInitialized"),vi(ic,function(n,t){gi(t.n,t.a)}),ic=[],ht(h)==s&&(h=[h]),f.isA(h)?vi(h,function(n,t){ut.addExt(t)}):e.isPlainObject(h)&&vi(h,function(n,t){ut.addExt(n,t)}),setTimeout(function(){ue&&!dt&&wt(nt,ha)},333)),ut}(r,a,w))&&p(r,ut),ut}}var st,b,ht,ct,h="object",l="function",k="array",s="string",y="boolean",d="number",it="null",u={c:"class",s:"style",i:"id",l:"length",p:"prototype",ti:"tabindex",oH:"offsetHeight",cH:"clientHeight",sH:"scrollHeight",oW:"offsetWidth",cW:"clientWidth",sW:"scrollWidth",hOP:"hasOwnProperty",bCR:"getBoundingClientRect"},c=(st={},b={},{e:ht=["-webkit-","-moz-","-o-","-ms-"],o:ct=["WebKit","Moz","O","MS"],u:function(n){var o=b[n];if(b[u.hOP](n))return o;for(var f,r,s,h=at(n),c=t.createElement("div")[u.s],e=0;e<ht.length;e++)for(s=ht[e].replace(/-/g,""),f=[n,ht[e]+n,s+h,at(s)+h],r=0;r<f[u.l];r++)if(c[f[r]]!==i){o=f[r];break}return b[n]=o},v:function(n,i,r){var o=n+" "+i,s=b[o];if(b[u.hOP](o))return s;for(var h,a=t.createElement("div")[u.s],l=i.split(" "),v=r||"",f=0,e=-1;f<l[u.l];f++)for(;e<c.e[u.l];e++)if(h=e<0?l[f]:c.e[e]+l[f],a.cssText=n+":"+h+v,a[u.l]){s=h;break}return b[o]=s},d:function(t,i,r){var e=0,f=st[t];if(!st[u.hOP](t)){for(f=n[t];e<ct[u.l];e++)f=f||n[(i?ct[e]:ct[e].toLowerCase())+at(t)];st[t]=f}return f||r}}),f={wW:g(wt,0,!0),wH:g(wt,0),mO:g(c.d,0,"MutationObserver",!0),rO:g(c.d,0,"ResizeObserver",!0),rAF:g(c.d,0,"requestAnimationFrame",!1,function(t){return n.setTimeout(t,1e3/60)}),cAF:g(c.d,0,"cancelAnimationFrame",!1,function(t){return n.clearTimeout(t)}),now:function(){return Date.now&&Date.now()||(new Date).getTime()},stpP:function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},prvD:function(n){n.preventDefault&&n.cancelable?n.preventDefault():n.returnValue=!1},page:function(n){var e=((n=n.originalEvent||n).target||n.srcElement||t).ownerDocument||t,r=e.documentElement,u=e.body,f;return n.touches===i?!n.pageX&&n.clientX&&null!=n.clientX?{x:n.clientX+(r&&r.scrollLeft||u&&u.scrollLeft||0)-(r&&r.clientLeft||u&&u.clientLeft||0),y:n.clientY+(r&&r.scrollTop||u&&u.scrollTop||0)-(r&&r.clientTop||u&&u.clientTop||0)}:{x:n.pageX,y:n.pageY}:(f=n.touches[0],{x:f.pageX,y:f.pageY})},mBtn:function(n){var t=n.button;return n.which||t===i?n.which:1&t?1:2&t?3:4&t?2:0},inA:function(n,t){for(var i=0;i<t[u.l];i++)try{if(t[i]===n)return i}catch(r){}return-1},isA:function(n){var t=Array.isArray;return t?t(n):this.type(n)==k},type:function(n){return n===i||null===n?n+"":Object[u.p].toString.call(n).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},bind:g},rt,lt,v,nt,vt,ot,bt,ut,ft,a,kt,dt,gt,w,et,o=Math,tt=r,e=(r.easing,r),p=(rt=[],lt="__overlayScrollbars__",function(n,t){var r=arguments[u.l],i;if(r<1)return rt;if(t)n[lt]=t,rt.push(n);else if(i=f.inA(n,rt),-1<i){if(!(1<r))return rt[i][lt];delete n[lt];rt.splice(i,1)}}),yt=(w=[],ot=f.type,dt={className:["os-theme-dark",[it,s]],resize:["none","n:none b:both h:horizontal v:vertical"],sizeAutoCapable:ut=[!0,y],clipAlways:ut,normalizeRTL:ut,paddingAbsolute:ft=[!(bt=[y,d,s,k,h,l,it]),y],autoUpdate:[null,[it,y]],autoUpdateInterval:[33,d],updateOnLoad:[["img"],[s,k,it]],nativeScrollbarsOverlaid:{showNativeScrollbars:ft,initialize:ut},overflowBehavior:{x:["scroll",kt="v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"],y:["scroll",kt]},scrollbars:{visibility:["auto","v:visible h:hidden a:auto"],autoHide:["never","n:never s:scroll l:leave m:move"],autoHideDelay:[800,d],dragScrolling:ut,clickScrolling:ft,touchSupport:ut,snapHandle:ft},textarea:{dynWidth:ft,dynHeight:ft,inheritedAttrs:[["style","class"],[s,k,it]]},callbacks:{onInitialized:a=[null,[it,l]],onInitializationWithdrawn:a,onDestroyed:a,onScrollStart:a,onScroll:a,onScrollStop:a,onOverflowChanged:a,onOverflowAmountChanged:a,onDirectionChanged:a,onContentSizeChanged:a,onHostSizeChanged:a,onUpdated:a}},et={m:(gt=function(n){var t=function(i){var r,f,e;for(r in i)i[u.hOP](r)&&(f=i[r],(e=ot(f))==k?i[r]=f[n?1:0]:e==h&&(i[r]=t(f)));return i};return t(e.extend(!0,{},dt))})(),g:gt(!0),_:function(t,r,o,c){var a={},v={},l=e.extend(!0,{},t),y=e.inArray,p=e.isEmptyObject,w=function(n,t,r,c,l,a){for(var v in t)if(t[u.hOP](v)&&n[u.hOP](v)){var nt,tt,st,lt,k,it,rt,ut,ft=!1,at=!1,g=t[v],vt=ot(g),yt=vt==h,pt=f.isA(g)?g:[g],d=r[v],b=n[v],ht=ot(b),wt=a?a+".":"",kt='The option "'+wt+v+"\" wasn't set, because",ct=[],et=[];if(d=d===i?{}:d,yt&&ht==h)c[v]={},l[v]={},w(b,g,d,c[v],l[v],wt+v),e.each([n,c,l],function(n,t){p(t[v])&&delete t[v]});else if(!yt){for(it=0;it<pt[u.l];it++)if(k=pt[it],st=(vt=ot(k))==s&&-1===y(k,bt))for(ct.push(s),nt=k.split(" "),et=et.concat(nt),rt=0;rt<nt[u.l];rt++){for(lt=(tt=nt[rt].split(":"))[0],ut=0;ut<tt[u.l];ut++)if(b===tt[ut]){ft=!0;break}if(ft)break}else if(ct.push(k),ht===k){ft=!0;break}ft?((at=b!==d)&&(c[v]=b),(st?y(d,tt)<0:at)&&(l[v]=st?lt:b)):o&&console.warn(kt+" it doesn't accept the type [ "+ht.toUpperCase()+' ] with the value of "'+b+'".\r\nAccepted types are: [ '+ct.join(", ").toUpperCase()+" ]."+(0<et[length]?"\r\nValid strings are: [ "+et.join(", ").split(":").join(", ")+" ].":""));delete n[v]}}};return w(l,r,c||{},a,v),!p(l)&&o&&console.warn("The following options are discarded due to invalidity:\r\n"+n.JSON.stringify(l,null,2)),{S:a,z:v}}},(v=n.OverlayScrollbars=function(n,t,r){if(0===arguments[u.l])return this;var o,h,s=[],c=e.isPlainObject(t);return n?(n=n[u.l]!=i?n:[n[0]||n],pt(),0<n[u.l]&&(c?e.each(n,function(n,u){(o=u)!==i&&s.push(ii(o,t,r,nt,vt))}):e.each(n,function(n,r){o=p(r);("!"===t&&v.valid(o)||f.type(t)==l&&t(r,o)||t===i)&&s.push(o)}),h=1===s[u.l]?s[0]:s),h):c||!t?h:s}).globals=function(){pt();var n=e.extend(!0,{},nt);return delete n.msie,n},v.defaultOptions=function(n){pt();var t=nt.defaultOptions;if(n===i)return e.extend(!0,{},t);nt.defaultOptions=e.extend(!0,{},t,et._(n,et.g,!0,t).S)},v.valid=function(n){return n instanceof v&&!n.getState().destroyed},v.extension=function(n,t,i){var o=f.type(n)==s,h=arguments[u.l],r=0;if(h<1||!o)return e.extend(!0,{length:w[u.l]},w);if(o)if(f.type(t)==l)w.push({name:n,extensionFactory:t,defaultOptions:i});else for(;r<w[u.l];r++)if(w[r].name===n){if(!(1<h))return e.extend(!0,{},w[r]);w.splice(r,1)}},v);return tt&&tt.fn&&(tt.fn.overlayScrollbars=function(n,t){return tt.isPlainObject(n)?(tt.each(this,function(){yt(this,n,t)}),this):yt(this,n)}),yt});!function(n,t){var i,r;"function"==typeof define&&define.amd?define(["moment","jquery"],function(n,i){return i.fn||(i.fn={}),"function"!=typeof n&&n.hasOwnProperty("default")&&(n=n.default),t(n,i)}):"object"==typeof module&&module.exports?(i="undefined"!=typeof window?window.jQuery:void 0,i||(i=require("jquery")).fn||(i.fn={}),r="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=t(r,i)):n.daterangepicker=t(n.moment,n.jQuery)}(this,function(n,t){var i=function(i,r,u){var l,y,f,o,e,h,a,s,v,c;if((this.parentEl="body",this.element=t(i),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=n().subtract(100,"year").format("YYYY"),this.maxYear=n().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:n.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof r&&null!==r||(r={}),"string"==typeof(r=t.extend(this.element.data(),r)).template||r.template instanceof t||(r.template='<div class="daterangepicker"><div class="ranges"><\/div><div class="drp-calendar left"><div class="calendar-table"><\/div><div class="calendar-time"><\/div><\/div><div class="drp-calendar right"><div class="calendar-table"><\/div><div class="calendar-time"><\/div><\/div><div class="drp-buttons"><span class="drp-selected"><\/span><button class="cancelBtn" type="button"><\/button><button class="applyBtn" disabled="disabled" type="button"><\/button> <\/div><\/div>'),this.parentEl=r.parentEl&&t(r.parentEl).length?t(r.parentEl):t(this.parentEl),this.container=t(r.template).appendTo(this.parentEl),"object"==typeof r.locale&&("string"==typeof r.locale.direction&&(this.locale.direction=r.locale.direction),"string"==typeof r.locale.format&&(this.locale.format=r.locale.format),"string"==typeof r.locale.separator&&(this.locale.separator=r.locale.separator),"object"==typeof r.locale.daysOfWeek&&(this.locale.daysOfWeek=r.locale.daysOfWeek.slice()),"object"==typeof r.locale.monthNames&&(this.locale.monthNames=r.locale.monthNames.slice()),"number"==typeof r.locale.firstDay&&(this.locale.firstDay=r.locale.firstDay),"string"==typeof r.locale.applyLabel&&(this.locale.applyLabel=r.locale.applyLabel),"string"==typeof r.locale.cancelLabel&&(this.locale.cancelLabel=r.locale.cancelLabel),"string"==typeof r.locale.weekLabel&&(this.locale.weekLabel=r.locale.weekLabel),"string"==typeof r.locale.customRangeLabel))&&((v=document.createElement("textarea")).innerHTML=r.locale.customRangeLabel,l=v.value,this.locale.customRangeLabel=l),this.container.addClass(this.locale.direction),"string"==typeof r.startDate&&(this.startDate=n(r.startDate,this.locale.format)),"string"==typeof r.endDate&&(this.endDate=n(r.endDate,this.locale.format)),"string"==typeof r.minDate&&(this.minDate=n(r.minDate,this.locale.format)),"string"==typeof r.maxDate&&(this.maxDate=n(r.maxDate,this.locale.format)),"object"==typeof r.startDate&&(this.startDate=n(r.startDate)),"object"==typeof r.endDate&&(this.endDate=n(r.endDate)),"object"==typeof r.minDate&&(this.minDate=n(r.minDate)),"object"==typeof r.maxDate&&(this.maxDate=n(r.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof r.applyButtonClasses&&(this.applyButtonClasses=r.applyButtonClasses),"string"==typeof r.applyClass&&(this.applyButtonClasses=r.applyClass),"string"==typeof r.cancelButtonClasses&&(this.cancelButtonClasses=r.cancelButtonClasses),"string"==typeof r.cancelClass&&(this.cancelButtonClasses=r.cancelClass),"object"==typeof r.maxSpan&&(this.maxSpan=r.maxSpan),"object"==typeof r.dateLimit&&(this.maxSpan=r.dateLimit),"string"==typeof r.opens&&(this.opens=r.opens),"string"==typeof r.drops&&(this.drops=r.drops),"boolean"==typeof r.showWeekNumbers&&(this.showWeekNumbers=r.showWeekNumbers),"boolean"==typeof r.showISOWeekNumbers&&(this.showISOWeekNumbers=r.showISOWeekNumbers),"string"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses),"object"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses.join(" ")),"boolean"==typeof r.showDropdowns&&(this.showDropdowns=r.showDropdowns),"number"==typeof r.minYear&&(this.minYear=r.minYear),"number"==typeof r.maxYear&&(this.maxYear=r.maxYear),"boolean"==typeof r.showCustomRangeLabel&&(this.showCustomRangeLabel=r.showCustomRangeLabel),"boolean"==typeof r.singleDatePicker&&(this.singleDatePicker=r.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof r.timePicker&&(this.timePicker=r.timePicker),"boolean"==typeof r.timePickerSeconds&&(this.timePickerSeconds=r.timePickerSeconds),"number"==typeof r.timePickerIncrement&&(this.timePickerIncrement=r.timePickerIncrement),"boolean"==typeof r.timePicker24Hour&&(this.timePicker24Hour=r.timePicker24Hour),"boolean"==typeof r.autoApply&&(this.autoApply=r.autoApply),"boolean"==typeof r.autoUpdateInput&&(this.autoUpdateInput=r.autoUpdateInput),"boolean"==typeof r.linkedCalendars&&(this.linkedCalendars=r.linkedCalendars),"function"==typeof r.isInvalidDate&&(this.isInvalidDate=r.isInvalidDate),"function"==typeof r.isCustomDate&&(this.isCustomDate=r.isCustomDate),"boolean"==typeof r.alwaysShowCalendars&&(this.alwaysShowCalendars=r.alwaysShowCalendars),0!=this.locale.firstDay)for(y=this.locale.firstDay;y>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),y--;if(void 0===r.startDate&&void 0===r.endDate&&t(this.element).is(":text")&&(h=t(this.element).val(),a=h.split(this.locale.separator),f=o=null,2==a.length?(f=n(a[0],this.locale.format),o=n(a[1],this.locale.format)):this.singleDatePicker&&""!==h&&(f=n(h,this.locale.format),o=n(h,this.locale.format)),null!==f&&null!==o&&(this.setStartDate(f),this.setEndDate(o))),"object"==typeof r.ranges){for(e in r.ranges)f="string"==typeof r.ranges[e][0]?n(r.ranges[e][0],this.locale.format):n(r.ranges[e][0]),o="string"==typeof r.ranges[e][1]?n(r.ranges[e][1],this.locale.format):n(r.ranges[e][1]),this.minDate&&f.isBefore(this.minDate)&&(f=this.minDate.clone()),s=this.maxDate,(this.maxSpan&&s&&f.clone().add(this.maxSpan).isAfter(s)&&(s=f.clone().add(this.maxSpan)),s&&o.isAfter(s)&&(o=s.clone()),this.minDate&&o.isBefore(this.minDate,this.timepicker?"minute":"day")||s&&f.isAfter(s,this.timepicker?"minute":"day"))||((v=document.createElement("textarea")).innerHTML=e,l=v.value,this.ranges[l]=[f,o]);c="<ul>";for(e in this.ranges)c+='<li data-range-key="'+e+'">'+e+"<\/li>";this.showCustomRangeLabel&&(c+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"<\/li>");c+="<\/ul>";this.container.find(".ranges").prepend(c)}"function"==typeof u&&(this.callback=u);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide());this.timePicker&&this.autoApply&&(this.autoApply=!1);this.autoApply&&this.container.addClass("auto-apply");"object"==typeof r.ranges&&this.container.addClass("show-ranges");this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply"));(void 0===r.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses);this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".drp-calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this));this.container.find(".ranges").on("click.daterangepicker","li",t.proxy(this.clickRange,this));this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this));this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this)));this.updateElement()};return i.prototype={constructor:i,setStartDate:function(t){"string"==typeof t&&(this.startDate=n(t,this.locale.format));"object"==typeof t&&(this.startDate=n(t));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.isShowing||this.updateElement();this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=n(t,this.locale.format));"object"==typeof t&&(this.endDate=n(t));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone());this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan));this.previousRightTime=this.endDate.clone();this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.isShowing||this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled"));this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var n,t,i,r;this.endDate?(n=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour)||("PM"===(r=this.container.find(".left .ampmselect").val())&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0)):(n=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour)||("PM"===(r=this.container.find(".right .ampmselect").val())&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0));this.leftCalendar.month.hour(n).minute(t).second(i);this.rightCalendar.month.hour(n).minute(t).second(i)}this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(i){var r,k=(r="left"==i?this.leftCalendar:this.rightCalendar).month.month(),d=r.month.year(),yt=r.month.hour(),et=r.month.minute(),ot=r.month.second(),pt=n([d,k]).daysInMonth(),p=n([d,k,1]),wt=n([d,k,pt]),st=n(p).subtract(1,"month").month(),ht=n(p).subtract(1,"month").year(),g=n([ht,st]).daysInMonth(),ct=p.day(),s,v,nt,rt,a,ut,o,y,b,ft;for((r=[]).firstDay=p,r.lastDay=wt,s=0;s<6;s++)r[s]=[];v=g-ct+this.locale.firstDay+1;v>g&&(v-=7);ct==this.locale.firstDay&&(v=g-6);for(var w=n([ht,st,v,12,et,ot]),u=(s=0,0),f=0;s<42;s++,u++,w=n(w).add(24,"hour"))s>0&&u%7==0&&(u=0,f++),r[f][u]=w.clone().hour(yt).minute(et).second(ot),w.hour(12),this.minDate&&r[f][u].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&r[f][u].isBefore(this.minDate)&&"left"==i&&(r[f][u]=this.minDate.clone()),this.maxDate&&r[f][u].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&r[f][u].isAfter(this.maxDate)&&"right"==i&&(r[f][u]=this.maxDate.clone());"left"==i?this.leftCalendar.calendar=r:this.rightCalendar.calendar=r;var l="left"==i?this.minDate:this.startDate,h=this.maxDate,e=("left"==i?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');if(e+="<thead>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+="<th><\/th>"),e+=l&&!l.isBefore(r.firstDay)||this.linkedCalendars&&"left"!=i?"<th><\/th>":'<th class="prev available"><span><\/span><\/th>',nt=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY"),this.showDropdowns){for(var lt=r[1][1].month(),tt=r[1][1].year(),at=h&&h.year()||this.maxYear,vt=l&&l.year()||this.minYear,bt=tt==vt,kt=tt==at,it='<select class="monthselect">',c=0;c<12;c++)it+=(!bt||l&&c>=l.month())&&(!kt||h&&c<=h.month())?"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+">"+this.locale.monthNames[c]+"<\/option>":"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[c]+"<\/option>";for(it+="<\/select>",rt='<select class="yearselect">',a=vt;a<=at;a++)rt+='<option value="'+a+'"'+(a===tt?' selected="selected"':"")+">"+a+"<\/option>";nt=it+(rt+="<\/select>")}for((e+='<th colspan="5" class="month">'+nt+"<\/th>",e+=h&&!h.isAfter(r.lastDay)||this.linkedCalendars&&"right"!=i&&!this.singleDatePicker?"<th><\/th>":'<th class="next available"><span><\/span><\/th>',e+="<\/tr>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+='<th class="week">'+this.locale.weekLabel+"<\/th>"),t.each(this.locale.daysOfWeek,function(n,t){e+="<th>"+t+"<\/th>"}),e+="<\/tr>",e+="<\/thead>",e+="<tbody>",null==this.endDate&&this.maxSpan)&&(ut=this.startDate.clone().add(this.maxSpan).endOf("day"),h&&!ut.isBefore(h)||(h=ut)),f=0;f<6;f++){for(e+="<tr>",this.showWeekNumbers?e+='<td class="week">'+r[f][0].week()+"<\/td>":this.showISOWeekNumbers&&(e+='<td class="week">'+r[f][0].isoWeek()+"<\/td>"),u=0;u<7;u++){for(o=[],r[f][u].isSame(new Date,"day")&&o.push("today"),r[f][u].isoWeekday()>5&&o.push("weekend"),r[f][u].month()!=r[1][1].month()&&o.push("off","ends"),this.minDate&&r[f][u].isBefore(this.minDate,"day")&&o.push("off","disabled"),h&&r[f][u].isAfter(h,"day")&&o.push("off","disabled"),this.isInvalidDate(r[f][u])&&o.push("off","disabled"),r[f][u].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&o.push("active","start-date"),null!=this.endDate&&r[f][u].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&o.push("active","end-date"),null!=this.endDate&&r[f][u]>this.startDate&&r[f][u]<this.endDate&&o.push("in-range"),y=this.isCustomDate(r[f][u]),!1!==y&&("string"==typeof y?o.push(y):Array.prototype.push.apply(o,y)),b="",ft=!1,s=0;s<o.length;s++)b+=o[s]+" ","disabled"==o[s]&&(ft=!0);ft||(b+="available");e+='<td class="'+b.replace(/^\s+|\s+$/g,"")+'" data-title="r'+f+"c"+u+'">'+r[f][u].date()+"<\/td>"}e+="<\/tr>"}e+="<\/tbody>";e+="<\/table>";this.container.find(".drp-calendar."+i+" .calendar-table").html(e)},renderTimePicker:function(n){var u,i,e,f,h,v,c,o,r,s,l,a;if("right"!=n||this.endDate){f=this.maxDate;(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(f=this.startDate.clone().add(this.maxSpan)),"left"==n)?(i=this.startDate.clone(),e=this.minDate):"right"==n&&(i=this.endDate.clone(),e=this.startDate,h=this.container.find(".drp-calendar.right .calendar-time"),""==h.html()||(i.hour(isNaN(i.hour())?h.find(".hourselect option:selected").val():i.hour()),i.minute(isNaN(i.minute())?h.find(".minuteselect option:selected").val():i.minute()),i.second(isNaN(i.second())?h.find(".secondselect option:selected").val():i.second()),this.timePicker24Hour)||(v=h.find(".ampmselect option:selected").val(),"PM"===v&&i.hour()<12&&i.hour(i.hour()+12),"AM"===v&&12===i.hour()&&i.hour(0)),i.isBefore(this.startDate)&&(i=this.startDate.clone()),f&&i.isAfter(f)&&(i=f.clone()));u='<select class="hourselect">';for(var y=this.timePicker24Hour?0:1,p=this.timePicker24Hour?23:12,t=y;t<=p;t++)c=t,this.timePicker24Hour||(c=i.hour()>=12?12==t?12:t+12:12==t?0:t),o=i.clone().hour(c),r=!1,e&&o.minute(59).isBefore(e)&&(r=!0),f&&o.minute(0).isAfter(f)&&(r=!0),u+=c!=i.hour()||r?r?'<option value="'+t+'" disabled="disabled" class="disabled">'+t+"<\/option>":'<option value="'+t+'">'+t+"<\/option>":'<option value="'+t+'" selected="selected">'+t+"<\/option>";for(u+="<\/select> ",u+=': <select class="minuteselect">',t=0;t<60;t+=this.timePickerIncrement)s=t<10?"0"+t:t,o=i.clone().minute(t),r=!1,e&&o.second(59).isBefore(e)&&(r=!0),f&&o.second(0).isAfter(f)&&(r=!0),u+=i.minute()!=t||r?r?'<option value="'+t+'" disabled="disabled" class="disabled">'+s+"<\/option>":'<option value="'+t+'">'+s+"<\/option>":'<option value="'+t+'" selected="selected">'+s+"<\/option>";if(u+="<\/select> ",this.timePickerSeconds){for(u+=': <select class="secondselect">',t=0;t<60;t++)s=t<10?"0"+t:t,o=i.clone().second(t),r=!1,e&&o.isBefore(e)&&(r=!0),f&&o.isAfter(f)&&(r=!0),u+=i.second()!=t||r?r?'<option value="'+t+'" disabled="disabled" class="disabled">'+s+"<\/option>":'<option value="'+t+'">'+s+"<\/option>":'<option value="'+t+'" selected="selected">'+s+"<\/option>";u+="<\/select> "}this.timePicker24Hour||(u+='<select class="ampmselect">',l="",a="",e&&i.clone().hour(12).minute(0).second(0).isBefore(e)&&(l=' disabled="disabled" class="disabled"'),f&&i.clone().hour(0).minute(0).second(0).isAfter(f)&&(a=' disabled="disabled" class="disabled"'),u+=i.hour()>=12?'<option value="AM"'+l+'>AM<\/option><option value="PM" selected="selected"'+a+">PM<\/option>":'<option value="AM" selected="selected"'+l+'>AM<\/option><option value="PM"'+a+">PM<\/option>",u+="<\/select>");this.container.find(".drp-calendar."+n+" .calendar-time").html(u)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var n,i={top:0,left:0},f=this.drops,o=t(window).width(),r,e,u;switch(this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},o=this.parentEl[0].clientWidth+this.parentEl.offset().left),f){case"auto":(n=this.element.offset().top+this.element.outerHeight()-i.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(n=this.element.offset().top-this.container.outerHeight()-i.top,f="up");break;case"up":n=this.element.offset().top-this.container.outerHeight()-i.top;break;default:n=this.element.offset().top+this.element.outerHeight()-i.top}this.container.css({top:0,left:0,right:"auto"});r=this.container.outerWidth();(this.container.toggleClass("drop-up","up"==f),"left"==this.opens)?(e=o-this.element.offset().left-this.element.outerWidth(),r+e>t(window).width()?this.container.css({top:n,right:"auto",left:9}):this.container.css({top:n,right:e,left:"auto"})):"center"==this.opens?(u=this.element.offset().left-i.left+this.element.outerWidth()/2-r/2)<0?this.container.css({top:n,right:"auto",left:9}):u+r>t(window).width()?this.container.css({top:n,left:"auto",right:0}):this.container.css({top:n,left:u,right:"auto"}):(u=this.element.offset().left-i.left)+r>t(window).width()?this.container.css({top:n,left:"auto",right:0}):this.container.css({top:n,left:u,right:"auto"})},show:function(){this.isShowing||(this._outsideClickProxy=t.proxy(function(n){this.outsideClick(n)},this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy(function(n){this.move(n)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(n){var i=t(n.target);"focusin"==n.type||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(n){var t=n.target.getAttribute("data-range-key"),i;(this.chosenLabel=t,t==this.locale.customRangeLabel)?this.showCalendars():(i=this.ranges[t],this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(n){t(n.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(n){t(n.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(n){if(t(n.target).hasClass("available")){var i=t(n.target).attr("data-title"),r=i.substr(1,1),u=i.substr(3,1),f=t(n.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[r][u]:this.rightCalendar.calendar[r][u],e=this.leftCalendar,o=this.rightCalendar,s=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(n,i){if(!t(i).hasClass("week")){var u=t(i).attr("data-title"),h=u.substr(1,1),c=u.substr(3,1),r=t(i).parents(".drp-calendar").hasClass("left")?e.calendar[h][c]:o.calendar[h][c];r.isAfter(s)&&r.isBefore(f)||r.isSame(f,"day")?t(i).addClass("in-range"):t(i).removeClass("in-range")}})}},clickDate:function(n){var i,u,f,e;if(t(n.target).hasClass("available")){var o=t(n.target).attr("data-title"),s=o.substr(1,1),h=o.substr(3,1),r=t(n.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[s][h]:this.rightCalendar.calendar[s][h];this.endDate||r.isBefore(this.startDate,"day")?(this.timePicker&&(i=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(e=this.container.find(".left .ampmselect").val())&&i<12&&(i+=12),"AM"===e&&12===i&&(i=0)),u=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(u)&&(u=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),f=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,r=r.clone().hour(i).minute(u).second(f)),this.endDate=null,this.setStartDate(r.clone())):!this.endDate&&r.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(i=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(e=this.container.find(".right .ampmselect").val())&&i<12&&(i+=12),"AM"===e&&12===i&&(i=0)),u=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(u)&&(u=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),f=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,r=r.clone().hour(i).minute(u).second(f)),this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply()));this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply());this.updateView();n.stopPropagation()}},calculateChosenLabel:function(){var i=!0,r=0,n,t;for(n in this.ranges){if(this.timePicker){if(t=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm",this.startDate.format(t)==this.ranges[n][0].format(t)&&this.endDate.format(t)==this.ranges[n][1].format(t)){i=!1;this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){i=!1;this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").attr("data-range-key");break}r++}i&&(this.chosenLabel=this.showCustomRangeLabel?this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):null,this.showCalendars())},clickApply:function(){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(n){var u=t(n.target).closest(".drp-calendar").hasClass("left"),e=u?"left":"right",f=this.container.find(".drp-calendar."+e),r=parseInt(f.find(".monthselect").val(),10),i=f.find(".yearselect").val();u||(i<this.startDate.year()||i==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),i=this.startDate.year());this.minDate&&(i<this.minDate.year()||i==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),i=this.minDate.year());this.maxDate&&(i>this.maxDate.year()||i==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),i=this.maxDate.year());u?(this.leftCalendar.month.month(r).year(i),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(i),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")));this.updateCalendars()},timeChanged:function(n){var r=t(n.target).closest(".drp-calendar"),h=r.hasClass("left"),u=parseInt(r.find(".hourselect").val(),10),e=parseInt(r.find(".minuteselect").val(),10),o,s,i,f;isNaN(e)&&(e=parseInt(r.find(".minuteselect option:last").val(),10));o=this.timePickerSeconds?parseInt(r.find(".secondselect").val(),10):0;this.timePicker24Hour||(s=r.find(".ampmselect").val(),"PM"===s&&u<12&&(u+=12),"AM"===s&&12===u&&(u=0));h?(i=this.startDate.clone(),i.hour(u),i.minute(e),i.second(o),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())):this.endDate&&(f=this.endDate.clone(),f.hour(u),f.minute(e),f.second(o),this.setEndDate(f));this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var r=this.element.val().split(this.locale.separator),t=null,i=null;2===r.length&&(t=n(r[0],this.locale.format),i=n(r[1],this.locale.format));(this.singleDatePicker||null===t||null===i)&&(i=t=n(this.element.val(),this.locale.format));t.isValid()&&i.isValid()&&(this.setStartDate(t),this.setEndDate(i),this.updateView())}},keydown:function(n){9!==n.keyCode&&13!==n.keyCode||this.hide();27===n.keyCode&&(n.preventDefault(),n.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var n=this.startDate.format(this.locale.format);this.singleDatePicker||(n+=this.locale.separator+this.endDate.format(this.locale.format));n!==this.element.val()&&this.element.val(n).trigger("change")}},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}},t.fn.daterangepicker=function(n,r){var u=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,n);return this.each(function(){var n=t(this);n.data("daterangepicker")&&n.data("daterangepicker").remove();n.data("daterangepicker",new i(n,u,r))}),this},i});
/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(function(){try{return require("moment")}catch(n){}}()):"function"==typeof define&&define.amd?define(["require"],function(n){return t(function(){try{return n("moment")}catch(n){}}())}):(n=n||self).Chart=t(n.moment)}(this,function(n){"use strict";function fh(n){var t=function(){for(var t={},i=Object.keys(e),r=i.length,n=0;n<r;n++)t[i[n]]={distance:-1,parent:null};return t}(),r=[n],o,i;for(t[n].distance=0;r.length;)for(var u=r.pop(),s=Object.keys(e[u]),h=s.length,f=0;f<h;f++)o=s[f],i=t[o],-1===i.distance&&(i.distance=t[u].distance+1,i.parent=u,r.unshift(o));return t}function eh(n,t){return function(i){return t(n(i))}}function oh(n,t){for(var u=[t[n].parent,n],r=e[t[n].parent][n],i=t[n].parent;t[i].parent;)u.unshift(t[i].parent),r=eh(e[t[i].parent][i],r),i=t[i].parent;return r.conversion=u,r}function gr(n){var t;if(n){var r=[0,0,0],u=1,i=n.match(/^#([a-fA-F0-9]{3,4})$/i),f="";if(i){for(f=(i=i[1])[3],t=0;t<r.length;t++)r[t]=parseInt(i[t]+i[t],16);f&&(u=Math.round(parseInt(f+f,16)/255*100)/100)}else if(i=n.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(f=i[2],i=i[1],t=0;t<r.length;t++)r[t]=parseInt(i.slice(2*t,2*t+2),16);f&&(u=Math.round(parseInt(f,16)/255*100)/100)}else if(i=n.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(t=0;t<r.length;t++)r[t]=parseInt(i[t+1]);u=parseFloat(i[4])}else if(i=n.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(t=0;t<r.length;t++)r[t]=Math.round(2.55*parseFloat(i[t+1]));u=parseFloat(i[4])}else if(i=n.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(r=dr[i[1]]))return}for(t=0;t<r.length;t++)r[t]=g(r[t],0,255);return u=u||0==u?g(u,0,1):1,r[3]=u,r}}function nu(n){var t,i;if(n&&(t=n.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/),t))return i=parseFloat(t[4]),[g(parseInt(t[1]),0,360),g(parseFloat(t[2]),0,100),g(parseFloat(t[3]),0,100),g(isNaN(i)?1:i,0,1)]}function ee(n){var t,i;if(n&&(t=n.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/),t))return i=parseFloat(t[4]),[g(parseInt(t[1]),0,360),g(parseFloat(t[2]),0,100),g(parseFloat(t[3]),0,100),g(isNaN(i)?1:i,0,1)]}function oe(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+t+")"}function se(n,t){return"rgba("+Math.round(n[0]/255*100)+"%, "+Math.round(n[1]/255*100)+"%, "+Math.round(n[2]/255*100)+"%, "+(t||n[3]||1)+")"}function he(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+t+")"}function g(n,t,i){return Math.min(Math.max(t,n),i)}function gi(n){var t=n.toString(16).toUpperCase();return t.length<2?"0"+t:t}function ce(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function we(n,t){var u=n._chartjs,i,r;u&&(i=u.listeners,r=i.indexOf(t),-1!==r&&i.splice(r,1),i.length>0||(pe.forEach(function(t){delete n[t]}),delete n._chartjs))}function be(n,t){var u=t.startAngle,f=t.endAngle,i=t.pixelMargin,r=i/t.outerRadius,e=t.x,o=t.y;n.beginPath();n.arc(e,o,t.outerRadius,u-r,f+r);t.innerRadius>i?(r=i/t.innerRadius,n.arc(e,o,t.innerRadius-i,f+r,u-r,!0)):n.arc(e,o,i,f+Math.PI/2,u-Math.PI/2);n.closePath();n.clip()}function dh(n,t,i){var r="inner"===t.borderAlign;r?(n.lineWidth=2*t.borderWidth,n.lineJoin="round"):(n.lineWidth=t.borderWidth,n.lineJoin="bevel");i.fullCircles&&function(n,t,i,r){var u,f=i.endAngle;for(r&&(i.endAngle=i.startAngle+d,be(n,i),i.endAngle=f,i.endAngle===i.startAngle&&i.fullCircles&&(i.endAngle+=d,i.fullCircles--)),n.beginPath(),n.arc(i.x,i.y,i.innerRadius,i.startAngle+d,i.startAngle,!0),u=0;u<i.fullCircles;++u)n.stroke();for(n.beginPath(),n.arc(i.x,i.y,t.outerRadius,i.startAngle,i.startAngle+d),u=0;u<i.fullCircles;++u)n.stroke()}(n,t,i,r);r&&be(n,i);n.beginPath();n.arc(i.x,i.y,t.outerRadius,i.startAngle,i.endAngle);n.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0);n.closePath();n.stroke()}function no(n){var t=this._view;return!!t&&Math.abs(n-t.x)<t.radius+t.hitRadius}function ur(n){return n&&void 0!==n.width}function io(n){var i,r,u,f,t;return ur(n)?(t=n.width/2,i=n.x-t,r=n.x+t,u=Math.min(n.y,n.base),f=Math.max(n.y,n.base)):(t=n.height/2,i=Math.min(n.x,n.base),r=Math.max(n.x,n.base),u=n.y-t,f=n.y+t),{left:i,top:u,right:r,bottom:f}}function ro(n,t,i){return n===t?i:n===i?t:n}function ic(n,i,r){var f,e,o,s,u=n.borderWidth,h=function(n){var t=n.borderSkipped,i={};return t?(n.horizontal?n.base>n.x&&(t=ro(t,"left","right")):n.base<n.y&&(t=ro(t,"bottom","top")),i[t]=!0,i):i}(n);return t.isObject(u)?(f=+u.top||0,e=+u.right||0,o=+u.bottom||0,s=+u.left||0):f=e=o=s=+u||0,{t:h.top||f<0?0:f>r?r:f,r:h.right||e<0?0:e>i?i:e,b:h.bottom||o<0?0:o>r?r:o,l:h.left||s<0?0:s>i?i:s}}function li(n,t,i){var u=null===t,f=null===i,r=!(!n||u&&f)&&io(n);return r&&(u||t>=r.left&&t<=r.right)&&(f||i>=r.top&&i<=r.bottom)}function sc(n,i,r){var u,f,e=r.barThickness,o=i.stackCount,s=i.pixels[n],h=t.isNullOrUndef(e)?function(n,t){for(var e,f,r=n._length,i=1,u=t.length;i<u;++i)r=Math.min(r,Math.abs(t[i]-t[i-1]));for(i=0,u=n.getTicks().length;i<u;++i)f=n.getPixelForTick(i),r=i>0?Math.min(r,Math.abs(f-e)):r,e=f;return r}(i.scale,i.pixels):-1;return t.isNullOrUndef(e)?(u=h*r.categoryPercentage,f=r.barPercentage):(u=e*o,f=1),{chunk:u/o,ratio:f,start:s-u/2}}function fo(n,t){var i=n&&n.options.ticks||{},r=i.reverse,u=void 0===i.min?t:0,f=void 0===i.max?t:0;return{start:r?f:u,end:r?u:f}}function vc(n,t,i){var r=i/2,u=fo(n,r),f=fo(t,r);return{top:f.end,right:u.end,bottom:f.start,left:u.start}}function yc(n){var i,r,u,f;return t.isObject(n)?(i=n.top,r=n.right,u=n.bottom,f=n.left):i=r=u=f=n,{top:i,right:r,bottom:u,left:f}}function bt(n,i){return n.native?{x:n.x,y:n.y}:t.getRelativePosition(n,i)}function ai(n,t){for(var u,r,e,o,s=n._getSortedVisibleDatasetMetas(),i=0,f=s.length;i<f;++i)for(r=0,e=(u=s[i].data).length;r<e;++r)(o=u[r])._view.skip||t(o)}function vu(n,t){var i=[];return ai(n,function(n){n.inRange(t.x,t.y)&&i.push(n)}),i}function yu(n,t,i,r){var u=Number.POSITIVE_INFINITY,f=[];return ai(n,function(n){if(!i||n.inRange(t.x,t.y)){var o=n.getCenterPoint(),e=r(t,o);e<u?(f=[n],u=e):e===u&&f.push(n)}}),f}function pu(n){var t=-1!==n.indexOf("x"),i=-1!==n.indexOf("y");return function(n,r){var u=t?Math.abs(n.x-r.x):0,f=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(f,2))}}function wu(n,t,i){var r=bt(t,n);i.axis=i.axis||"x";var e=pu(i.axis),u=i.intersect?vu(n,r):yu(n,r,!1,e),f=[];return u.length?(n._getSortedVisibleDatasetMetas().forEach(function(n){var t=n.data[u[0]._index];t&&!t._view.skip&&f.push(t)}),f):[]}function vi(n,i){return t.where(n,function(n){return n.pos===i})}function or(n,t){return n.sort(function(n,i){var r=t?i:n,u=t?n:i;return r.weight===u.weight?r.index-u.index:r.weight-u.weight})}function co(n,t,i,r){return Math.max(n[i],t[i])+Math.max(n[r],t[r])}function pc(n,t,i){var e,o,s=i.box,r=n.maxPadding,u,f;return(i.size&&(n[i.pos]-=i.size),i.size=i.horizontal?s.height:s.width,n[i.pos]+=i.size,s.getPadding)&&(u=s.getPadding(),r.top=Math.max(r.top,u.top),r.left=Math.max(r.left,u.left),r.bottom=Math.max(r.bottom,u.bottom),r.right=Math.max(r.right,u.right)),(e=t.outerWidth-co(r,n,"left","right"),o=t.outerHeight-co(r,n,"top","bottom"),e!==n.w||o!==n.h)?(n.w=e,n.h=o,f=i.horizontal?[e,n.w]:[o,n.h],!(f[0]===f[1]||isNaN(f[0])&&isNaN(f[1]))):void 0}function wc(n,t){function r(n){var r={left:0,top:0,right:0,bottom:0};return n.forEach(function(n){r[n]=Math.max(t[n],i[n])}),r}var i=t.maxPadding;return r(n?["left","right"]:["top","bottom"])}function sr(n,t,i){for(var r,o,s,h,f=[],u=0,e=n.length;u<e;++u)(o=(r=n[u]).box).update(r.width||t.w,r.height||t.h,wc(r.horizontal,t)),pc(t,i,r)&&(h=!0,f.length&&(s=!0)),o.fullWidth||f.push(r);return s&&sr(f,t,i)||h}function lo(n,t,i){for(var s,r,h=i.padding,f=t.x,e=t.y,u=0,o=n.length;u<o;++u)r=(s=n[u]).box,s.horizontal?(r.left=r.fullWidth?h.left:t.left,r.right=r.fullWidth?i.outerWidth-h.right:t.left+t.w,r.top=e,r.bottom=e+r.height,r.width=r.right-r.left,e=r.bottom):(r.left=f,r.right=f+r.width,r.top=t.top,r.bottom=t.top+t.h,r.height=r.bottom-r.top,f=r.right);t.x=f;t.y=e}function yo(n,i){var r=t.getStyle(n,i),u=r&&r.match(/^(\d+)(\.\d+)?px$/);if(u)return Number(u[1])}function yi(n,t,i){n.addEventListener(t,i,du)}function gu(n,t,i){n.removeEventListener(t,i,du)}function nf(n,t,i,r,u){return{type:n,chart:t,"native":u||null,x:void 0!==i?i:null,y:void 0!==r?r:null}}function pi(n){var t=document.createElement("div");return t.className=n||"",t}function gc(n,i,r){var c,f,u,e,s=n[o]||(n[o]={}),h=s.resizer=function(n){var r=pi(ku),t=pi(ku+"-expand"),i=pi(ku+"-shrink"),u;return t.appendChild(pi()),i.appendChild(pi()),r.appendChild(t),r.appendChild(i),r._reset=function(){t.scrollLeft=1e6;t.scrollTop=1e6;i.scrollLeft=1e6;i.scrollTop=1e6},u=function(){r._reset();n()},yi(t,"scroll",u.bind(t,"expand")),yi(i,"scroll",u.bind(i,"shrink")),r}((c=function(){if(s.resizer){var t=r.options.maintainAspectRatio&&n.parentNode,u=t?t.clientWidth:0;i(nf("resize",r));t&&t.clientWidth<u&&r.canvas&&i(nf("resize",r))}},u=!1,e=[],function(){e=Array.prototype.slice.call(arguments);f=f||this;u||(u=!0,t.requestAnimFrame.call(window,function(){u=!1;c.apply(f,e)}))}));!function(n,i){var r=n[o]||(n[o]={}),u=r.renderProxy=function(n){n.animationName===kc&&i()};t.each(vo,function(t){yi(n,t,u)});r.reflow=!!n.offsetParent;n.classList.add(ao)}(n,function(){if(s.resizer){var t=n.parentNode;t&&t!==h.parentNode&&t.insertBefore(h,t.firstChild);h._reset()}})}function nl(n){var r=n[o]||{},i=r.resizer;delete r.resizer,function(n){var i=n[o]||{},r=i.renderProxy;r&&(t.each(vo,function(t){gu(n,t,r)}),delete i.renderProxy);n.classList.remove(ao)}(n);i&&i.parentNode&&i.parentNode.removeChild(i)}function tt(n,i){return i&&(t.isArray(i)?Array.prototype.push.apply(n,i):n.push(i)),n}function et(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function wo(n){var t=i.global;return{xPadding:n.xPadding,yPadding:n.yPadding,xAlign:n.xAlign,yAlign:n.yAlign,rtl:n.rtl,textDirection:n.textDirection,bodyFontColor:n.bodyFontColor,_bodyFontFamily:ft(n.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:ft(n.bodyFontStyle,t.defaultFontStyle),_bodyAlign:n.bodyAlign,bodyFontSize:ft(n.bodyFontSize,t.defaultFontSize),bodySpacing:n.bodySpacing,titleFontColor:n.titleFontColor,_titleFontFamily:ft(n.titleFontFamily,t.defaultFontFamily),_titleFontStyle:ft(n.titleFontStyle,t.defaultFontStyle),titleFontSize:ft(n.titleFontSize,t.defaultFontSize),_titleAlign:n.titleAlign,titleSpacing:n.titleSpacing,titleMarginBottom:n.titleMarginBottom,footerFontColor:n.footerFontColor,_footerFontFamily:ft(n.footerFontFamily,t.defaultFontFamily),_footerFontStyle:ft(n.footerFontStyle,t.defaultFontStyle),footerFontSize:ft(n.footerFontSize,t.defaultFontSize),_footerAlign:n.footerAlign,footerSpacing:n.footerSpacing,footerMarginTop:n.footerMarginTop,caretSize:n.caretSize,cornerRadius:n.cornerRadius,backgroundColor:n.backgroundColor,opacity:0,legendColorBackground:n.multiKeyBackground,displayColors:n.displayColors,borderColor:n.borderColor,borderWidth:n.borderWidth}}function hr(n,t){return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-n.xPadding:n.x+n.xPadding}function bo(n){return tt([],et(n))}function ko(){return t.merge(Object.create(null),[].slice.call(arguments),{merger:function(n,i,r,u){if("xAxes"===n||"yAxes"===n){var f,o,e,s=r[n].length;for(i[n]||(i[n]=[]),f=0;f<s;++f)e=r[n][f],o=cr(e.type,"xAxes"===n?"category":"linear"),f>=i[n].length&&i[n].push({}),!i[n][f].type||e.type&&e.type!==i[n][f].type?t.merge(i[n][f],[wi.getScaleDefaults(o),e]):t.merge(i[n][f],e)}else t._merger(n,i,r,u)}})}function ef(){return t.merge(Object.create(null),[].slice.call(arguments),{merger:function(n,i,r,u){var e=i[n]||Object.create(null),f=r[n];"scales"===n?i[n]=ko(e,f):"scale"===n?i[n]=t.merge(e,[wi.getScaleDefaults(f.type),f]):t._merger(n,i,r,u)}})}function rl(n){var r=n.options;t.each(n.scales,function(t){b.removeBox(n,t)});r=ef(i.global,i[n.config.type],r);n.options=n.config.options=r;n.ensureScalesHaveIDs();n.buildOrUpdateScales();n.tooltip._options=r.tooltips;n.tooltip.initialize()}function go(n,i,r){var u,f=function(n){return n.id===u};do u=i+r++;while(t.findIndex(n,f)>=0);return u}function ns(n){return"top"===n||"bottom"===n}function ts(n,t){return function(i,r){return i[n]===r[n]?i[t]-r[t]:i[n]-r[n]}}function gt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.");}function lr(n){this.options=n||{}}function ul(n,t,i){var u,e=n.getTicks().length,f=Math.min(t,e-1),r=n.getPixelForTick(f),o=n._startPixel,s=n._endPixel;if(!(i&&(u=1===e?Math.max(r-o,s-r):0===t?(n.getPixelForTick(1)-r)/2:(r-n.getPixelForTick(f-1))/2,(r+=f<t?u:-u)<o-1e-6||r>s+1e-6)))return r}function fl(n,i,r,u){function v(n){return{width:b[n]||0,height:k[n]||0,offset:rt[n]||0}}for(var c,nt,f,y,p,s,l,e,h,a,tt,it,w=r.length,b=[],k=[],rt=[],d=0,g=0,o=0;o<w;++o){if(f=r[o].label,y=r[o].major?i.major:i.minor,n.font=p=y.string,s=u[p]=u[p]||{data:{},gc:[]},l=y.lineHeight,e=h=0,ki(f)||ni(f)){if(ni(f))for(c=0,nt=f.length;c<nt;++c)a=f[c],ki(a)||ni(a)||(e=t.measureText(n,s.data,s.gc,e,a),h+=l)}else e=t.measureText(n,s.data,s.gc,e,f),h=l;b.push(e);k.push(h);rt.push(l/2);d=Math.max(e,d);g=Math.max(h,g)}return function(n,i){t.each(n,function(n){var t,r=n.gc,u=r.length/2;if(u>i){for(t=0;t<u;++t)delete n.data[r[t]];r.splice(0,u)}})}(u,w),tt=b.indexOf(d),it=k.indexOf(g),{first:v(0),last:v(w-1),widest:v(tt),highest:v(it)}}function di(n){return n.drawTicks?n.tickMarkLength:0}function hf(n){var i,r;return n.display?(i=t.options._parseFont(n),r=t.options.toPadding(n.padding),i.lineHeight+r.height):0}function is(n,r){return t.extend(t.options._parseFont({fontFamily:ti(r.fontFamily,n.fontFamily),fontSize:ti(r.fontSize,n.fontSize),fontStyle:ti(r.fontStyle,n.fontStyle),lineHeight:ti(r.lineHeight,n.lineHeight)}),{color:t.options.resolve([r.fontColor,n.fontColor,i.global.defaultFontColor])})}function cf(n){var t=is(n,n.minor);return{minor:t,major:n.major.enabled?is(n,n.major):t}}function lf(n){for(var i,u=[],t=0,r=n.length;t<r;++t)void 0!==(i=n[t])._index&&u.push(i);return u}function ar(n,t,i,r){var h,u,s,f,e=ti(i,0),c=Math.min(ti(r,n.length),n.length),o=0;for(t=Math.ceil(t),r&&(t=(h=r-i)/Math.floor(h/t)),f=e;f<0;)o++,f=Math.round(e+o*t);for(u=Math.max(e,0);u<c;u++)s=n[u],u===f?(s._index=u,o++,f=Math.round(e+o*t)):delete s.label}function sl(n,t,i,r){for(var f,s=n.options,h=function(n,t,i){var r=[i.type,void 0===t&&void 0===i.stack?i.index:"",i.stack].join(".");return void 0===n[r]&&(n[r]={pos:[],neg:[]}),n[r]}(t,s.stacked,i),e=h.pos,o=h.neg,c=r.length,u=0;u<c;++u)f=n._parseValue(r[u]),isNaN(f.min)||isNaN(f.max)||i.data[u].hidden||(e[u]=e[u]||0,o[u]=o[u]||0,s.relativePoints?e[u]=100:f.min<0||f.max<0?o[u]+=f.min:e[u]+=f.max)}function hl(n,t,i){for(var u,f=i.length,r=0;r<f;++r)u=n._parseValue(i[r]),isNaN(u.min)||isNaN(u.max)||t.data[r].hidden||(n.min=Math.min(n.min,u.min),n.max=Math.max(n.max,u.max))}function pr(n,i){return t.isFinite(n)&&n>=0?n:i}function bf(n){var t=n.ticks;return t.display&&n.display?wr(t.fontSize,i.global.defaultFontSize)+2*t.backdropPaddingY:0}function os(n,t,i,r,u){return n===r||n===u?{start:t-i/2,end:t+i/2}:n<r||n>u?{start:t-i,end:t}:{start:t,end:t+i}}function al(n){return 0===n||180===n?"center":n<180?"left":"right"}function vl(n,i,r,u){var f,o,e=r.y+u/2;if(t.isArray(i))for(f=0,o=i.length;f<o;++f)n.fillText(i[f],r.x,e),e+=u;else n.fillText(i,r.x,e)}function yl(n,t,i){90===n||270===n?i.y-=t.h/2:(n>270||n<90)&&(i.y-=t.h)}function br(n){return t.isNumber(n)?n:0}function ls(n,t){return n-t}function as(n){return t.valueOrDefault(n.time.min,n.ticks.min)}function vs(n){return t.valueOrDefault(n.time.max,n.ticks.max)}function si(n,t,i,r){var u=function(n,t,i){for(var u,f,r,e=0,o=n.length-1;e>=0&&e<=o;){if(f=n[(u=e+o>>1)-1]||null,r=n[u],!f)return{lo:null,hi:r};if(r[t]<i)e=u+1;else{if(!(f[t]>i))return{lo:f,hi:r};o=u-1}}return{lo:r,hi:null}}(n,t,i),f=u.lo?u.hi?u.lo:n[n.length-2]:n[0],e=u.lo?u.hi?u.hi:n[n.length-1]:n[1],o=e[t]-f[t],s=o?(i-f[t])/o:0,h=(e[r]-f[r])*s;return f[r]+h}function ne(n,i){var e=n._adapter,o=n.options.time,u=o.parser,f=u||o.format,r=i;return"function"==typeof u&&(r=u(r)),t.isFinite(r)||(r="string"==typeof f?e.parse(r,f):e.parse(r)),null!==r?+r:(u||"function"!=typeof f||(r=f(i),t.isFinite(r)||(r=e.parse(r))),r)}function ri(n,i){if(t.isNullOrUndef(i))return null;var u=n.options.time,r=ne(n,n.getRightValue(i));return null===r?r:(u.round&&(r=+n._adapter.startOf(r,u.round)),r)}function ys(n,t,i,r){for(var f,e,o=v.length,u=v.indexOf(n);u<o-1;++u)if(e=(f=kr[v[u]]).steps?f.steps:gf,f.common&&Math.ceil((i-t)/(e*f.size))<=r)return v[u];return v[o-1]}function ps(n,t,i){for(var f,u=[],e={},o=t.length,r=0;r<o;++r)e[f=t[r]]=r,u.push({value:f,major:!1});return 0!==o&&i?function(n,t,i,r){for(var f,e=n._adapter,o=+e.startOf(t[0].value,r),s=t[t.length-1].value,u=o;u<=s;u=+e.add(u,1,r))(f=i[u])>=0&&(t[f].major=!0);return t}(n,u,e,i):u}function wl(n,t,i){var r,f=n._model||{},u=f.fill;if(void 0===u&&(u=!!f.backgroundColor),!1===u||null===u)return!1;if(!0===u)return"origin";if(r=parseFloat(u,10),isFinite(r)&&Math.floor(r)===r)return"-"!==u[0]&&"+"!==u[0]||(r=t+r),!(r===t||r<0||r>=i)&&r;switch(u){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return u;default:return!1}}function bl(n){return(n.el._scale||{}).getPointPositionForValue?function(n){var u,s,f,i,r,t=n.el._scale,e=t.options,h=t.chart.data.labels.length,o=n.fill,c=[];if(!h)return null;for(u=e.ticks.reverse?t.max:t.min,s=e.ticks.reverse?t.min:t.max,f=t.getPointPositionForValue(0,u),i=0;i<h;++i)r="start"===o||"end"===o?t.getPointPositionForValue(i,"start"===o?u:s):t.getBasePosition(i),e.gridLines.circular&&(r.cx=f.x,r.cy=f.y,r.angle=t.getIndexAngle(i)-Math.PI/2),c.push(r);return c}(n):function(n){var e,r=n.el._model||{},u=n.el._scale||{},f=n.fill,i=null;if(isFinite(f))return null;if("start"===f?i=void 0===r.scaleBottom?u.bottom:r.scaleBottom:"end"===f?i=void 0===r.scaleTop?u.top:r.scaleTop:void 0!==r.scaleZero?i=r.scaleZero:u.getBasePixel&&(i=u.getBasePixel()),null!=i){if(void 0!==i.x&&void 0!==i.y)return i;if(t.isFinite(i))return{x:(e=u.isHorizontal())?i:null,y:e?null:i}}return null}(n)}function kl(n,t,i){var u,r=n[t].fill,f=[t];if(!i)return r;for(;!1!==r&&-1===f.indexOf(r);){if(!isFinite(r))return r;if(!(u=n[r]))return!1;if(u.visible)return r;f.push(r);r=u.fill}return!1}function dl(n){var t=n.fill,i="dataset";return!1===t?null:(isFinite(t)||(i="boundary"),ds[i](n))}function gs(n){return n&&!n.skip}function nh(n,i,r,u,f){var e,o,s,h;if(u&&f){for(n.moveTo(i[0].x,i[0].y),e=1;e<u;++e)t.canvas.lineTo(n,i[e-1],i[e]);if(void 0===r[0].angle)for(n.lineTo(r[f-1].x,r[f-1].y),e=f-1;e>0;--e)t.canvas.lineTo(n,r[e],r[e-1],!0);else for(o=r[0].cx,s=r[0].cy,h=Math.sqrt(Math.pow(r[0].x-o,2)+Math.pow(r[0].y-s,2)),e=f-1;e>0;--e)n.arc(o,s,h,r[e].angle,r[e-1].angle,!0)}}function gl(n,t,i,r,u,f){var e,y,b,l,a,v,p,k,w=t.length,d=r.spanGaps,o=[],s=[],h=0,c=0;for(n.beginPath(),e=0,y=w;e<y;++e)a=i(l=t[b=e%w]._view,b,r),v=gs(l),p=gs(a),f&&void 0===k&&v&&(y=w+(k=e+1)),v&&p?(h=o.push(l),c=s.push(a)):h&&c&&(d?(v&&o.push(l),p&&s.push(a)):(nh(n,o,s,h,c),h=c=0,o=[],s=[]));nh(n,o,s,h,c);n.closePath();n.fillStyle=u;n.fill()}function ie(n,t){return n.usePointStyle&&n.boxWidth>t?t:n.boxWidth}function th(n,t){var i=new re({ctx:n.ctx,options:t,chart:n});b.configure(n,i,t);b.addBox(n,i);n.legend=i}function rh(n,t){var i=new ue({ctx:n.ctx,options:t,chart:n});b.configure(n,i,t);b.addBox(n,i);n.titleBlock=i}var st,e,vt,tu,iu,s,hi,le,u,y,ui,ae,ru,ir,rr,p,d,to,ou,ei,yt,hu,lu,eo,oo,so,ht,ho,au,kt,er,du,tf,po,dt,uf,cr,ot,r,vr,vf,us,pf,fs,kf,ss,te,ws,bs,ks,ds,re,ih,it,ue,fe,uh;n=n&&n.hasOwnProperty("default")?n.default:n;st={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e=function(n,t){return n(t={exports:{}},t.exports),t.exports}(function(n){var u={},r,t,i,f,e;for(r in st)st.hasOwnProperty(r)&&(u[st[r]]=r);t=n.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(i in t)if(t.hasOwnProperty(i)){if(!("channels"in t[i]))throw new Error("missing channels property: "+i);if(!("labels"in t[i]))throw new Error("missing channel labels property: "+i);if(t[i].labels.length!==t[i].channels)throw new Error("channel and label counts mismatch: "+i);f=t[i].channels;e=t[i].labels;delete t[i].channels;delete t[i].labels;Object.defineProperty(t[i],"channels",{value:f});Object.defineProperty(t[i],"labels",{value:e})}t.rgb.hsl=function(n){var i,s,u=n[0]/255,f=n[1]/255,e=n[2]/255,r=Math.min(u,f,e),t=Math.max(u,f,e),o=t-r;return t===r?i=0:u===t?i=(f-e)/o:f===t?i=2+(e-u)/o:e===t&&(i=4+(u-f)/o),(i=Math.min(60*i,360))<0&&(i+=360),s=(r+t)/2,[i,100*(t===r?0:s<=.5?o/(t+r):o/(2-t-r)),100*s]};t.rgb.hsv=function(n){var e,o,s,t,h,r=n[0]/255,u=n[1]/255,f=n[2]/255,i=Math.max(r,u,f),c=i-Math.min(r,u,f),l=function(n){return(i-n)/6/c+.5};return 0===c?t=h=0:(h=c/i,e=l(r),o=l(u),s=l(f),r===i?t=s-o:u===i?t=1/3+e-s:f===i&&(t=2/3+o-e),t<0?t+=1:t>1&&(t-=1)),[360*t,100*h,100*i]};t.rgb.hwb=function(n){var r=n[0],u=n[1],i=n[2];return[t.rgb.hsl(n)[0],100*1/255*Math.min(r,Math.min(u,i)),100*(i=1-1/255*Math.max(r,Math.max(u,i)))]};t.rgb.cmyk=function(n){var t,i=n[0]/255,r=n[1]/255,u=n[2]/255;return[100*((1-i-(t=Math.min(1-i,1-r,1-u)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-u-t)/(1-t)||0),100*t]};t.rgb.keyword=function(n){var o=u[n],s,t,i,f,r,h,e;if(o)return o;f=1/0;for(r in st)st.hasOwnProperty(r)&&(h=st[r],e=(t=n,i=h,Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2)+Math.pow(t[2]-i[2],2)),e<f&&(f=e,s=r));return s};t.keyword.rgb=function(n){return st[n]};t.rgb.xyz=function(n){var t=n[0]/255,i=n[1]/255,r=n[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*i+.0722*r),100*(.0193*t+.1192*i+.9505*r)]};t.rgb.lab=function(n){var f=t.rgb.xyz(n),r=f[0],i=f[1],u=f[2];return i/=100,u/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(r-i),200*(i-(u=u>.008856?Math.pow(u,1/3):7.787*u+16/116))]};t.hsl.rgb=function(n){var i,e,t,s,u,h=n[0]/360,o=n[1]/100,r=n[2]/100,f;if(0===o)return[u=255*r,u,u];for(i=2*r-(e=r<.5?r*(1+o):r+o-r*o),s=[0,0,0],f=0;f<3;f++)(t=h+1/3*-(f-1))<0&&t++,t>1&&t--,u=6*t<1?i+6*(e-i)*t:2*t<1?e:3*t<2?i+(e-i)*(2/3-t)*6:i,s[f]=255*u;return s};t.hsl.hsv=function(n){var f=n[0],i=n[1]/100,t=n[2]/100,u=i,r=Math.max(t,.01);return i*=(t*=2)<=1?t:2-t,u*=r<=1?r:2-r,[f,100*(0===t?2*u/(r+u):2*i/(t+i)),50*(t+i)]};t.hsv.rgb=function(n){var r=n[0]/60,u=n[1]/100,t=n[2]/100,s=Math.floor(r)%6,o=r-Math.floor(r),i=255*t*(1-u),f=255*t*(1-u*o),e=255*t*(1-u*(1-o));switch(t*=255,s){case 0:return[t,e,i];case 1:return[f,t,i];case 2:return[i,t,e];case 3:return[i,f,t];case 4:return[e,i,t];case 5:return[t,i,f]}};t.hsv.hsl=function(n){var t,i,u,o=n[0],r=n[1]/100,f=n[2]/100,e=Math.max(f,.01);return u=(2-r)*f,i=r*e,[o,100*(i=(i/=(t=(2-r)*e)<=1?t:2-t)||0),100*(u/=2)]};t.hwb.rgb=function(n){var s,i,o,r,u,f,e,l=n[0]/360,t=n[1]/100,h=n[2]/100,c=t+h;switch(c>1&&(t/=c,h/=c),o=6*l-(s=Math.floor(6*l)),0!=(1&s)&&(o=1-o),r=t+o*((i=1-h)-t),s){default:case 6:case 0:u=i;f=r;e=t;break;case 1:u=r;f=i;e=t;break;case 2:u=t;f=i;e=r;break;case 3:u=t;f=r;e=i;break;case 4:u=r;f=t;e=i;break;case 5:u=i;f=t;e=r}return[255*u,255*f,255*e]};t.cmyk.rgb=function(n){var i=n[0]/100,r=n[1]/100,u=n[2]/100,t=n[3]/100;return[255*(1-Math.min(1,i*(1-t)+t)),255*(1-Math.min(1,r*(1-t)+t)),255*(1-Math.min(1,u*(1-t)+t))]};t.xyz.rgb=function(n){var r,t,i,u=n[0]/100,f=n[1]/100,e=n[2]/100;return t=-.9689*u+1.8758*f+.0415*e,i=.0557*u+-.204*f+1.057*e,r=(r=3.2406*u+-1.5372*f+-.4986*e)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(r=Math.min(Math.max(0,r),1)),255*(t=Math.min(Math.max(0,t),1)),255*(i=Math.min(Math.max(0,i),1))]};t.xyz.lab=function(n){var i=n[0],t=n[1],r=n[2];return t/=100,r/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(i-t),200*(t-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]};t.lab.xyz=function(n){var i,t,r,o=n[0];i=n[1]/500+(t=(o+16)/116);r=t-n[2]/200;var u=Math.pow(t,3),f=Math.pow(i,3),e=Math.pow(r,3);return t=u>.008856?u:(t-16/116)/7.787,i=f>.008856?f:(i-16/116)/7.787,r=e>.008856?e:(r-16/116)/7.787,[i*=95.047,t*=100,r*=108.883]};t.lab.lch=function(n){var t,u=n[0],i=n[1],r=n[2];return(t=180*Math.atan2(r,i)/Math.PI)<0&&(t+=360),[u,Math.sqrt(i*i+r*r),t]};t.lch.lab=function(n){var t,r=n[0],i=n[1];return t=n[2]/180*Math.PI,[r,i*Math.cos(t),i*Math.sin(t)]};t.rgb.ansi16=function(n){var u=n[0],f=n[1],e=n[2],i=1 in arguments?arguments[1]:t.rgb.hsv(n)[2],r;return 0===(i=Math.round(i/50))?30:(r=30+(Math.round(e/255)<<2|Math.round(f/255)<<1|Math.round(u/255)),2===i&&(r+=60),r)};t.hsv.ansi16=function(n){return t.rgb.ansi16(t.hsv.rgb(n),n[2])};t.rgb.ansi256=function(n){var t=n[0],i=n[1],r=n[2];return t===i&&i===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/51)+6*Math.round(i/51)+Math.round(r/51)};t.ansi16.rgb=function(n){var t=n%10,i;return 0===t||7===t?(n>50&&(t+=3.5),[t=t/10.5*255,t,t]):(i=.5*(1+~~(n>50)),[(1&t)*i*255,(t>>1&1)*i*255,(t>>2&1)*i*255])};t.ansi256.rgb=function(n){var t,i;return n>=232?(t=10*(n-232)+8,[t,t,t]):(n-=16,[Math.floor(n/36)*51,Math.floor((i=n%36)/6)*51,i%6*51])};t.rgb.hex=function(n){var t=(((255&Math.round(n[0]))<<16)+((255&Math.round(n[1]))<<8)+(255&Math.round(n[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t};t.hex.rgb=function(n){var r=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),t,i;return r?(t=r[0],3===r[0].length&&(t=t.split("").map(function(n){return n+n}).join("")),i=parseInt(t,16),[i>>16&255,i>>8&255,255&i]):[0,0,0]};t.rgb.hcg=function(n){var f,i=n[0]/255,r=n[1]/255,u=n[2]/255,e=Math.max(Math.max(i,r),u),o=Math.min(Math.min(i,r),u),t=e-o;return f=t<=0?0:e===i?(r-u)/t%6:e===r?2+(u-i)/t:4+(i-r)/t+4,f/=6,[360*(f%=1),100*t,100*(t<1?o/(1-t):0)]};t.hsl.hcg=function(n){var r=n[1]/100,t=n[2]/100,i=1,u=0;return(i=t<.5?2*r*t:2*r*(1-t))<1&&(u=(t-.5*i)/(1-i)),[n[0],100*i,100*u]};t.hsv.hcg=function(n){var u=n[1]/100,i=n[2]/100,t=u*i,r=0;return t<1&&(r=(i-t)/(1-t)),[n[0],100*t,100*r]};t.hcg.rgb=function(n){var s=n[0]/360,i=n[1]/100,r=n[2]/100;if(0===i)return[255*r,255*r,255*r];var u,t=[0,0,0],o=s%1*6,f=o%1,e=1-f;switch(Math.floor(o)){case 0:t[0]=1;t[1]=f;t[2]=0;break;case 1:t[0]=e;t[1]=1;t[2]=0;break;case 2:t[0]=0;t[1]=1;t[2]=f;break;case 3:t[0]=0;t[1]=e;t[2]=1;break;case 4:t[0]=f;t[1]=0;t[2]=1;break;default:t[0]=1;t[1]=0;t[2]=e}return u=(1-i)*r,[255*(i*t[0]+u),255*(i*t[1]+u),255*(i*t[2]+u)]};t.hcg.hsv=function(n){var t=n[1]/100,i=t+n[2]/100*(1-t),r=0;return i>0&&(r=t/i),[n[0],100*r,100*i]};t.hcg.hsl=function(n){var i=n[1]/100,t=n[2]/100*(1-i)+.5*i,r=0;return t>0&&t<.5?r=i/(2*t):t>=.5&&t<1&&(r=i/(2*(1-t))),[n[0],100*r,100*t]};t.hcg.hwb=function(n){var t=n[1]/100,i=t+n[2]/100*(1-t);return[n[0],100*(i-t),100*(1-i)]};t.hwb.hcg=function(n){var u=n[1]/100,i=1-n[2]/100,t=i-u,r=0;return t<1&&(r=(i-t)/(1-t)),[n[0],100*t,100*r]};t.apple.rgb=function(n){return[n[0]/257,n[1]/257,n[2]/257]};t.rgb.apple=function(n){return[n[0]*257,n[1]*257,n[2]*257]};t.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};t.gray.hsl=t.gray.hsv=function(n){return[0,0,n[0]]};t.gray.hwb=function(n){return[0,100,n[0]]};t.gray.cmyk=function(n){return[0,0,0,n[0]]};t.gray.lab=function(n){return[n[0],0,0]};t.gray.hex=function(n){var t=255&Math.round(n[0]/100*255),i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i};t.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/765*100]}});e.rgb;e.hsl;e.hsv;e.hwb;e.cmyk;e.xyz;e.lab;e.lch;e.hex;e.keyword;e.ansi16;e.ansi256;e.hcg;e.apple;e.gray;vt={};Object.keys(e).forEach(function(n){vt[n]={};Object.defineProperty(vt[n],"channels",{value:e[n].channels});Object.defineProperty(vt[n],"labels",{value:e[n].labels});var t=function(n){for(var t,i=fh(n),u={},f=Object.keys(i),e=f.length,r=0;r<e;r++)t=f[r],null!==i[t].parent&&(u[t]=oh(t,i));return u}(n);Object.keys(t).forEach(function(i){var r=t[i];vt[n][i]=function(n){var t=function(t){var i,u,r;if(null==t)return t;if(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),i=n(t),"object"==typeof i)for(u=i.length,r=0;r<u;r++)i[r]=Math.round(i[r]);return i};return"conversion"in n&&(t.conversion=n.conversion),t}(r);vt[n][i].raw=function(n){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n(t))};return"conversion"in n&&(t.conversion=n.conversion),t}(r)})});var sh=vt,dr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},k={getRgba:gr,getHsla:nu,getRgb:function(n){var t=gr(n);return t&&t.slice(0,3)},getHsl:function(n){var t=nu(n);return t&&t.slice(0,3)},getHwb:ee,getAlpha:function(n){var t=gr(n);return t?t[3]:(t=nu(n))?t[3]:(t=ee(n))?t[3]:void 0},hexString:function(n,t){return t=void 0!==t&&3===n.length?t:n[3],"#"+gi(n[0])+gi(n[1])+gi(n[2])+(t>=0&&t<1?gi(Math.round(255*t)):"")},rgbString:function(n,t){return t<1||n[3]&&n[3]<1?oe(n,t):"rgb("+n[0]+", "+n[1]+", "+n[2]+")"},rgbaString:oe,percentString:function(n,t){if(t<1||n[3]&&n[3]<1)return se(n,t);var i=Math.round(n[0]/255*100),r=Math.round(n[1]/255*100),u=Math.round(n[2]/255*100);return"rgb("+i+"%, "+r+"%, "+u+"%)"},percentaString:se,hslString:function(n,t){return t<1||n[3]&&n[3]<1?he(n,t):"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)"},hslaString:he,hwbString:function(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(n){return tu[n.slice(0,3)]}};tu={};for(iu in dr)tu[dr[iu]]=iu;s=function(n){return n instanceof s?n:this instanceof s?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof n?(t=k.getRgba(n))?this.setValues("rgb",t):(t=k.getHsla(n))?this.setValues("hsl",t):(t=k.getHwb(n))&&this.setValues("hwb",t):"object"==typeof n&&(void 0!==(t=n).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new s(n);var t};s.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var n=this.values;return 1!==n.alpha?n.hwb.concat([n.alpha]):n.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var n=this.values;return n.rgb.concat([n.alpha])},hslaArray:function(){var n=this.values;return n.hsl.concat([n.alpha])},alpha:function(n){return void 0===n?this.values.alpha:(this.setValues("alpha",n),this)},red:function(n){return this.setChannel("rgb",0,n)},green:function(n){return this.setChannel("rgb",1,n)},blue:function(n){return this.setChannel("rgb",2,n)},hue:function(n){return n&&(n=(n%=360)<0?360+n:n),this.setChannel("hsl",0,n)},saturation:function(n){return this.setChannel("hsl",1,n)},lightness:function(n){return this.setChannel("hsl",2,n)},saturationv:function(n){return this.setChannel("hsv",1,n)},whiteness:function(n){return this.setChannel("hwb",1,n)},blackness:function(n){return this.setChannel("hwb",2,n)},value:function(n){return this.setChannel("hsv",2,n)},cyan:function(n){return this.setChannel("cmyk",0,n)},magenta:function(n){return this.setChannel("cmyk",1,n)},yellow:function(n){return this.setChannel("cmyk",2,n)},black:function(n){return this.setChannel("cmyk",3,n)},hexString:function(){return k.hexString(this.values.rgb)},rgbString:function(){return k.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return k.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return k.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return k.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return k.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return k.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return k.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var n=this.values.rgb;return n[0]<<16|n[1]<<8|n[2]},luminosity:function(){for(var i,r=this.values.rgb,n=[],t=0;t<r.length;t++)i=r[t]/255,n[t]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(n){var t=this.luminosity(),i=n.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level:function(n){var t=this.contrast(n);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var n=this.values.rgb;return(299*n[0]+587*n[1]+114*n[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],n=0;n<3;n++)t[n]=255-this.values.rgb[n];return this.setValues("rgb",t),this},lighten:function(n){var t=this.values.hsl;return t[2]+=t[2]*n,this.setValues("hsl",t),this},darken:function(n){var t=this.values.hsl;return t[2]-=t[2]*n,this.setValues("hsl",t),this},saturate:function(n){var t=this.values.hsl;return t[1]+=t[1]*n,this.setValues("hsl",t),this},desaturate:function(n){var t=this.values.hsl;return t[1]-=t[1]*n,this.setValues("hsl",t),this},whiten:function(n){var t=this.values.hwb;return t[1]+=t[1]*n,this.setValues("hwb",t),this},blacken:function(n){var t=this.values.hwb;return t[2]+=t[2]*n,this.setValues("hwb",t),this},greyscale:function(){var n=this.values.rgb,t=.3*n[0]+.59*n[1]+.11*n[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(n){var t=this.values.alpha;return this.setValues("alpha",t-t*n),this},opaquer:function(n){var t=this.values.alpha;return this.setValues("alpha",t+t*n),this},rotate:function(n){var t=this.values.hsl,i=(t[0]+n)%360;return t[0]=i<0?360+i:i,this.setValues("hsl",t),this},mix:function(n,t){var i=n,f=void 0===t?.5:t,r=2*f-1,e=this.alpha()-i.alpha(),u=((r*e==-1?r:(r+e)/(1+r*e))+1)/2,o=1-u;return this.rgb(u*this.red()+o*i.red(),u*this.green()+o*i.green(),u*this.blue()+o*i.blue()).alpha(this.alpha()*f+i.alpha()*(1-f))},toJSON:function(){return this.rgb()},clone:function(){var n,r,u=new s,i=this.values,f=u.values;for(var t in i)i.hasOwnProperty(t)&&(n=i[t],"[object Array]"===(r={}.toString.call(n))?f[t]=n.slice(0):"[object Number]"===r?f[t]=n:console.error("unexpected color value:",n));return u}};s.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};s.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};s.prototype.getValues=function(n){for(var i=this.values,r={},t=0;t<n.length;t++)r[n.charAt(t)]=i[n][t];return 1!==i.alpha&&(r.a=i.alpha),r};s.prototype.setValues=function(n,t){var i,o,r=this.values,e=this.spaces,h=this.maxes,u=1,s,f;if(this.valid=!0,"alpha"===n)u=t;else if(t.length)r[n]=t.slice(0,n.length),u=t[n.length];else if(void 0!==t[n.charAt(0)]){for(i=0;i<n.length;i++)r[n][i]=t[n.charAt(i)];u=t.a}else if(void 0!==t[e[n][0]]){for(s=e[n],i=0;i<n.length;i++)r[n][i]=t[s[i]];u=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===u?r.alpha:u)),"alpha"===n)return!1;for(i=0;i<n.length;i++)o=Math.max(0,Math.min(h[n][i],r[n][i])),r[n][i]=Math.round(o);for(f in e)f!==n&&(r[f]=sh[n][f](r[n]));return!0};s.prototype.setSpace=function(n,t){var i=t[0];return void 0===i?this.getValues(n):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(n,i),this)};s.prototype.setChannel=function(n,t,i){var r=this.values[n];return void 0===i?r[t]:i===r[t]?this:(r[t]=i,this.setValues(n,r),this)};"undefined"!=typeof window&&(window.Color=s);hi=s;u={noop:function(){},uid:(le=0,function(){return le++}),isNullOrUndef:function(n){return null==n},isArray:function(n){if(Array.isArray&&Array.isArray(n))return!0;var t=Object.prototype.toString.call(n);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)},isFinite:function(n){return("number"==typeof n||n instanceof Number)&&isFinite(n)},valueOrDefault:function(n,t){return void 0===n?t:n},valueAtIndexOrDefault:function(n,t,i){return u.valueOrDefault(u.isArray(n)?n[t]:n,i)},callback:function(n,t,i){if(n&&"function"==typeof n.call)return n.apply(i,t)},each:function(n,t,i,r){var f,e,o;if(u.isArray(n))if(e=n.length,r)for(f=e-1;f>=0;f--)t.call(i,n[f],f);else for(f=0;f<e;f++)t.call(i,n[f],f);else if(u.isObject(n))for(e=(o=Object.keys(n)).length,f=0;f<e;f++)t.call(i,n[o[f]],o[f])},arrayEquals:function(n,t){var i,e,r,f;if(!n||!t||n.length!==t.length)return!1;for(i=0,e=n.length;i<e;++i)if(r=n[i],f=t[i],r instanceof Array&&f instanceof Array){if(!u.arrayEquals(r,f))return!1}else if(r!==f)return!1;return!0},clone:function(n){if(u.isArray(n))return n.map(u.clone);if(u.isObject(n)){for(var r=Object.create(n),i=Object.keys(n),f=i.length,t=0;t<f;++t)r[i[t]]=u.clone(n[i[t]]);return r}return n},_merger:function(n,t,i,r){if(ce(n)){var e=t[n],f=i[n];u.isObject(e)&&u.isObject(f)?u.merge(e,f,r):t[n]=u.clone(f)}},_mergerIf:function(n,t,i){if(ce(n)){var f=t[n],r=i[n];u.isObject(f)&&u.isObject(r)?u.mergeIf(f,r):t.hasOwnProperty(n)||(t[n]=u.clone(r))}},merge:function(n,t,i){var e,r,o,s,f,h=u.isArray(t)?t:[t],c=h.length;if(!u.isObject(n))return n;for(e=(i=i||{}).merger||u._merger,r=0;r<c;++r)if(t=h[r],u.isObject(t))for(f=0,s=(o=Object.keys(t)).length;f<s;++f)e(o[f],n,t,i);return n},mergeIf:function(n,t){return u.merge(n,t,{merger:u._mergerIf})},extend:Object.assign||function(n){return u.merge(n,[].slice.call(arguments,1),{merger:function(n,t,i){t[n]=i[n]}})},inherits:function(n){var i=this,t=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return i.apply(this,arguments)},r=function(){this.constructor=t};return r.prototype=i.prototype,t.prototype=new r,t.extend=u.inherits,n&&u.extend(t.prototype,n),t.__super__=i.prototype,t},_deprecated:function(n,t,i,r){void 0!==t&&console.warn(n+': "'+i+'" is deprecated. Please use "'+r+'" instead')}};y=u;u.callCallback=u.callback;u.indexOf=function(n,t,i){return Array.prototype.indexOf.call(n,t,i)};u.getValueOrDefault=u.valueOrDefault;u.getValueAtIndexOrDefault=u.valueAtIndexOrDefault;ui={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return-n*(n-2)},easeInOutQuad:function(n){return(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1)},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return(n-=1)*n*n+1},easeInOutCubic:function(n){return(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return-((n-=1)*n*n*n-1)},easeInOutQuart:function(n){return(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return(n-=1)*n*n*n*n+1},easeInOutQuint:function(n){return(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},easeInSine:function(n){return 1-Math.cos(n*(Math.PI/2))},easeOutSine:function(n){return Math.sin(n*(Math.PI/2))},easeInOutSine:function(n){return-.5*(Math.cos(Math.PI*n)-1)},easeInExpo:function(n){return 0===n?0:Math.pow(2,10*(n-1))},easeOutExpo:function(n){return 1===n?1:1-Math.pow(2,-10*n)},easeInOutExpo:function(n){return 0===n?0:1===n?1:(n/=.5)<1?.5*Math.pow(2,10*(n-1)):.5*(2-Math.pow(2,-10*--n))},easeInCirc:function(n){return n>=1?n:-(Math.sqrt(1-n*n)-1)},easeOutCirc:function(n){return Math.sqrt(1-(n-=1)*n)},easeInOutCirc:function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},easeInElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:1===n?1:(t||(t=.3),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(n-=1))*Math.sin((n-r)*2*Math.PI/t))},easeOutElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:1===n?1:(t||(t=.3),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*n)*Math.sin((n-r)*2*Math.PI/t)+1)},easeInOutElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:2==(n/=.5)?1:(t||(t=.45),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),n<1?i*Math.pow(2,10*(n-=1))*Math.sin((n-r)*2*Math.PI/t)*-.5:i*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*2*Math.PI/t)*.5+1)},easeInBack:function(n){var t=1.70158;return n*n*((t+1)*n-t)},easeOutBack:function(n){var t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack:function(n){var t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:function(n){return 1-ui.easeOutBounce(1-n)},easeOutBounce:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:function(n){return n<.5?.5*ui.easeInBounce(2*n):.5*ui.easeOutBounce(2*n-1)+.5}};ae={effects:ui};y.easingEffects=ui;var h=Math.PI,hh=h/180,ch=2*h,w=h/2,ci=h/4,ve=2*h/3,nr={clear:function(n){n.ctx.clearRect(0,0,n.width,n.height)},roundedRect:function(n,t,i,r,u,f){if(f){var e=Math.min(f,u/2,r/2),o=t+e,s=i+e,c=t+r-e,l=i+u-e;n.moveTo(t,s);o<c&&s<l?(n.arc(o,s,e,-h,-w),n.arc(c,s,e,-w,0),n.arc(c,l,e,0,w),n.arc(o,l,e,w,h)):o<c?(n.moveTo(o,i),n.arc(c,s,e,-w,w),n.arc(o,s,e,w,h+w)):s<l?(n.arc(o,s,e,-h,0),n.arc(o,l,e,0,h)):n.arc(o,s,e,-h,h);n.closePath();n.moveTo(t,i)}else n.rect(t,i,r,u)},drawPoint:function(n,t,i,r,u,f){var a,o,s,c,l,e=(f||0)*hh;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(a=t.toString())||"[object HTMLCanvasElement]"===a))return n.save(),n.translate(r,u),n.rotate(e),n.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void n.restore();if(!(isNaN(i)||i<=0)){switch(n.beginPath(),t){default:n.arc(r,u,i,0,ch);n.closePath();break;case"triangle":n.moveTo(r+Math.sin(e)*i,u-Math.cos(e)*i);e+=ve;n.lineTo(r+Math.sin(e)*i,u-Math.cos(e)*i);e+=ve;n.lineTo(r+Math.sin(e)*i,u-Math.cos(e)*i);n.closePath();break;case"rectRounded":c=i-(l=.516*i);o=Math.cos(e+ci)*c;s=Math.sin(e+ci)*c;n.arc(r-o,u-s,l,e-h,e-w);n.arc(r+s,u-o,l,e-w,e);n.arc(r+o,u+s,l,e,e+w);n.arc(r-s,u+o,l,e+w,e+h);n.closePath();break;case"rect":if(!f){c=Math.SQRT1_2*i;n.rect(r-c,u-c,2*c,2*c);break}e+=ci;case"rectRot":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+s,u-o);n.lineTo(r+o,u+s);n.lineTo(r-s,u+o);n.closePath();break;case"crossRot":e+=ci;case"cross":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);break;case"star":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);e+=ci;o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);break;case"line":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);break;case"dash":n.moveTo(r,u);n.lineTo(r+Math.cos(e)*i,u+Math.sin(e)*i)}n.fill();n.stroke()}},_isPointInArea:function(n,t){return n.x>t.left-1e-6&&n.x<t.right+1e-6&&n.y>t.top-1e-6&&n.y<t.bottom+1e-6},clipArea:function(n,t){n.save();n.beginPath();n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top);n.clip()},unclipArea:function(n){n.restore()},lineTo:function(n,t,i,r){var u=i.steppedLine,f;u?("middle"===u?(f=(t.x+i.x)/2,n.lineTo(f,r?i.y:t.y),n.lineTo(f,r?t.y:i.y)):"after"===u&&!r||"after"!==u&&r?n.lineTo(t.x,i.y):n.lineTo(i.x,t.y),n.lineTo(i.x,i.y)):i.tension?n.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?i.controlPointNextX:i.controlPointPreviousX,r?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):n.lineTo(i.x,i.y)}},lh=nr;y.clear=nr.clear;y.drawRoundedRectangle=function(n){n.beginPath();nr.roundedRect.apply(nr,arguments)};ru={_set:function(n,t){return y.merge(this[n]||(this[n]={}),t)}};ru._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var i=ru,tr=y.valueOrDefault,ah={toLineHeight:function(n,t){var i=(""+n).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*t;switch(n=+i[2],i[3]){case"px":return n;case"%":n/=100}return t*n},toPadding:function(n){var t,i,r,u;return y.isObject(n)?(t=+n.top||0,i=+n.right||0,r=+n.bottom||0,u=+n.left||0):t=i=r=u=+n||0,{top:t,right:i,bottom:r,left:u,height:t+r,width:u+i}},_parseFont:function(n){var t=i.global,u=tr(n.fontSize,t.defaultFontSize),r={family:tr(n.fontFamily,t.defaultFontFamily),lineHeight:y.options.toLineHeight(tr(n.lineHeight,t.defaultLineHeight),u),size:u,style:tr(n.fontStyle,t.defaultFontStyle),weight:null,string:""};return r.string=function(n){return!n||y.isNullOrUndef(n.size)||y.isNullOrUndef(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r},resolve:function(n,t,i,r){for(var u,e=!0,f=0,o=n.length;f<o;++f)if(void 0!==(u=n[f])&&(void 0!==t&&"function"==typeof u&&(u=u(t),e=!1),void 0!==i&&y.isArray(u)&&(u=u[i],e=!1),void 0!==u))return r&&!e&&(r.cacheable=!1),u}},ye={_factorize:function(n){for(var i=[],r=Math.sqrt(n),t=1;t<r;t++)n%t==0&&(i.push(t),i.push(n/t));return r===(0|r)&&i.push(r),i.sort(function(n,t){return n-t}).pop(),i},log10:Math.log10||function(n){var t=Math.log(n)*Math.LOG10E,i=Math.round(t);return n===Math.pow(10,i)?i:t}},vh=ye;y.log10=ye.log10;var t=y,yh=ae,ph=lh,wh=ah,bh=vh,kh={getRtlAdapter:function(n,t,i){return n?function(n,t){return{x:function(i){return n+n+t-i},setWidth:function(n){t=n},textAlign:function(n){return"center"===n?n:"right"===n?"left":"right"},xPlus:function(n,t){return n-t},leftForLtr:function(n,t){return n-t}}}(t,i):{x:function(n){return n},setWidth:function(){},textAlign:function(n){return n},xPlus:function(n,t){return n+t},leftForLtr:function(n){return n}}},overrideTextDirection:function(n,t){var i,r;"ltr"!==t&&"rtl"!==t||(r=[(i=n.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),n.prevTextDirection=r)},restoreTextDirection:function(n){var t=n.prevTextDirection;void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}};t.easing=yh;t.canvas=ph;t.options=wh;t.math=bh;t.rtl=kh;ir=function(n){t.extend(this,n);this.initialize.apply(this,arguments)};t.extend(ir.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var n=this;return n._view||(n._view=t.extend({},n._model)),n._start={},n},transition:function(n){var i=this,r=i._model,u=i._start,f=i._view;return r&&1!==n?(f||(f=i._view={}),u||(u=i._start={}),function(n,i,r,u){for(var f,c,o,e,l,a,v,y=Object.keys(r),s=0,h=y.length;s<h;++s)if(e=r[f=y[s]],i.hasOwnProperty(f)||(i[f]=e),(c=i[f])!==e&&"_"!==f[0]){if(n.hasOwnProperty(f)||(n[f]=c),(l=typeof e)==typeof(o=n[f]))if("string"===l){if((a=hi(o)).valid&&(v=hi(e)).valid){i[f]=v.mix(a,u).rgbString();continue}}else if(t.isFinite(o)&&t.isFinite(e)){i[f]=o+(e-o)*u;continue}i[f]=e}}(u,f,r,n),i):(i._view=t.extend({},r),i._start=null,i)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}});ir.extend=t.inherits;var nt=ir,uu=nt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),fu=uu;Object.defineProperty(uu.prototype,"animationObject",{get:function(){return this}});Object.defineProperty(uu.prototype,"chartInstance",{get:function(){return this.chart},set:function(n){this.chart=n}});i._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop}});var eu={animations:[],request:null,addAnimation:function(n,t,i,r){var u,e,f=this.animations;for(t.chart=n,t.startTime=Date.now(),t.duration=i,r||(n.animating=!0),u=0,e=f.length;u<e;++u)if(f[u].chart===n)return void(f[u]=t);f.push(t);1===f.length&&this.requestAnimationFrame()},cancelAnimation:function(n){var i=t.findIndex(this.animations,function(t){return t.chart===n});-1!==i&&(this.animations.splice(i,1),n.animating=!1)},requestAnimationFrame:function(){var n=this;null===n.request&&(n.request=t.requestAnimFrame.call(window,function(){n.request=null;n.startDigest()}))},startDigest:function(){this.advance();this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var n,i,r,e,f=this.animations,u=0;u<f.length;)i=(n=f[u]).chart,r=n.numSteps,e=Math.floor((Date.now()-n.startTime)/n.duration*r)+1,n.currentStep=Math.min(e,r),t.callback(n.render,[i,n],i),t.callback(n.onAnimationProgress,[n],i),n.currentStep>=r?(t.callback(n.onAnimationComplete,[n],i),i.animating=!1,f.splice(u,1)):++u}},fi=t.options.resolve,pe=["push","pop","shift","splice","unshift"];rr=function(n,t){this.initialize(n,t)};t.extend(rr.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(n,t){var i=this;i.chart=n;i.index=t;i.linkScales();i.addElements();i._type=i.getMeta().type},updateIndex:function(n){this.index=n},linkScales:function(){var n=this.getMeta(),i=this.chart,r=i.scales,t=this.getDataset(),u=i.options.scales;null!==n.xAxisID&&n.xAxisID in r&&!t.xAxisID||(n.xAxisID=t.xAxisID||u.xAxes[0].id);null!==n.yAxisID&&n.yAxisID in r&&!t.yAxisID||(n.yAxisID=t.yAxisID||u.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(n){return this.chart.scales[n]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&we(this._data,this)},createMetaDataset:function(){var n=this.datasetElementType;return n&&new n({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(n){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:n})},addElements:function(){for(var t=this.getMeta(),u=this.getDataset().data||[],r=t.data,n=0,i=u.length;n<i;++n)r[n]=r[n]||this.createMetaData(n);t.dataset=t.dataset||this.createMetaDataset()},addElementAndReset:function(n){var t=this.createMetaData(n);this.getMeta().data.splice(n,0,t);this.updateElement(t,n,!0)},buildOrUpdateElements:function(){var i,u,n=this,f=n.getDataset(),r=f.data||(f.data=[]);n._data!==r&&(n._data&&we(n._data,n),r&&Object.isExtensible(r)&&(u=n,(i=r)._chartjs?i._chartjs.listeners.push(u):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[u]}}),pe.forEach(function(n){var r="onData"+n.charAt(0).toUpperCase()+n.slice(1),u=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value:function(){var n=Array.prototype.slice.call(arguments),f=u.apply(this,n);return t.each(i._chartjs.listeners,function(t){"function"==typeof t[r]&&t[r].apply(t,n)}),f}})}))),n._data=r);n.resyncElements()},_configure:function(){this._config=t.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(n,i,r){"_meta"!==n&&"data"!==n&&t._merger(n,i,r)}})},_update:function(n){this._configure();this._cachedDataOpts=null;this.update(n)},update:t.noop,transition:function(n){for(var t=this.getMeta(),r=t.data||[],u=r.length,i=0;i<u;++i)r[i].transition(n);t.dataset&&t.dataset.transition(n)},draw:function(){var n=this.getMeta(),i=n.data||[],r=i.length,t=0;for(n.dataset&&n.dataset.draw();t<r;++t)i[t].draw()},getStyle:function(n){var t,i=this.getMeta(),r=i.dataset;return this._configure(),r&&void 0===n?t=this._resolveDatasetElementOptions(r||{}):(n=n||0,t=this._resolveDataElementOptions(i.data[n]||{},n)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(n,t){for(var r,f,i=this,o=i.chart,c=i._config,l=n.custom||{},a=o.options.elements[i.datasetElementType.prototype._type]||{},s=i._datasetElementOptions,h={},v={chart:o,dataset:i.getDataset(),datasetIndex:i.index,hover:t},u=0,e=s.length;u<e;++u)r=s[u],f=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,h[r]=fi([l[f],c[f],a[f]],v);return h},_resolveDataElementOptions:function(n,i){var u=this,e=n&&n.custom,a=u._cachedDataOpts;if(a&&!e)return a;var v,f,s,r,y=u.chart,c=u._config,p=y.options.elements[u.dataElementType.prototype._type]||{},o=u._dataElementOptions,h={},w={chart:y,dataIndex:i,dataset:u.getDataset(),datasetIndex:u.index},l={cacheable:!e};if(e=e||{},t.isArray(o))for(f=0,s=o.length;f<s;++f)h[r=o[f]]=fi([e[r],c[r],p[r]],w,i,l);else for(f=0,s=(v=Object.keys(o)).length;f<s;++f)h[r=v[f]]=fi([e[r],c[o[r]],c[r],p[r]],w,i,l);return l.cacheable&&(u._cachedDataOpts=Object.freeze(h)),h},removeHoverStyle:function(n){t.merge(n._model,n.$previousStyle||{});delete n.$previousStyle},setHoverStyle:function(n){var r=this.chart.data.datasets[n._datasetIndex],u=n._index,f=n.custom||{},i=n._model,e=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=fi([f.hoverBackgroundColor,r.hoverBackgroundColor,e(i.backgroundColor)],void 0,u);i.borderColor=fi([f.hoverBorderColor,r.hoverBorderColor,e(i.borderColor)],void 0,u);i.borderWidth=fi([f.hoverBorderWidth,r.hoverBorderWidth,i.borderWidth],void 0,u)},_removeDatasetHoverStyle:function(){var n=this.getMeta().dataset;n&&this.removeHoverStyle(n)},_setDatasetHoverStyle:function(){var n,f,t,e,r,u,i=this.getMeta().dataset,o={};if(i){for(u=i._model,r=this._resolveDatasetElementOptions(i,!0),n=0,f=(e=Object.keys(r)).length;n<f;++n)o[t=e[n]]=u[t],u[t]=r[t];i.$previousStyle=o}},resyncElements:function(){var i=this.getMeta(),r=this.getDataset().data,n=i.data.length,t=r.length;t<n?i.data.splice(t,n-t):t>n&&this.insertElements(n,t-n)},insertElements:function(n,t){for(var i=0;i<t;++i)this.addElementAndReset(n+i)},onDataPush:function(){var n=arguments.length;this.insertElements(this.getDataset().data.length-n,n)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(n,t){this.getMeta().data.splice(n,t);this.insertElements(n,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});rr.extend=t.inherits;p=rr;d=2*Math.PI;i._set("global",{elements:{arc:{backgroundColor:i.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var gh=nt.extend({_type:"arc",inLabelRange:function(n){var t=this._view;return!!t&&Math.pow(n-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(n,i){var r=this._view,h,c;if(r){for(var o=t.getAngleFromPoint(r,{x:n,y:i}),u=o.angle,s=o.distance,e=r.startAngle,f=r.endAngle;f<e;)f+=d;for(;u>f;)u-=d;for(;u<e;)u+=d;return h=u>=e&&u<=f,c=s>=r.innerRadius&&s<=r.outerRadius,h&&c}return!1},getCenterPoint:function(){var n=this._view,t=(n.startAngle+n.endAngle)/2,i=(n.innerRadius+n.outerRadius)/2;return{x:n.x+Math.cos(t)*i,y:n.y+Math.sin(t)*i}},getArea:function(){var n=this._view;return Math.PI*((n.endAngle-n.startAngle)/(2*Math.PI))*(Math.pow(n.outerRadius,2)-Math.pow(n.innerRadius,2))},tooltipPosition:function(){var n=this._view,t=n.startAngle+(n.endAngle-n.startAngle)/2,i=(n.outerRadius-n.innerRadius)/2+n.innerRadius;return{x:n.x+Math.cos(t)*i,y:n.y+Math.sin(t)*i}},draw:function(){var r,t=this._chart.ctx,i=this._view,u="inner"===i.borderAlign?.33:0,n={x:i.x,y:i.y,innerRadius:i.innerRadius,outerRadius:Math.max(i.outerRadius-u,0),pixelMargin:u,startAngle:i.startAngle,endAngle:i.endAngle,fullCircles:Math.floor(i.circumference/d)};if(t.save(),t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,n.fullCircles){for(n.endAngle=n.startAngle+d,t.beginPath(),t.arc(n.x,n.y,n.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),r=0;r<n.fullCircles;++r)t.fill();n.endAngle=n.startAngle+i.circumference%d}t.beginPath();t.arc(n.x,n.y,n.outerRadius,n.startAngle,n.endAngle);t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0);t.closePath();t.fill();i.borderWidth&&dh(t,i,n);t.restore()}}),ke=t.valueOrDefault,de=i.global.defaultColor;i._set("global",{elements:{line:{tension:.4,backgroundColor:de,borderWidth:3,borderColor:de,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var nc=nt.extend({_type:"line",draw:function(){var r,c,f,s=this,e=s._view,n=s._chart.ctx,a=e.spanGaps,u=s._children.slice(),v=i.global,h=v.elements.line,o=-1,l=s._loop;if(u.length){if(s._loop){for(r=0;r<u.length;++r)if(c=t.previousItem(u,r),!u[r]._view.skip&&c._view.skip){u=u.slice(r).concat(u.slice(0,r));l=a;break}l&&u.push(u[0])}for(n.save(),n.lineCap=e.borderCapStyle||h.borderCapStyle,n.setLineDash&&n.setLineDash(e.borderDash||h.borderDash),n.lineDashOffset=ke(e.borderDashOffset,h.borderDashOffset),n.lineJoin=e.borderJoinStyle||h.borderJoinStyle,n.lineWidth=ke(e.borderWidth,h.borderWidth),n.strokeStyle=e.borderColor||v.defaultColor,n.beginPath(),(f=u[0]._view).skip||(n.moveTo(f.x,f.y),o=0),r=1;r<u.length;++r)f=u[r]._view,c=-1===o?t.previousItem(u,r):u[o],f.skip||(o!==r-1&&!a||-1===o?n.moveTo(f.x,f.y):t.canvas.lineTo(n,c._view,f),o=r);l&&n.closePath();n.stroke();n.restore()}}}),tc=t.valueOrDefault,ge=i.global.defaultColor;i._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ge,borderColor:ge,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});to=nt.extend({_type:"point",inRange:function(n,t){var i=this._view;return!!i&&Math.pow(n-i.x,2)+Math.pow(t-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:no,inXRange:no,inYRange:function(n){var t=this._view;return!!t&&Math.abs(n-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var n=this._view;return{x:n.x,y:n.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var n=this._view;return{x:n.x,y:n.y,padding:n.radius+n.borderWidth}},draw:function(n){var r=this._view,u=this._chart.ctx,o=r.pointStyle,s=r.rotation,h=r.radius,c=r.x,l=r.y,f=i.global,e=f.defaultColor;r.skip||(void 0===n||t.canvas._isPointInArea(r,n))&&(u.strokeStyle=r.borderColor||e,u.lineWidth=tc(r.borderWidth,f.elements.point.borderWidth),u.fillStyle=r.backgroundColor||e,t.canvas.drawPoint(u,o,h,c,l,s))}});ou=i.global.defaultColor;i._set("global",{elements:{rectangle:{backgroundColor:ou,borderColor:ou,borderSkipped:"bottom",borderWidth:0}}});var rc=nt.extend({_type:"rectangle",draw:function(){var n=this._chart.ctx,r=this._view,u=function(n){var t=io(n),r=t.right-t.left,u=t.bottom-t.top,i=ic(n,r/2,u/2);return{outer:{x:t.left,y:t.top,w:r,h:u},inner:{x:t.left+i.l,y:t.top+i.t,w:r-i.l-i.r,h:u-i.t-i.b}}}(r),t=u.outer,i=u.inner;n.fillStyle=r.backgroundColor;n.fillRect(t.x,t.y,t.w,t.h);t.w===i.w&&t.h===i.h||(n.save(),n.beginPath(),n.rect(t.x,t.y,t.w,t.h),n.clip(),n.fillStyle=r.borderColor,n.rect(i.x,i.y,i.w,i.h),n.fill("evenodd"),n.restore())},height:function(){var n=this._view;return n.base-n.y},inRange:function(n,t){return li(this._view,n,t)},inLabelRange:function(n,t){var i=this._view;return ur(i)?li(i,n,null):li(i,null,t)},inXRange:function(n){return li(this._view,n,null)},inYRange:function(n){return li(this._view,null,n)},getCenterPoint:function(){var t,i,n=this._view;return ur(n)?(t=n.x,i=(n.y+n.base)/2):(t=(n.x+n.base)/2,i=n.y),{x:t,y:i}},getArea:function(){var n=this._view;return ur(n)?n.width*Math.abs(n.y-n.base):n.height*Math.abs(n.x-n.base)},tooltipPosition:function(){var n=this._view;return{x:n.x,y:n.y}}}),c={},uc=gh,fc=nc,ec=to,oc=rc;c.Arc=uc;c.Line=fc;c.Point=ec;c.Rectangle=oc;ei=t._deprecated;yt=t.valueOrDefault;i._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});i._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var uo=p.extend({dataElementType:c.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var i,n,t=this;p.prototype.initialize.apply(t,arguments);(i=t.getMeta()).stack=t.getDataset().stack;i.bar=!0;n=t._getIndexScale().options;ei("bar chart",n.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage");ei("bar chart",n.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness");ei("bar chart",n.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage");ei("bar chart",t._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength");ei("bar chart",n.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(n){var t,i,r=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,i=r.length;t<i;++t)this.updateElement(r[t],t,n)},updateElement:function(n,i,r){var u=this,e=u.getMeta(),o=u.getDataset(),f=u._resolveDataElementOptions(n,i);n._xScale=u.getScaleForId(e.xAxisID);n._yScale=u.getScaleForId(e.yAxisID);n._datasetIndex=u.index;n._index=i;n._model={backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderSkipped:f.borderSkipped,borderWidth:f.borderWidth,datasetLabel:o.label,label:u.chart.data.labels[i]};t.isArray(o.data[i])&&(n._model.borderSkipped=null);u._updateElementGeometry(n,i,r,f);n.pivot()},_updateElementGeometry:function(n,t,i,r){var u=this,f=n._model,c=u._getValueScale(),s=c.getBasePixel(),e=c.isHorizontal(),l=u._ruler||u.getRuler(),h=u.calculateBarValuePixels(u.index,t,r),o=u.calculateBarIndexPixels(u.index,t,l,r);f.horizontal=e;f.base=i?s:h.base;f.x=e?i?s:h.head:o.center;f.y=e?o.center:i?s:h.head;f.height=e?o.size:void 0;f.width=e?void 0:o.size},_getStacks:function(n){for(var t,u=this._getIndexScale(),f=u._getMatchingVisibleMetas(this._type),e=u.options.stacked,o=f.length,r=[],i=0;i<o&&(t=f[i],(!1===e||-1===r.indexOf(t.stack)||void 0===e&&void 0===t.stack)&&r.push(t.stack),t.index!==n);++i);return r},getStackCount:function(){return this._getStacks().length},getStackIndex:function(n,t){var i=this._getStacks(n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r},getRuler:function(){for(var t=this._getIndexScale(),r=[],n=0,i=this.getMeta().data.length;n<i;++n)r.push(t.getPixelForValue(null,n,this.index));return{pixels:r,start:t._startPixel,end:t._endPixel,stackCount:this.getStackCount(),scale:t}},calculateBarValuePixels:function(n,t,i){var h,a,c,e,l,o,f,g=this.chart,u=this._getValueScale(),p=u.isHorizontal(),w=g.data.datasets,b=u._getMatchingVisibleMetas(this._type),r=u._parseValue(w[n].data[t]),s=i.minBarLength,k=u.options.stacked,d=this.getMeta().stack,v=void 0===r.start?0:r.max>=0&&r.min>=0?r.min:r.max,y=void 0===r.start?r.end:r.max>=0&&r.min>=0?r.max-r.min:r.min-r.max,nt=b.length;if(k||void 0===k&&void 0!==d)for(h=0;h<nt&&(a=b[h]).index!==n;++h)a.stack===d&&(c=void 0===(f=u._parseValue(w[a.index].data[t])).start?f.end:f.min>=0&&f.max>=0?f.max:f.min,(r.min<0&&c<0||r.max>=0&&c>0)&&(v+=c));return e=u.getPixelForValue(v),o=(l=u.getPixelForValue(v+y))-e,void 0!==s&&Math.abs(o)<s&&(o=s,l=y>=0&&!p||y<0&&p?e-s:e+s),{size:o,base:e,head:l,center:l+o/2}},calculateBarIndexPixels:function(n,t,i,r){var u="flex"===r.barThickness?function(n,t,i){var o,e=t.pixels,r=e[n],f=n>0?e[n-1]:null,u=n<e.length-1?e[n+1]:null,s=i.categoryPercentage;return null===f&&(f=r-(null===u?t.end-t.start:u-r)),null===u&&(u=r+r-f),o=r-(r-Math.min(f,u))/2*s,{chunk:Math.abs(u-f)/2*s/t.stackCount,ratio:i.barPercentage,start:o}}(t,i,r):sc(t,i,r),o=this.getStackIndex(n,this.getMeta().stack),f=u.start+u.chunk*o+u.chunk/2,e=Math.min(yt(r.maxBarThickness,1/0),u.chunk*u.ratio);return{base:f-e/2,head:f+e/2,center:f,size:e}},draw:function(){var i=this.chart,f=this._getValueScale(),u=this.getMeta().data,e=this.getDataset(),o=u.length,n=0,r;for(t.canvas.clipArea(i.ctx,i.chartArea);n<o;++n)r=f._parseValue(e.data[n]),isNaN(r.min)||isNaN(r.max)||u[n].draw();t.canvas.unclipArea(i.ctx)},_resolveDataElementOptions:function(){var r=this,n=t.extend({},p.prototype._resolveDataElementOptions.apply(r,arguments)),i=r._getIndexScale().options,u=r._getValueScale().options;return n.barPercentage=yt(i.barPercentage,n.barPercentage),n.barThickness=yt(i.barThickness,n.barThickness),n.categoryPercentage=yt(i.categoryPercentage,n.categoryPercentage),n.maxBarThickness=yt(i.maxBarThickness,n.maxBarThickness),n.minBarLength=yt(u.minBarLength,n.minBarLength),n}}),su=t.valueOrDefault,hc=t.options.resolve;i._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(n,t){var i=t.datasets[n.datasetIndex].label||"",r=t.datasets[n.datasetIndex].data[n.index];return i+": ("+n.xLabel+", "+n.yLabel+", "+r.r+")"}}}});var cc=p.extend({dataElementType:c.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(n){var i=this,r=i.getMeta().data;t.each(r,function(t,r){i.updateElement(t,r,n)})},updateElement:function(n,t,i){var u=this,h=u.getMeta(),a=n.custom||{},f=u.getScaleForId(h.xAxisID),e=u.getScaleForId(h.yAxisID),r=u._resolveDataElementOptions(n,t),o=u.getDataset().data[t],s=u.index,c=i?f.getPixelForDecimal(.5):f.getPixelForValue("object"==typeof o?o:NaN,t,s),l=i?e.getBasePixel():e.getPixelForValue(o,t,s);n._xScale=f;n._yScale=e;n._options=r;n._datasetIndex=s;n._index=t;n._model={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,hitRadius:r.hitRadius,pointStyle:r.pointStyle,rotation:r.rotation,radius:i?0:r.radius,skip:a.skip||isNaN(c)||isNaN(l),x:c,y:l};n.pivot()},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=su(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=su(r.hoverBorderColor,u(r.borderColor));i.borderWidth=su(r.hoverBorderWidth,r.borderWidth);i.radius=r.radius+r.hoverRadius},_resolveDataElementOptions:function(n,i){var r=this,f=r.chart,e=r.getDataset(),o=n.custom||{},s=e.data[i]||{},u=p.prototype._resolveDataElementOptions.apply(r,arguments),h={chart:f,dataIndex:i,dataset:e,datasetIndex:r.index};return r._cachedDataOpts===u&&(u=t.extend({},u)),u.radius=hc([o.radius,s.r,r._config.radius,f.options.elements.point.radius],h,i),u}}),fr=t.valueOrDefault,pt=Math.PI,rt=2*pt,wt=pt/2;i._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(n){var t,u,f,i=document.createElement("ul"),e=n.data,r=e.datasets,o=e.labels;if(i.setAttribute("class",n.id+"-legend"),r.length)for(t=0,u=r[0].data.length;t<u;++t)(f=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[t],o[t]&&f.appendChild(document.createTextNode(o[t]));return i.outerHTML},legend:{labels:{generateLabels:function(n){var t=n.data;return t.labels.length&&t.datasets.length?t.labels.map(function(i,r){var f=n.getDatasetMeta(0),u=f.controller.getStyle(r);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,hidden:isNaN(t.datasets[0].data[r])||f.data[r].hidden,index:r}}):[]}},onClick:function(n,t){for(var r,u=t.index,f=this.chart,i=0,e=(f.data.datasets||[]).length;i<e;++i)(r=f.getDatasetMeta(i)).data[u]&&(r.data[u].hidden=!r.data[u].hidden);f.update()}},cutoutPercentage:50,rotation:-wt,circumference:rt,tooltips:{callbacks:{title:function(){return""},label:function(n,i){var r=i.labels[n.index],u=": "+i.datasets[n.datasetIndex].data[n.index];return t.isArray(r)?(r=r.slice())[0]+=u:r+=u,r}}}});hu=p.extend({dataElementType:c.Arc,linkScales:t.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(n){for(var i=0,t=0;t<n;++t)this.chart.isDatasetVisible(t)&&++i;return i},update:function(n){var p,w,r,s,i=this,t=i.chart,h=t.chartArea,y=t.options,b=1,k=1,d=0,g=0,nt=i.getMeta(),o=nt.data,u=y.cutoutPercentage/100||0,tt=y.circumference,ot=i._getRingWeight(i.index);if(tt<rt){var f=y.rotation%rt,e=(f+=f>=pt?-rt:f<-pt?rt:0)+tt,c=Math.cos(f),l=Math.sin(f),a=Math.cos(e),v=Math.sin(e),st=f<=0&&e>=0||e>=rt,ht=f<=wt&&e>=wt||e>=rt+wt,ct=f<=-wt&&e>=-wt||e>=pt+wt,it=f===-pt||e>=pt?-1:Math.min(c,c*u,a,a*u),ut=ct?-1:Math.min(l,l*u,v,v*u),ft=st?1:Math.max(c,c*u,a,a*u),et=ht?1:Math.max(l,l*u,v,v*u);b=(ft-it)/2;k=(et-ut)/2;d=-(ft+it)/2;g=-(et+ut)/2}for(r=0,s=o.length;r<s;++r)o[r]._options=i._resolveDataElementOptions(o[r],r);for(t.borderWidth=i.getMaxBorderWidth(),p=(h.right-h.left-t.borderWidth)/b,w=(h.bottom-h.top-t.borderWidth)/k,t.outerRadius=Math.max(Math.min(p,w)/2,0),t.innerRadius=Math.max(t.outerRadius*u,0),t.radiusLength=(t.outerRadius-t.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),t.offsetX=d*t.outerRadius,t.offsetY=g*t.outerRadius,nt.total=i.calculateTotal(),i.outerRadius=t.outerRadius-t.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-t.radiusLength*ot,0),r=0,s=o.length;r<s;++r)i.updateElement(o[r],r,n)},updateElement:function(n,i,r){var u=this,f=u.chart,s=f.chartArea,e=f.options,h=e.animation,a=(s.left+s.right)/2,v=(s.top+s.bottom)/2,y=e.rotation,p=e.rotation,l=u.getDataset(),w=r&&h.animateRotate?0:n.hidden?0:u.calculateCircumference(l.data[i])*(e.circumference/rt),b=r&&h.animateScale?0:u.innerRadius,k=r&&h.animateScale?0:u.outerRadius,c=n._options||{},o;t.extend(n,{_datasetIndex:u.index,_index:i,_model:{backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,borderAlign:c.borderAlign,x:a+f.offsetX,y:v+f.offsetY,startAngle:y,endAngle:p,circumference:w,outerRadius:k,innerRadius:b,label:t.valueAtIndexOrDefault(l.label,i,f.data.labels[i])}});o=n._model;r&&h.animateRotate||(o.startAngle=0===i?e.rotation:u.getMeta().data[i-1]._model.endAngle,o.endAngle=o.startAngle+o.circumference);n.pivot()},calculateTotal:function(){var n,r=this.getDataset(),u=this.getMeta(),i=0;return t.each(u.data,function(t,u){n=r.data[u];isNaN(n)||t.hidden||(i+=Math.abs(n))}),i},calculateCircumference:function(n){var t=this.getMeta().total;return t>0&&!isNaN(n)?rt*(Math.abs(n)/t):0},getMaxBorderWidth:function(n){var t,u,h,e,f,r,o,c,i=0,s=this.chart;if(!n)for(t=0,u=s.data.datasets.length;t<u;++t)if(s.isDatasetVisible(t)){n=(h=s.getDatasetMeta(t)).data;t!==this.index&&(f=h.controller);break}if(!n)return 0;for(t=0,u=n.length;t<u;++t)e=n[t],f?(f._configure(),r=f._resolveDataElementOptions(e,t)):r=e._options,"inner"!==r.borderAlign&&(o=r.borderWidth,i=(c=r.hoverBorderWidth)>(i=o>i?o:i)?c:i);return i},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=fr(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=fr(r.hoverBorderColor,u(r.borderColor));i.borderWidth=fr(r.hoverBorderWidth,r.borderWidth)},_getRingWeightOffset:function(n){for(var i=0,t=0;t<n;++t)this.chart.isDatasetVisible(t)&&(i+=this._getRingWeight(t));return i},_getRingWeight:function(n){return Math.max(fr(this.chart.data.datasets[n].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});i._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});i._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var lc=uo.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),ut=t.valueOrDefault,ac=t.options.resolve,cu=t.canvas._isPointInArea;i._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});lu=p.extend({datasetElementType:c.Line,dataElementType:c.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(n){var i,e,t=this,o=t.getMeta(),r=o.dataset,u=o.data||[],h=t.chart.options,f=t._config,s=t._showLine=ut(f.showLine,h.showLines);for(t._xScale=t.getScaleForId(o.xAxisID),t._yScale=t.getScaleForId(o.yAxisID),s&&(void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),r._scale=t._yScale,r._datasetIndex=t.index,r._children=u,r._model=t._resolveDatasetElementOptions(r),r.pivot()),i=0,e=u.length;i<e;++i)t.updateElement(u[i],i,n);for(s&&0!==r._model.tension&&t.updateBezierControlPoints(),i=0,e=u.length;i<e;++i)u[i].pivot()},updateElement:function(n,t,i){var e,o,u=this,v=u.getMeta(),c=n.custom||{},y=u.getDataset(),s=u.index,h=y.data[t],l=u._xScale,a=u._yScale,f=v.dataset._model,r=u._resolveDataElementOptions(n,t);e=l.getPixelForValue("object"==typeof h?h:NaN,t,s);o=i?a.getBasePixel():u.calculatePointY(h,t,s);n._xScale=l;n._yScale=a;n._options=r;n._datasetIndex=s;n._index=t;n._model={x:e,y:o,skip:c.skip||isNaN(e)||isNaN(o),radius:r.radius,pointStyle:r.pointStyle,rotation:r.rotation,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,tension:ut(c.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:r.hitRadius}},_resolveDatasetElementOptions:function(n){var i=this,r=i._config,e=n.custom||{},u=i.chart.options,f=u.elements.line,t=p.prototype._resolveDatasetElementOptions.apply(i,arguments);return t.spanGaps=ut(r.spanGaps,u.spanGaps),t.tension=ut(r.lineTension,f.tension),t.steppedLine=ac([e.steppedLine,r.steppedLine,f.stepped]),t.clip=yc(ut(r.clip,vc(i._xScale,i._yScale,t.borderWidth))),t},calculatePointY:function(n,t,i){var u,s,f,o,e,h,c,l=this.chart,r=this._yScale,a=0,v=0;if(r.options.stacked){for(e=+r.getRightValue(n),c=(h=l._getSortedVisibleDatasetMetas()).length,u=0;u<c&&(f=h[u]).index!==i;++u)s=l.data.datasets[f.index],"line"===f.type&&f.yAxisID===r.id&&((o=+r.getRightValue(s.data[t]))<0?v+=o||0:a+=o||0);return e<0?r.getPixelForValue(v+e):r.getPixelForValue(a+e)}return r.getPixelForValue(n)},updateBezierControlPoints:function(){function o(n,t,i){return Math.max(Math.min(n,i),t)}var i,e,n,f,h=this.chart,c=this.getMeta(),s=c.dataset._model,u=h.chartArea,r=c.data||[];if(s.spanGaps&&(r=r.filter(function(n){return!n._model.skip})),"monotone"===s.cubicInterpolationMode)t.splineCurveMonotone(r);else for(i=0,e=r.length;i<e;++i)n=r[i]._model,f=t.splineCurve(t.previousItem(r,i)._model,n,t.nextItem(r,i)._model,s.tension),n.controlPointPreviousX=f.previous.x,n.controlPointPreviousY=f.previous.y,n.controlPointNextX=f.next.x,n.controlPointNextY=f.next.y;if(h.options.elements.line.capBezierPoints)for(i=0,e=r.length;i<e;++i)n=r[i]._model,cu(n,u)&&(i>0&&cu(r[i-1]._model,u)&&(n.controlPointPreviousX=o(n.controlPointPreviousX,u.left,u.right),n.controlPointPreviousY=o(n.controlPointPreviousY,u.top,u.bottom)),i<r.length-1&&cu(r[i+1]._model,u)&&(n.controlPointNextX=o(n.controlPointNextX,u.left,u.right),n.controlPointNextY=o(n.controlPointNextY,u.top,u.bottom)))},draw:function(){var n,r=this.chart,u=this.getMeta(),e=u.data||[],i=r.chartArea,o=r.canvas,f=0,s=e.length;for(this._showLine&&(n=u.dataset._model.clip,t.canvas.clipArea(r.ctx,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?o.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?o.height:i.bottom+n.bottom}),u.dataset.draw(),t.canvas.unclipArea(r.ctx));f<s;++f)e[f].draw(i)},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=ut(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=ut(r.hoverBorderColor,u(r.borderColor));i.borderWidth=ut(r.hoverBorderWidth,r.borderWidth);i.radius=ut(r.hoverRadius,r.radius)}});eo=t.options.resolve;i._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(n){var t,u,f,i=document.createElement("ul"),e=n.data,r=e.datasets,o=e.labels;if(i.setAttribute("class",n.id+"-legend"),r.length)for(t=0,u=r[0].data.length;t<u;++t)(f=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[t],o[t]&&f.appendChild(document.createTextNode(o[t]));return i.outerHTML},legend:{labels:{generateLabels:function(n){var t=n.data;return t.labels.length&&t.datasets.length?t.labels.map(function(i,r){var f=n.getDatasetMeta(0),u=f.controller.getStyle(r);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,hidden:isNaN(t.datasets[0].data[r])||f.data[r].hidden,index:r}}):[]}},onClick:function(n,t){for(var f,e=t.index,r=this.chart,i=0,u=(r.data.datasets||[]).length;i<u;++i)(f=r.getDatasetMeta(i)).data[e].hidden=!f.data[e].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(n,t){return t.labels[n.index]+": "+n.yLabel}}}});oo=p.extend({dataElementType:c.Arc,linkScales:t.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(n){var t,r,f,i=this,s=i.getDataset(),e=i.getMeta(),o=i.chart.options.startAngle||0,h=i._starts=[],c=i._angles=[],u=e.data;for(i._updateRadius(),e.count=i.countVisibleElements(),t=0,r=s.data.length;t<r;t++)h[t]=o,f=i._computeAngle(t),c[t]=f,o+=f;for(t=0,r=u.length;t<r;++t)u[t]._options=i._resolveDataElementOptions(u[t],t),i.updateElement(u[t],t,n)},_updateRadius:function(){var t=this,n=t.chart,i=n.chartArea,r=n.options,u=Math.min(i.right-i.left,i.bottom-i.top);n.outerRadius=Math.max(u/2,0);n.innerRadius=Math.max(r.cutoutPercentage?n.outerRadius/100*r.cutoutPercentage:1,0);n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount();t.outerRadius=n.outerRadius-n.radiusLength*t.index;t.innerRadius=t.outerRadius-n.radiusLength},updateElement:function(n,i,r){var u=this,o=u.chart,h=u.getDataset(),c=o.options,s=c.animation,f=o.scale,l=o.data.labels,y=f.xCenter,p=f.yCenter,a=c.startAngle,w=n.hidden?0:f.getDistanceFromCenterForValue(h.data[i]),v=u._starts[i],b=v+(n.hidden?0:u._angles[i]),k=s.animateScale?0:f.getDistanceFromCenterForValue(h.data[i]),e=n._options||{};t.extend(n,{_datasetIndex:u.index,_index:i,_scale:f,_model:{backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,borderAlign:e.borderAlign,x:y,y:p,innerRadius:0,outerRadius:r?k:w,startAngle:r&&s.animateRotate?a:v,endAngle:r&&s.animateRotate?a:b,label:t.valueAtIndexOrDefault(l,i,l[i])}});n.pivot()},countVisibleElements:function(){var i=this.getDataset(),r=this.getMeta(),n=0;return t.each(r.data,function(t,r){isNaN(i.data[r])||t.hidden||n++}),n},setHoverStyle:function(n){var i=n._model,r=n._options,f=t.getHoverColor,u=t.valueOrDefault;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=u(r.hoverBackgroundColor,f(r.backgroundColor));i.borderColor=u(r.hoverBorderColor,f(r.borderColor));i.borderWidth=u(r.hoverBorderWidth,r.borderWidth)},_computeAngle:function(n){var t=this,u=this.getMeta().count,i=t.getDataset(),f=t.getMeta(),r;return isNaN(i.data[n])||f.data[n].hidden?0:(r={chart:t.chart,dataIndex:n,dataset:i,datasetIndex:t.index},eo([t.chart.options.elements.arc.angle,2*Math.PI/u],r,n))}});i._set("pie",t.clone(i.doughnut));i._set("pie",{cutoutPercentage:0});so=hu;ht=t.valueOrDefault;i._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});ho=p.extend({datasetElementType:c.Line,dataElementType:c.Point,linkScales:t.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(n){var t,f,i=this,o=i.getMeta(),r=o.dataset,u=o.data||[],s=i.chart.scale,e=i._config;for(void 0!==e.tension&&void 0===e.lineTension&&(e.lineTension=e.tension),r._scale=s,r._datasetIndex=i.index,r._children=u,r._loop=!0,r._model=i._resolveDatasetElementOptions(r),r.pivot(),t=0,f=u.length;t<f;++t)i.updateElement(u[t],t,n);for(i.updateBezierControlPoints(),t=0,f=u.length;t<f;++t)u[t].pivot()},updateElement:function(n,t,i){var u=this,e=n.custom||{},l=u.getDataset(),f=u.chart.scale,o=f.getPointPositionForValue(t,l.data[t]),r=u._resolveDataElementOptions(n,t),s=u.getMeta().dataset._model,h=i?f.xCenter:o.x,c=i?f.yCenter:o.y;n._scale=f;n._options=r;n._datasetIndex=u.index;n._index=t;n._model={x:h,y:c,skip:e.skip||isNaN(h)||isNaN(c),radius:r.radius,pointStyle:r.pointStyle,rotation:r.rotation,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,tension:ht(e.tension,s?s.tension:0),hitRadius:r.hitRadius}},_resolveDatasetElementOptions:function(){var n=this,i=n._config,r=n.chart.options,t=p.prototype._resolveDatasetElementOptions.apply(n,arguments);return t.spanGaps=ht(i.spanGaps,r.spanGaps),t.tension=ht(i.lineTension,r.elements.line.tension),t},updateBezierControlPoints:function(){function e(n,t,i){return Math.max(Math.min(n,i),t)}var r,o,i,f,s=this.getMeta(),n=this.chart.chartArea,u=s.data||[];for(s.dataset._model.spanGaps&&(u=u.filter(function(n){return!n._model.skip})),r=0,o=u.length;r<o;++r)i=u[r]._model,f=t.splineCurve(t.previousItem(u,r,!0)._model,i,t.nextItem(u,r,!0)._model,i.tension),i.controlPointPreviousX=e(f.previous.x,n.left,n.right),i.controlPointPreviousY=e(f.previous.y,n.top,n.bottom),i.controlPointNextX=e(f.next.x,n.left,n.right),i.controlPointNextY=e(f.next.y,n.top,n.bottom)},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=ht(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=ht(r.hoverBorderColor,u(r.borderColor));i.borderWidth=ht(r.hoverBorderWidth,r.borderWidth);i.radius=ht(r.hoverRadius,r.radius)}});i._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(n){return"("+n.xLabel+", "+n.yLabel+")"}}}});i._set("global",{datasets:{scatter:{showLine:!1}}});au={bar:uo,bubble:cc,doughnut:hu,horizontalBar:lc,line:lu,polarArea:oo,pie:so,radar:ho,scatter:lu};kt={modes:{single:function(n,t){var r=bt(t,n),i=[];return ai(n,function(n){if(n.inRange(r.x,r.y))return i.push(n),i}),i.slice(0,1)},label:wu,index:wu,dataset:function(n,t,i){var u=bt(t,n),f,r;return i.axis=i.axis||"xy",f=pu(i.axis),r=i.intersect?vu(n,u):yu(n,u,!1,f),r.length>0&&(r=n.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(n,t){return wu(n,t,{intersect:!1})},point:function(n,t){return vu(n,bt(t,n))},nearest:function(n,t,i){var u=bt(t,n),r;return i.axis=i.axis||"xy",r=pu(i.axis),yu(n,u,i.intersect,r)},x:function(n,t,i){var r=bt(t,n),u=[],f=!1;return ai(n,function(n){n.inXRange(r.x)&&u.push(n);n.inRange(r.x,r.y)&&(f=!0)}),i.intersect&&!f&&(u=[]),u},y:function(n,t,i){var r=bt(t,n),u=[],f=!1;return ai(n,function(n){n.inYRange(r.y)&&u.push(n);n.inRange(r.x,r.y)&&(f=!0)}),i.intersect&&!f&&(u=[]),u}}};er=t.extend;i._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var bu,b={defaults:{},addBox:function(n,t){n.boxes||(n.boxes=[]);t.fullWidth=t.fullWidth||!1;t.position=t.position||"top";t.weight=t.weight||0;t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]};n.boxes.push(t)},removeBox:function(n,t){var i=n.boxes?n.boxes.indexOf(t):-1;-1!==i&&n.boxes.splice(i,1)},configure:function(n,t,i){for(var r,f=["fullWidth","position","weight"],e=f.length,u=0;u<e;++u)r=f[u],i.hasOwnProperty(r)&&(t[r]=i[r])},update:function(n,i,r){if(n){var a=n.options.layout||{},f=t.options.toPadding(a.padding),h=i-f.width,c=r-f.height,o=function(n){var t=function(n){for(var i,u=[],t=0,r=(n||[]).length;t<r;++t)i=n[t],u.push({index:t,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return u}(n),i=or(vi(t,"left"),!0),r=or(vi(t,"right")),u=or(vi(t,"top"),!0),f=or(vi(t,"bottom"));return{leftAndTop:i.concat(u),rightAndBottom:r.concat(f),chartArea:vi(t,"chartArea"),vertical:i.concat(r),horizontal:u.concat(f)}}(n.boxes),s=o.vertical,l=o.horizontal,e=Object.freeze({outerWidth:i,outerHeight:r,padding:f,availableWidth:h,vBoxMaxWidth:h/2/s.length,hBoxMaxHeight:c/2}),u=er({maxPadding:er({},f),w:h,h:c,x:f.left,y:f.top},f);!function(n,t){for(var i,r=0,u=n.length;r<u;++r)(i=n[r]).width=i.horizontal?i.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,i.height=i.horizontal&&t.hBoxMaxHeight}(s.concat(l),e);sr(s,u,e);sr(l,u,e)&&sr(s,u,e),function(n){function t(t){var r=Math.max(i[t]-n[t],0);return n[t]+=r,r}var i=n.maxPadding;n.y+=t("top");n.x+=t("left");t("right");t("bottom")}(u);lo(o.leftAndTop,u,e);u.x+=u.w;u.y+=u.h;lo(o.rightAndBottom,u,e);n.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h};t.each(o.chartArea,function(t){var i=t.box;er(i,n.chartArea);i.update(u.w,u.h)})}}},bc=(bu=Object.freeze({__proto__:null,"default":"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&bu.default||bu,o="$chartjs",ku="chartjs-size-monitor",ao="chartjs-render-monitor",kc="chartjs-render-animation",vo=["animationstart","webkitAnimationStart"],dc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};du=!!function(){var n=!1,t;try{t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("e",null,t)}catch(n){}return n}()&&{passive:!0};tf={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(n){if(!this.disableCSSInjection){var t=n.getRootNode?n.getRootNode():document;!function(n,t){var r=n[o]||(n[o]={}),i;r.containsStyles||(r.containsStyles=!0,t="/* Chart.js */\n"+t,i=document.createElement("style"),i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(t)),n.appendChild(i))}(t.host?t:document.head,bc)}},acquireContext:function(n,t){"string"==typeof n?n=document.getElementById(n):n.length&&(n=n[0]);n&&n.canvas&&(n=n.canvas);var i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(this._ensureLoaded(n),function(n,t){var i=n.style,u=n.getAttribute("height"),f=n.getAttribute("width"),r,e;(n[o]={initial:{height:u,width:f,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===f||""===f)&&(r=yo(n,"width"),void 0!==r&&(n.width=r));(null===u||""===u)&&(""===n.style.height?n.height=n.width/(t.options.aspectRatio||2):(e=yo(n,"height"),void 0!==r&&(n.height=e)))}(n,t),i):null},releaseContext:function(n){var i=n.canvas,r;i[o]&&(r=i[o].initial,["height","width"].forEach(function(n){var u=r[n];t.isNullOrUndef(u)?i.removeAttribute(n):i.setAttribute(n,u)}),t.each(r.style||{},function(n,t){i.style[t]=n}),i.width=i.width,delete i[o])},addEventListener:function(n,i,r){var f=n.canvas,u;"resize"!==i?(u=r[o]||(r[o]={}),yi(f,i,(u.proxies||(u.proxies={}))[n.id+"_"+i]=function(i){r(function(n,i){var u=dc[n.type]||n.type,r=t.getRelativePosition(n,i);return nf(u,i,r.x,r.y,n)}(i,n))})):gc(f,r,n)},removeEventListener:function(n,t,i){var u=n.canvas,r;"resize"!==t?(r=((i[o]||{}).proxies||{})[n.id+"_"+t],r&&gu(u,t,r)):nl(u)}};t.addEvent=yi;t.removeEvent=gu;po=tf._enabled?tf:{acquireContext:function(n){return n&&n.canvas&&(n=n.canvas),n&&n.getContext("2d")||null}};dt=t.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},po);i._set("global",{plugins:{}});var f={_plugins:[],_cacheId:0,register:function(n){var t=this._plugins;[].concat(n).forEach(function(n){-1===t.indexOf(n)&&t.push(n)});this._cacheId++},unregister:function(n){var t=this._plugins;[].concat(n).forEach(function(n){var i=t.indexOf(n);-1!==i&&t.splice(i,1)});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(n,t,i){for(var u,f,e,o,s=this.descriptors(n),h=s.length,r=0;r<h;++r)if("function"==typeof(o=(f=(u=s[r]).plugin)[t])&&((e=[n].concat(i||[])).push(u.options),!1===o.apply(f,e)))return!1;return!0},descriptors:function(n){var r=n.$plugins||(n.$plugins={});if(r.id===this._cacheId)return r.descriptors;var e=[],u=[],f=n&&n.config||{},o=f.options&&f.options.plugins||{};return this._plugins.concat(f.plugins||[]).forEach(function(n){if(-1===e.indexOf(n)){var f=n.id,r=o[f];!1!==r&&(!0===r&&(r=t.clone(i.global.plugins[f])),e.push(n),u.push({plugin:n,options:r||{}}))}}),r.descriptors=u,r.id=this._cacheId,u},_invalidate:function(n){delete n.$plugins}},wi={constructors:{},defaults:{},registerScaleType:function(n,i,r){this.constructors[n]=i;this.defaults[n]=t.clone(r)},getScaleConstructor:function(n){if(this.constructors.hasOwnProperty(n))return this.constructors[n]},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.merge(Object.create(null),[i.scale,this.defaults[n]]):{}},updateScaleDefaults:function(n,i){this.defaults.hasOwnProperty(n)&&(this.defaults[n]=t.extend(this.defaults[n],i))},addScalesToLayout:function(n){t.each(n.scales,function(t){t.fullWidth=t.options.fullWidth;t.position=t.options.position;t.weight=t.options.weight;b.addBox(n,t)})}},ft=t.valueOrDefault,rf=t.rtl.getRtlAdapter;i._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:t.noop,title:function(n,t){var r="",u=t.labels,f=u?u.length:0,i;return n.length>0&&(i=n[0],i.label?r=i.label:i.xLabel?r=i.xLabel:f>0&&i.index<f&&(r=u[i.index])),r},afterTitle:t.noop,beforeBody:t.noop,beforeLabel:t.noop,label:function(n,i){var r=i.datasets[n.datasetIndex].label||"";return r&&(r+=": "),r+=t.isNullOrUndef(n.value)?n.yLabel:n.value,r},labelColor:function(n,t){var i=t.getDatasetMeta(n.datasetIndex).data[n.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:t.noop,afterBody:t.noop,beforeFooter:t.noop,footer:t.noop,afterFooter:t.noop}}});uf={average:function(n){var i,u;if(!n.length)return!1;for(var e=0,o=0,r=0,t=0,f=n.length;t<f;++t)i=n[t],i&&i.hasValue()&&(u=i.tooltipPosition(),e+=u.x,o+=u.y,++r);return{x:e/r,y:o/r}},nearest:function(n,i){for(var f,h=i.x,c=i.y,l=Number.POSITIVE_INFINITY,r,a,e,o,u=0,s=n.length;u<s;++u)r=n[u],r&&r.hasValue()&&(a=r.getCenterPoint(),e=t.distanceBetweenPoints(i,a),e<l&&(l=e,f=r));return f&&(o=f.tooltipPosition(),h=o.x,c=o.y),{x:h,y:c}}};var tl=nt.extend({initialize:function(){this._model=wo(this._options);this._lastActive=[]},getTitle:function(){var t=this,r=t._options,i=r.callbacks,u=i.beforeTitle.apply(t,arguments),f=i.title.apply(t,arguments),e=i.afterTitle.apply(t,arguments),n=[];return n=tt(n,et(u)),n=tt(n,et(f)),n=tt(n,et(e))},getBeforeBody:function(){return bo(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(n,i){var r=this,u=r._options.callbacks,f=[];return t.each(n,function(n){var t={before:[],lines:[],after:[]};tt(t.before,et(u.beforeLabel.call(r,n,i)));tt(t.lines,u.label.call(r,n,i));tt(t.after,et(u.afterLabel.call(r,n,i)));f.push(t)}),f},getAfterBody:function(){return bo(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,i=t._options.callbacks,r=i.beforeFooter.apply(t,arguments),u=i.footer.apply(t,arguments),f=i.afterFooter.apply(t,arguments),n=[];return n=tt(n,et(r)),n=tt(n,et(u)),n=tt(n,et(f))},update:function(n){var v,rt,e,y,p,h,o,w,b,k,r=this,f=r._options,s=r._model,i=r._model=wo(f),d=r._active,c=r._data,g={xAlign:s.xAlign,yAlign:s.yAlign},nt={x:s.x,y:s.y},l={width:s.width,height:s.height},a={x:s.caretX,y:s.caretY},tt,it,u;if(d.length){for(i.opacity=1,tt=[],it=[],a=uf[f.position].call(r,d,r._eventPosition),u=[],v=0,rt=d.length;v<rt;++v)u.push((e=d[v],y=void 0,p=void 0,h=void 0,o=void 0,w=void 0,b=void 0,k=void 0,y=e._xScale,p=e._yScale||e._scale,h=e._index,o=e._datasetIndex,w=e._chart.getDatasetMeta(o).controller,b=w._getIndexScale(),k=w._getValueScale(),{xLabel:y?y.getLabelForIndex(h,o):"",yLabel:p?p.getLabelForIndex(h,o):"",label:b?""+b.getLabelForIndex(h,o):"",value:k?""+k.getLabelForIndex(h,o):"",index:h,datasetIndex:o,x:e._model.x,y:e._model.y}));f.filter&&(u=u.filter(function(n){return f.filter(n,c)}));f.itemSort&&(u=u.sort(function(n,t){return f.itemSort(n,t,c)}));t.each(u,function(n){tt.push(f.callbacks.labelColor.call(r,n,r._chart));it.push(f.callbacks.labelTextColor.call(r,n,r._chart))});i.title=r.getTitle(u,c);i.beforeBody=r.getBeforeBody(u,c);i.body=r.getBody(u,c);i.afterBody=r.getAfterBody(u,c);i.footer=r.getFooter(u,c);i.x=a.x;i.y=a.y;i.caretPadding=f.caretPadding;i.labelColors=tt;i.labelTextColors=it;i.dataPoints=u;l=function(n,i){var f=n._chart.ctx,r=2*i.yPadding,c=0,a=i.body,e=a.reduce(function(n,t){return n+t.before.length+t.lines.length+t.after.length},0),h,u;e+=i.beforeBody.length+i.afterBody.length;var o=i.title.length,s=i.footer.length,v=i.titleFontSize,l=i.bodyFontSize,y=i.footerFontSize;return r+=o*v,r+=o?(o-1)*i.titleSpacing:0,r+=o?i.titleMarginBottom:0,r+=e*l,r+=e?(e-1)*i.bodySpacing:0,r+=s?i.footerMarginTop:0,r+=s*y,r+=s?(s-1)*i.footerSpacing:0,h=0,u=function(n){c=Math.max(c,f.measureText(n).width+h)},f.font=t.fontString(v,i._titleFontStyle,i._titleFontFamily),t.each(i.title,u),f.font=t.fontString(l,i._bodyFontStyle,i._bodyFontFamily),t.each(i.beforeBody.concat(i.afterBody),u),h=i.displayColors?l+2:0,t.each(a,function(n){t.each(n.before,u);t.each(n.lines,u);t.each(n.after,u)}),h=0,f.font=t.fontString(y,i._footerFontStyle,i._footerFontFamily),t.each(i.footer,u),{width:c+=2*i.xPadding,height:r}}(this,i);nt=function(n,t,i,r){var u=n.x,o=n.y,l=n.caretSize,h=n.caretPadding,a=n.cornerRadius,f=i.xAlign,s=i.yAlign,e=l+h,c=a+h;return"right"===f?u-=t.width:"center"===f&&((u-=t.width/2)+t.width>r.width&&(u=r.width-t.width),u<0&&(u=0)),"top"===s?o+=e:o-="bottom"===s?t.height+e:t.height/2,"center"===s?"left"===f?u+=e:"right"===f&&(u-=e):"left"===f?u-=c:"right"===f&&(u+=c),{x:u,y:o}}(i,l,g=function(n,t){var o,s,a,v,h,i=n._model,c=n._chart,e=n._chart.chartArea,u="center",r="center",l,y,f;return i.y<t.height?r="top":i.y>c.height-t.height&&(r="bottom"),l=(e.left+e.right)/2,y=(e.top+e.bottom)/2,"center"===r?(o=function(n){return n<=l},s=function(n){return n>l}):(o=function(n){return n<=t.width/2},s=function(n){return n>=c.width-t.width/2}),a=function(n){return n+t.width+i.caretSize+i.caretPadding>c.width},v=function(n){return n-t.width-i.caretSize-i.caretPadding<0},h=function(n){return n<=y?"top":"bottom"},o(i.x)?(u="left",a(i.x)&&(u="center",r=h(i.y))):s(i.x)&&(u="right",v(i.x)&&(u="center",r=h(i.y))),f=n._options,{xAlign:f.xAlign?f.xAlign:u,yAlign:f.yAlign?f.yAlign:r}}(this,l),r._chart)}else i.opacity=0;return i.xAlign=g.xAlign,i.yAlign=g.yAlign,i.x=nt.x,i.y=nt.y,i.width=l.width,i.height=l.height,i.caretX=a.x,i.caretY=a.y,r._model=i,n&&f.custom&&f.custom.call(r,i),r},drawCaret:function(n,t){var r=this._chart.ctx,u=this._view,i=this.getCaretPosition(n,t,u);r.lineTo(i.x1,i.y1);r.lineTo(i.x2,i.y2);r.lineTo(i.x3,i.y3)},getCaretPosition:function(n,t,i){var u,f,e,s,o,h,r=i.caretSize,v=i.cornerRadius,l=i.xAlign,y=i.yAlign,c=n.x,a=n.y,p=t.width,w=t.height,b;return"center"===y?(o=a+w/2,"left"===l?(f=(u=c)-r,e=u,s=o+r,h=o-r):(f=(u=c+p)+r,e=u,s=o-r,h=o+r)):("left"===l?(u=(f=c+v+r)-r,e=f+r):"right"===l?(u=(f=c+p-v-r)-r,e=f+r):(u=(f=i.caretX)-r,e=f+r),"top"===y)?(o=(s=a)-r,h=s):(o=(s=a+w)+r,h=s,b=e,e=u,u=b),{x1:u,x2:f,x3:e,y1:s,y2:o,y3:h}},drawTitle:function(n,i,r){var f,e,u,h=i.title,o=h.length,s;if(o)for(s=rf(i.rtl,i.x,i.width),n.x=hr(i,i._titleAlign),r.textAlign=s.textAlign(i._titleAlign),r.textBaseline="middle",f=i.titleFontSize,e=i.titleSpacing,r.fillStyle=i.titleFontColor,r.font=t.fontString(f,i._titleFontStyle,i._titleFontFamily),u=0;u<o;++u)r.fillText(h[u],s.x(n.x),n.y+f/2),n.y+=f+e,u+1===o&&(n.y+=i.titleMarginBottom-e)},drawBody:function(n,i,r){var s,l,a,w,e,h,b,k,u=i.bodyFontSize,d=i.bodySpacing,v=i._bodyAlign,g=i.body,y=i.displayColors,p=0,tt=y?hr(i,"left"):0,f=rf(i.rtl,i.x,i.width),o=function(t){r.fillText(t,f.x(n.x+p),n.y+u/2);n.y+=u+d},nt=f.textAlign(v),c;for(r.textAlign=v,r.textBaseline="middle",r.font=t.fontString(u,i._bodyFontStyle,i._bodyFontFamily),n.x=hr(i,nt),r.fillStyle=i.bodyFontColor,t.each(i.beforeBody,o),p=y&&"right"!==nt?"center"===v?u/2+1:u+2:0,e=0,b=g.length;e<b;++e){for(s=g[e],l=i.labelTextColors[e],a=i.labelColors[e],r.fillStyle=l,t.each(s.before,o),h=0,k=(w=s.lines).length;h<k;++h)y&&(c=f.x(tt),r.fillStyle=i.legendColorBackground,r.fillRect(f.leftForLtr(c,u),n.y,u,u),r.lineWidth=1,r.strokeStyle=a.borderColor,r.strokeRect(f.leftForLtr(c,u),n.y,u,u),r.fillStyle=a.backgroundColor,r.fillRect(f.leftForLtr(f.xPlus(c,1),u-2),n.y+1,u-2,u-2),r.fillStyle=l),o(w[h]);t.each(s.after,o)}p=0;t.each(i.afterBody,o);n.y-=d},drawFooter:function(n,i,r){var u,f,o=i.footer,s=o.length,e;if(s)for(e=rf(i.rtl,i.x,i.width),n.x=hr(i,i._footerAlign),n.y+=i.footerMarginTop,r.textAlign=e.textAlign(i._footerAlign),r.textBaseline="middle",u=i.footerFontSize,r.fillStyle=i.footerFontColor,r.font=t.fontString(u,i._footerFontStyle,i._footerFontFamily),f=0;f<s;++f)r.fillText(o[f],e.x(n.x),n.y+u/2),n.y+=u+i.footerSpacing},drawBackground:function(n,t,i,r){i.fillStyle=t.backgroundColor;i.strokeStyle=t.borderColor;i.lineWidth=t.borderWidth;var c=t.xAlign,h=t.yAlign,u=n.x,f=n.y,o=r.width,s=r.height,e=t.cornerRadius;i.beginPath();i.moveTo(u+e,f);"top"===h&&this.drawCaret(n,r);i.lineTo(u+o-e,f);i.quadraticCurveTo(u+o,f,u+o,f+e);"center"===h&&"right"===c&&this.drawCaret(n,r);i.lineTo(u+o,f+s-e);i.quadraticCurveTo(u+o,f+s,u+o-e,f+s);"bottom"===h&&this.drawCaret(n,r);i.lineTo(u+e,f+s);i.quadraticCurveTo(u,f+s,u,f+s-e);"center"===h&&"left"===c&&this.drawCaret(n,r);i.lineTo(u,f+e);i.quadraticCurveTo(u,f,u+e,f);i.closePath();i.fill();t.borderWidth>0&&i.stroke()},draw:function(){var i=this._chart.ctx,n=this._view;if(0!==n.opacity){var u={width:n.width,height:n.height},r={x:n.x,y:n.y},f=Math.abs(n.opacity<.001)?0:n.opacity,e=n.title.length||n.beforeBody.length||n.body.length||n.afterBody.length||n.footer.length;this._options.enabled&&e&&(i.save(),i.globalAlpha=f,this.drawBackground(r,n,i,u),r.y+=n.yPadding,t.rtl.overrideTextDirection(i,n.textDirection),this.drawTitle(r,n,i),this.drawBody(r,n,i),this.drawFooter(r,n,i),t.rtl.restoreTextDirection(i,n.textDirection),i.restore())}},handleEvent:function(n){var u,i=this,r=i._options;return i._lastActive=i._lastActive||[],"mouseout"===n.type?i._active=[]:(i._active=i._chart.getElementsAtEventForMode(n,r.mode,r),r.reverse&&i._active.reverse()),(u=!t.arrayEquals(i._active,i._lastActive))&&(i._lastActive=i._active,(r.enabled||r.custom)&&(i._eventPosition={x:n.x,y:n.y},i.update(!0),i.pivot())),u}}),il=uf,ff=tl;ff.positioners=il;cr=t.valueOrDefault;i._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});ot=function(n,t){return this.construct(n,t),this};t.extend(ot.prototype,{construct:function(n,r){var u=this;r=function(n){var t=(n=n||Object.create(null)).data=n.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],n.options=ef(i.global,i[n.type],n.options||{}),n}(r);var e=dt.acquireContext(n,r),f=e&&e.canvas,o=f&&f.height,s=f&&f.width;u.id=t.uid();u.ctx=e;u.canvas=f;u.config=r;u.width=s;u.height=o;u.aspectRatio=o?s/o:null;u.options=r.options;u._bufferedRender=!1;u._layers=[];u.chart=u;u.controller=u;ot.instances[u.id]=u;Object.defineProperty(u,"data",{get:function(){return u.config.data},set:function(n){u.config.data=n}});e&&f?(u.initialize(),u.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var n=this;return f.notify(n,"beforeInit"),t.retinaScale(n,n.options.devicePixelRatio),n.bindEvents(),n.options.responsive&&n.resize(!0),n.initToolTip(),f.notify(n,"afterInit"),n},clear:function(){return t.canvas.clear(this),this},stop:function(){return eu.cancelAnimation(this),this},resize:function(n){var i=this,u=i.options,r=i.canvas,h=u.maintainAspectRatio&&i.aspectRatio||null,e=Math.max(0,Math.floor(t.getMaximumWidth(r))),o=Math.max(0,Math.floor(h?e/h:t.getMaximumHeight(r))),s;i.width===e&&i.height===o||(r.width=i.width=e,r.height=i.height=o,r.style.width=e+"px",r.style.height=o+"px",t.retinaScale(i,u.devicePixelRatio),n)||(s={width:e,height:o},f.notify(i,"resize",[s]),u.onResize&&u.onResize(i,s),i.stop(),i.update({duration:u.responsiveAnimationDuration}))},ensureScalesHaveIDs:function(){var r=this.options,n=r.scales||{},i=r.scale;t.each(n.xAxes,function(t,i){t.id||(t.id=go(n.xAxes,"x-axis-",i))});t.each(n.yAxes,function(t,i){t.id||(t.id=go(n.yAxes,"y-axis-",i))});i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var n=this,r=n.options,i=n.scales||{},u=[],f=Object.keys(i).reduce(function(n,t){return n[t]=!1,n},{});r.scales&&(u=u.concat((r.scales.xAxes||[]).map(function(n){return{options:n,dtype:"category",dposition:"bottom"}}),(r.scales.yAxes||[]).map(function(n){return{options:n,dtype:"linear",dposition:"left"}})));r.scale&&u.push({options:r.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"});t.each(u,function(t){var u=t.options,e=u.id,o=cr(u.type,t.dtype),r,s;if(ns(u.position)!==ns(t.dposition)&&(u.position=t.dposition),f[e]=!0,r=null,e in i&&i[e].type===o)(r=i[e]).options=u,r.ctx=n.ctx,r.chart=n;else{if(s=wi.getScaleConstructor(o),!s)return;r=new s({id:e,type:o,options:u,ctx:n.ctx,chart:n});i[r.id]=r}r.mergeTicksOptions();t.isDefault&&(n.scale=r)});t.each(f,function(n,t){n||delete i[t]});n.scales=i;wi.addScalesToLayout(this)},buildOrUpdateControllers:function(){for(var i=this,f=[],e=i.data.datasets,r,t=0,u=e.length;t<u;t++){var o=e[t],n=i.getDatasetMeta(t),s=o.type||i.config.type;if(n.type&&n.type!==s&&(i.destroyDatasetMeta(t),n=i.getDatasetMeta(t)),n.type=s,n.order=o.order||0,n.index=t,n.controller)n.controller.updateIndex(t),n.controller.linkScales();else{if(r=au[n.type],void 0===r)throw new Error('"'+n.type+'" is not a chart type.');n.controller=new r(i,t);f.push(n.controller)}}return f},resetElements:function(){var n=this;t.each(n.data.datasets,function(t,i){n.getDatasetMeta(i).controller.reset()},n)},reset:function(){this.resetElements();this.tooltip.initialize()},update:function(n){var r,u,i=this,e;if(n&&"object"==typeof n||(n={duration:n,lazy:arguments[1]}),rl(i),f._invalidate(i),!1!==f.notify(i,"beforeUpdate")){for(i.tooltip._data=i.data,e=i.buildOrUpdateControllers(),r=0,u=i.data.datasets.length;r<u;r++)i.getDatasetMeta(r).controller.buildOrUpdateElements();i.updateLayout();i.options.animation&&i.options.animation.duration&&t.each(e,function(n){n.reset()});i.updateDatasets();i.tooltip.initialize();i.lastActive=[];f.notify(i,"afterUpdate");i._layers.sort(ts("z","_idx"));i._bufferedRender?i._bufferedRequest={duration:n.duration,easing:n.easing,lazy:n.lazy}:i.render(n)}},updateLayout:function(){var n=this;!1!==f.notify(n,"beforeLayout")&&(b.update(this,this.width,this.height),n._layers=[],t.each(n.boxes,function(t){t._configure&&t._configure();n._layers.push.apply(n._layers,t._layers())},n),n._layers.forEach(function(n,t){n._idx=t}),f.notify(n,"afterScaleUpdate"),f.notify(n,"afterLayout"))},updateDatasets:function(){if(!1!==f.notify(this,"beforeDatasetsUpdate")){for(var n=0,t=this.data.datasets.length;n<t;++n)this.updateDataset(n);f.notify(this,"afterDatasetsUpdate")}},updateDataset:function(n){var t=this.getDatasetMeta(n),i={meta:t,index:n};!1!==f.notify(this,"beforeDatasetUpdate",[i])&&(t.controller._update(),f.notify(this,"afterDatasetUpdate",[i]))},render:function(n){var i=this,e,o;n&&"object"==typeof n||(n={duration:n,lazy:arguments[1]});var r=i.options.animation,u=cr(n.duration,r&&r.duration),s=n.lazy;if(!1!==f.notify(i,"beforeRender"))return e=function(n){f.notify(i,"afterRender");t.callback(r&&r.onComplete,[n],i)},r&&u?(o=new fu({numSteps:u/16.66,easing:n.easing||r.easing,render:function(n,i){var f=t.easing.effects[i.easing],r=i.currentStep,u=r/i.numSteps;n.draw(f(u),u,r)},onAnimationProgress:r.onProgress,onAnimationComplete:e}),eu.addAnimation(i,o,u,s)):(i.draw(),e(new fu({numSteps:0,chart:i}))),i},draw:function(n){var r,u,i=this;if(i.clear(),t.isNullOrUndef(n)&&(n=1),i.transition(n),!(i.width<=0||i.height<=0)&&!1!==f.notify(i,"beforeDraw",[n])){for(u=i._layers,r=0;r<u.length&&u[r].z<=0;++r)u[r].draw(i.chartArea);for(i.drawDatasets(n);r<u.length;++r)u[r].draw(i.chartArea);i._drawTooltip(n);f.notify(i,"afterDraw",[n])}},transition:function(n){for(var t=0,i=(this.data.datasets||[]).length;t<i;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(n);this.tooltip.transition(n)},_getSortedDatasetMetas:function(n){for(var i=[],t=0,r=(this.data.datasets||[]).length;t<r;++t)n&&!this.isDatasetVisible(t)||i.push(this.getDatasetMeta(t));return i.sort(ts("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(n){var i,t;if(!1!==f.notify(this,"beforeDatasetsDraw",[n])){for(t=(i=this._getSortedVisibleDatasetMetas()).length-1;t>=0;--t)this.drawDataset(i[t],n);f.notify(this,"afterDatasetsDraw",[n])}},drawDataset:function(n,t){var i={meta:n,index:n.index,easingValue:t};!1!==f.notify(this,"beforeDatasetDraw",[i])&&(n.controller.draw(t),f.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(n){var t=this.tooltip,i={tooltip:t,easingValue:n};!1!==f.notify(this,"beforeTooltipDraw",[i])&&(t.draw(),f.notify(this,"afterTooltipDraw",[i]))},getElementAtEvent:function(n){return kt.modes.single(this,n)},getElementsAtEvent:function(n){return kt.modes.label(this,n,{intersect:!0})},getElementsAtXAxis:function(n){return kt.modes["x-axis"](this,n,{intersect:!0})},getElementsAtEventForMode:function(n,t,i){var r=kt.modes[t];return"function"==typeof r?r(this,n,i):[]},getDatasetAtEvent:function(n){return kt.modes.dataset(this,n,{intersect:!0})},getDatasetMeta:function(n){var t=this.data.datasets[n],i;return t._meta||(t._meta={}),i=t._meta[this.id],i||(i=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:n}),i},getVisibleDatasetCount:function(){for(var t=0,n=0,i=this.data.datasets.length;n<i;++n)this.isDatasetVisible(n)&&t++;return t},isDatasetVisible:function(n){var t=this.getDatasetMeta(n);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[n].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(n){var i=this.id,t=this.data.datasets[n],r=t._meta&&t._meta[i];r&&(r.controller.destroy(),delete t._meta[i])},destroy:function(){var i,r,n=this,u=n.canvas;for(n.stop(),i=0,r=n.data.datasets.length;i<r;++i)n.destroyDatasetMeta(i);u&&(n.unbindEvents(),t.canvas.clear(n),dt.releaseContext(n.ctx),n.canvas=null,n.ctx=null);f.notify(n,"destroy");delete ot.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var n=this;n.tooltip=new ff({_chart:n,_chartInstance:n,_data:n.data,_options:n.options.tooltips},n)},bindEvents:function(){var n=this,r=n._listeners={},i=function(){n.eventHandler.apply(n,arguments)};t.each(n.options.events,function(t){dt.addEventListener(n,t,i);r[t]=i});n.options.responsive&&(i=function(){n.resize()},dt.addEventListener(n,"resize",i),r.resize=i)},unbindEvents:function(){var n=this,i=n._listeners;i&&(delete n._listeners,t.each(i,function(t,i){dt.removeEventListener(n,i,t)}))},updateHoverStyle:function(n,t,i){for(var u,e=i?"set":"remove",r=0,f=n.length;r<f;++r)(u=n[r])&&this.getDatasetMeta(u._datasetIndex).controller[e+"HoverStyle"](u);"dataset"===t&&this.getDatasetMeta(n[0]._datasetIndex).controller["_"+e+"DatasetHoverStyle"]()},eventHandler:function(n){var t=this,i=t.tooltip,r,u;if(!1!==f.notify(t,"beforeEvent",[n]))return t._bufferedRender=!0,t._bufferedRequest=null,r=t.handleEvent(n),i&&(r=i._start?i.handleEvent(n):r|i.handleEvent(n)),f.notify(t,"afterEvent",[n]),u=t._bufferedRequest,u?t.render(u):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t},handleEvent:function(n){var f,i=this,r=i.options||{},u=r.hover;return i.lastActive=i.lastActive||[],i.active="mouseout"===n.type?[]:i.getElementsAtEventForMode(n,u.mode,u),t.callback(r.onHover||r.hover.onHover,[n.native,i.active],i),"mouseup"!==n.type&&"click"!==n.type||r.onClick&&r.onClick.call(i,n.native,i.active),i.lastActive.length&&i.updateHoverStyle(i.lastActive,u.mode,!1),i.active.length&&u.mode&&i.updateHoverStyle(i.active,u.mode,!0),f=!t.arrayEquals(i.active,i.lastActive),i.lastActive=i.active,f}});ot.instances={};r=ot;ot.Controller=ot;ot.types={};t.configMerge=ef;t.scaleMerge=ko;t.extend(lr.prototype,{formats:gt,parse:gt,format:gt,add:gt,diff:gt,startOf:gt,endOf:gt,_create:function(n){return n}});lr.override=function(n){t.extend(lr.prototype,n)};var sf={_date:lr},bi={formatters:{values:function(n){return t.isArray(n)?n:""+n},linear:function(n,i,r){var o=r.length>3?r[2]-r[1]:r[1]-r[0],s,u,h,f,e;return Math.abs(o)>1&&n!==Math.floor(n)&&(o=n-Math.floor(n)),s=t.log10(Math.abs(o)),u="",0!==n?Math.max(Math.abs(r[0]),Math.abs(r[r.length-1]))<.0001?(h=t.log10(Math.abs(n)),f=Math.floor(h)-Math.floor(s),f=Math.max(Math.min(f,20),0),u=n.toExponential(f)):(e=-1*Math.floor(s),e=Math.max(Math.min(e,20),0),u=n.toFixed(e)):u="0",u},logarithmic:function(n,i,r){var u=n/Math.pow(10,Math.floor(t.log10(n)));return 0===n?"0":1===u||2===u||5===u||0===i||i===r.length-1?n.toExponential():""}}},ni=t.isArray,ki=t.isNullOrUndef,ti=t.valueOrDefault,oi=t.valueAtIndexOrDefault;i._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:bi.formatters.values,minor:{},major:{}}});vr=nt.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){t.callback(this.options.beforeUpdate,[this])},update:function(n,i,r){var e,c,s,f,h,u=this,o=u.options.ticks,l=o.sampleSize;if(u.beforeUpdate(),u.maxWidth=n,u.maxHeight=i,u.margins=t.extend({left:0,right:0,top:0,bottom:0},r),u._ticks=null,u.ticks=null,u._labelSizes=null,u._maxLabelLines=0,u.longestLabelWidth=0,u.longestTextCache=u.longestTextCache||{},u._gridLineItems=null,u._labelItems=null,u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),f=u.buildTicks()||[],(!(f=u.afterBuildTicks(f)||f)||!f.length)&&u.ticks)for(f=[],e=0,c=u.ticks.length;e<c;++e)f.push({value:u.ticks[e],major:!1});return u._ticks=f,h=l<f.length,s=u._convertTicksToLabels(h?function(n,t){for(var r=[],u=n.length/t,i=0,f=n.length;i<f;i+=u)r.push(n[Math.floor(i)]);return r}(f,l):f),u._configure(),u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u._ticksToDraw=o.display&&(o.autoSkip||"auto"===o.source)?u._autoSkip(f):f,h&&(s=u._convertTicksToLabels(u._ticksToDraw)),u.ticks=s,u.afterUpdate(),u.minSize},_configure:function(){var t,i,n=this,r=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,i=n.right):(t=n.top,i=n.bottom,r=!r);n._startPixel=t;n._endPixel=i;n._reversePixels=r;n._length=i-t},afterUpdate:function(){t.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0},afterSetDimensions:function(){t.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(n){var i=this;return ni(n)&&n.length?t.callback(i.options.afterBuildTicks,[i,n]):(i.ticks=t.callback(i.options.afterBuildTicks,[i,i.ticks])||i.ticks,n)},beforeTickToLabelConversion:function(){t.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var n=this.options.ticks;this.ticks=this.ticks.map(n.userCallback||n.callback,this)},afterTickToLabelConversion:function(){t.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var u,i,f,c,l,v,a,n=this,r=n.options,e=r.ticks,o=n.getTicks().length,s=e.minRotation||0,y=e.maxRotation,h=s;!n._isVisible()||!e.display||s>=y||o<=1||!n.isHorizontal()?n.labelRotation=s:(i=(u=n._getLabelSizes()).widest.width,f=u.highest.height-u.highest.offset,c=Math.min(n.maxWidth,n.chart.width-i),i+6>(l=r.offset?n.maxWidth/o:c/(o-1))&&(l=c/(o-(r.offset?.5:1)),v=n.maxHeight-di(r.gridLines)-e.padding-hf(r.scaleLabel),a=Math.sqrt(i*i+f*f),h=t.toDegrees(Math.min(Math.asin(Math.min((u.highest.height+6)/l,1)),Math.asin(Math.min(v/a,1))-Math.asin(f/a))),h=Math.max(s,Math.min(y,h))),n.labelRotation=h)},afterCalculateTickRotation:function(){t.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callback(this.options.beforeFit,[this])},fit:function(){var n=this,i=n.minSize={width:0,height:0},b=n.chart,e=n.options,o=e.ticks,k=e.scaleLabel,d=e.gridLines,c=n._isVisible(),g="bottom"===e.position,s=n.isHorizontal(),v,y,p,w,ft;if(s?i.width=n.maxWidth:c&&(i.width=di(d)+hf(k)),s?c&&(i.height=di(d)+hf(k)):i.height=n.maxHeight,o.display&&c){var et=cf(o),h=n._getLabelSizes(),r=h.first,u=h.last,nt=h.widest,tt=h.highest,it=.4*et.minor.lineHeight,rt=o.padding;if(s){var l=0!==n.labelRotation,ut=t.toRadians(n.labelRotation),a=Math.cos(ut),f=Math.sin(ut),ot=f*nt.width+a*(tt.height-(l?tt.offset:0))+(l?0:it);i.height=Math.min(n.maxHeight,i.height+ot+rt);p=n.getPixelForTick(0)-n.left;w=n.right-n.getPixelForTick(n.getTicks().length-1);l?(v=g?a*r.width+f*r.offset:f*(r.height-r.offset),y=g?f*(u.height-u.offset):a*u.width+f*u.offset):(v=r.width/2,y=u.width/2);n.paddingLeft=Math.max((v-p)*n.width/(n.width-p),0)+3;n.paddingRight=Math.max((y-w)*n.width/(n.width-w),0)+3}else ft=o.mirror?0:nt.width+rt+it,i.width=Math.min(n.maxWidth,i.width+ft),n.paddingTop=r.height/2,n.paddingBottom=u.height/2}n.handleMargins();s?(n.width=n._length=b.width-n.margins.left-n.margins.right,n.height=i.height):(n.width=i.width,n.height=n._length=b.height-n.margins.top-n.margins.bottom)},handleMargins:function(){var n=this;n.margins&&(n.margins.left=Math.max(n.paddingLeft,n.margins.left),n.margins.top=Math.max(n.paddingTop,n.margins.top),n.margins.right=Math.max(n.paddingRight,n.margins.right),n.margins.bottom=Math.max(n.paddingBottom,n.margins.bottom))},afterFit:function(){t.callback(this.options.afterFit,[this])},isHorizontal:function(){var n=this.options.position;return"top"===n||"bottom"===n},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(n){if(ki(n))return NaN;if(("number"==typeof n||n instanceof Number)&&!isFinite(n))return NaN;if(n)if(this.isHorizontal()){if(void 0!==n.x)return this.getRightValue(n.x)}else if(void 0!==n.y)return this.getRightValue(n.y);return n},_convertTicksToLabels:function(n){var r,t,u,i=this;for(i.ticks=n.map(function(n){return n.value}),i.beforeTickToLabelConversion(),r=i.convertTicksToLabels(n)||i.ticks,i.afterTickToLabelConversion(),t=0,u=n.length;t<u;++t)n[t].label=r[t];return r},_getLabelSizes:function(){var n=this,t=n._labelSizes;return t||(n._labelSizes=t=fl(n.ctx,cf(n.options.ticks),n.getTicks(),n.longestTextCache),n.longestLabelWidth=t.widest.width),t},_parseValue:function(n){var t,i,r,u;return ni(n)?(t=+this.getRightValue(n[0]),i=+this.getRightValue(n[1]),r=Math.min(t,i),u=Math.max(t,i)):(t=void 0,i=n=+this.getRightValue(n),r=n,u=n),{min:r,max:u,start:t,end:i}},_getScaleLabel:function(n){var t=this._parseValue(n);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(n)},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(n){var t=this.options.offset,i=this._ticks.length,r=1/Math.max(i-(t?0:1),1);return n<0||n>i-1?null:this.getPixelForDecimal(n*r+(t?r/2:0))},getPixelForDecimal:function(n){return this._reversePixels&&(n=1-n),this._startPixel+n*this._length},getDecimalForPixel:function(n){var t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var n=this.min,t=this.max;return this.beginAtZero?0:n<0&&t<0?t:n>0&&t>0?n:0},_autoSkip:function(n){var u,c,f,e,l=this.options.ticks,a=this._length,o=l.maxTicksLimit||a/this._tickSize()+1,i=l.major.enabled?function(n){for(var r=[],t=0,i=n.length;t<i;t++)n[t].major&&r.push(t);return r}(n):[],r=i.length,s=i[0],h=i[r-1];if(r>o)return function(n,t,i){var r,u,e=0,f=t[0];for(i=Math.ceil(i),r=0;r<n.length;r++)u=n[r],r===f?(u._index=r,f=t[++e*i]):delete u.label}(n,i,r/o),lf(n);if(f=function(n,i,r,u){var o,s,f,h,c=function(n){var t,i,r=n.length;if(r<2)return!1;for(i=n[0],t=1;t<r;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),e=(i.length-1)/u;if(!c)return Math.max(e,1);for(f=0,h=(o=t.math._factorize(c)).length-1;f<h;f++)if((s=o[f])>e)return s;return Math.max(e,1)}(i,n,0,o),r>0){for(u=0,c=r-1;u<c;u++)ar(n,f,i[u],i[u+1]);return e=r>1?(h-s)/(r-1):null,ar(n,f,t.isNullOrUndef(e)?0:s-e,s),ar(n,f,h,t.isNullOrUndef(e)?n.length:h+e),lf(n)}return ar(n,f),lf(n)},_tickSize:function(){var s=this.options.ticks,e=t.toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=s.autoSkipPadding||0,u=r?r.widest.width+o:0,f=r?r.highest.height+o:0;return this.isHorizontal()?f*n>u*i?u/n:f/i:f*i<u*n?f/n:u/i},_isVisible:function(){var n,i,r,t=this.chart,u=this.options.display;if("auto"!==u)return!!u;for(n=0,i=t.data.datasets.length;n<i;++n)if(t.isDatasetVisible(n)&&((r=t.getDatasetMeta(n)).xAxisID===this.id||r.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(n){var u,f,d,ot,g,s,h,c,l,a,v,y,p,w,nt,tt,it,i=this,st=i.chart,rt=i.options,r=rt.gridLines,ut=rt.position,ft=r.offsetGridLines,at=i.isHorizontal(),et=i._ticksToDraw,ht=et.length+(ft?1:0),b=di(r),k=[],ct=r.drawBorder?oi(r.lineWidth,0,0):0,e=ct/2,lt=t._alignPixel,o=function(n){return lt(st,n,ct)};for("top"===ut?(u=o(i.bottom),h=i.bottom-b,l=u-e,v=o(n.top)+e,p=n.bottom):"bottom"===ut?(u=o(i.top),v=n.top,p=o(n.bottom)-e,h=u+e,l=i.top+b):"left"===ut?(u=o(i.right),s=i.right-b,c=u-e,a=o(n.left)+e,y=n.right):(u=o(i.left),a=n.left,y=o(n.right)-e,s=u+e,c=i.left+b),f=0;f<ht;++f)d=et[f]||{},ki(d.label)&&f<et.length||(f===i.zeroLineIndex&&rt.offset===ft?(w=r.zeroLineWidth,nt=r.zeroLineColor,tt=r.zeroLineBorderDash||[],it=r.zeroLineBorderDashOffset||0):(w=oi(r.lineWidth,f,1),nt=oi(r.color,f,"rgba(0,0,0,0.1)"),tt=r.borderDash||[],it=r.borderDashOffset||0),void 0!==(ot=ul(i,d._index||f,ft))&&(g=lt(st,ot,w),at?s=c=a=y=g:h=l=v=p=g,k.push({tx1:s,ty1:h,tx2:c,ty2:l,x1:a,y1:v,x2:y,y2:p,width:w,color:nt,borderDash:tt,borderDashOffset:it})));return k.ticksLength=ht,k.borderValue=u,k},_computeLabelItems:function(){var i,d,y,r,e,o,u,p,g,s,w,b,n=this,k=n.options,h=k.ticks,c=k.position,l=h.mirror,rt=n.isHorizontal(),nt=n._ticksToDraw,tt=cf(h),a=h.padding,v=di(k.gridLines),f=-t.toRadians(n.labelRotation),it=[];for("top"===c?(o=n.bottom-v-a,u=f?"left":"center"):"bottom"===c?(o=n.top+v+a,u=f?"right":"center"):"left"===c?(e=n.right-(l?0:v)-a,u=l?"left":"right"):(e=n.left+(l?0:v)+a,u=l?"right":"left"),i=0,d=nt.length;i<d;++i)r=(y=nt[i]).label,ki(r)||(p=n.getPixelForTick(y._index||i)+h.labelOffset,s=(g=y.major?tt.major:tt.minor).lineHeight,w=ni(r)?r.length:1,rt?(e=p,b="top"===c?((f?1:.5)-w)*s:(f?0:.5)*s):(o=p,b=(1-w)*s/2),it.push({x:e,y:o,rotation:f,label:r,font:g,textOffset:b,textAlign:u}));return it},_drawGrid:function(n){var u=this,f=u.options.gridLines;if(f.display){for(var a,v,r,i=u.ctx,o=u.chart,s=t._alignPixel,y=f.drawBorder?oi(f.lineWidth,0,0):0,h=u._gridLineItems||(u._gridLineItems=u._computeGridLineItems(n)),e=0,d=h.length;e<d;++e)a=(r=h[e]).width,v=r.color,a&&v&&(i.save(),i.lineWidth=a,i.strokeStyle=v,i.setLineDash&&(i.setLineDash(r.borderDash),i.lineDashOffset=r.borderDashOffset),i.beginPath(),f.drawTicks&&(i.moveTo(r.tx1,r.ty1),i.lineTo(r.tx2,r.ty2)),f.drawOnChartArea&&(i.moveTo(r.x1,r.y1),i.lineTo(r.x2,r.y2)),i.stroke(),i.restore());if(y){var p,w,b,k,c=y,l=oi(f.lineWidth,h.ticksLength-1,1),g=h.borderValue;u.isHorizontal()?(p=s(o,u.left,c)-c/2,w=s(o,u.right,l)+l/2,b=k=g):(b=s(o,u.top,c)-c/2,k=s(o,u.bottom,l)+l/2,p=w=g);i.lineWidth=y;i.strokeStyle=oi(f.color,0);i.beginPath();i.moveTo(p,b);i.lineTo(w,k);i.stroke()}}},_drawLabels:function(){var i=this,u,f,h,c,t,e,r,o,n,s;if(i.options.ticks.display)for(n=i.ctx,s=i._labelItems||(i._labelItems=i._computeLabelItems()),u=0,h=s.length;u<h;++u){if(e=(t=s[u]).font,n.save(),n.translate(t.x,t.y),n.rotate(t.rotation),n.font=e.string,n.fillStyle=e.color,n.textBaseline="middle",n.textAlign=t.textAlign,r=t.label,o=t.textOffset,ni(r))for(f=0,c=r.length;f<c;++f)n.fillText(""+r[f],0,o),o+=e.lineHeight;else n.fillText(r,0,o);n.restore()}},_drawTitle:function(){var n=this,r=n.ctx,c=n.options,u=c.scaleLabel,h;if(u.display){var o,s,y=ti(u.fontColor,i.global.defaultFontColor),l=t.options._parseFont(u),f=t.options.toPadding(u.padding),e=l.lineHeight/2,a=c.position,v=0;n.isHorizontal()?(o=n.left+n.width/2,s="bottom"===a?n.bottom-e-f.bottom:n.top+e+f.top):(h="left"===a,o=h?n.left+e+f.top:n.right-e-f.top,s=n.top+n.height/2,v=h?-.5*Math.PI:.5*Math.PI);r.save();r.translate(o,s);r.rotate(v);r.textAlign="center";r.textBaseline="middle";r.fillStyle=y;r.font=l.string;r.fillText(u.labelString,0,0);r.restore()}},draw:function(n){this._isVisible()&&(this._drawGrid(n),this._drawTitle(),this._drawLabels())},_layers:function(){var n=this,t=n.options,i=t.ticks&&t.ticks.z||0,r=t.gridLines&&t.gridLines.z||0;return n._isVisible()&&i!==r&&n.draw===n._draw?[{z:r,draw:function(){n._drawGrid.apply(n,arguments);n._drawTitle.apply(n,arguments)}},{z:i,draw:function(){n._drawLabels.apply(n,arguments)}}]:[{z:i,draw:function(){n.draw.apply(n,arguments)}}]},_getMatchingVisibleMetas:function(n){var t=this,i=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter(function(r){return(!n||r.type===n)&&(i?r.xAxisID===t.id:r.yAxisID===t.id)})}});vr.prototype._draw=vr.prototype.draw;var l=vr,af=t.isNullOrUndef,rs=l.extend({determineDataLimits:function(){var i,n=this,t=n._getLabels(),f=n.options.ticks,e=f.min,o=f.max,r=0,u=t.length-1;void 0!==e&&(i=t.indexOf(e))>=0&&(r=i);void 0!==o&&(i=t.indexOf(o))>=0&&(u=i);n.minIndex=r;n.maxIndex=u;n.min=t[r];n.max=t[u]},buildTicks:function(){var n=this._getLabels(),t=this.minIndex,i=this.maxIndex;this.ticks=0===t&&i===n.length-1?n:n.slice(t,i+1)},getLabelForIndex:function(n,t){var i=this.chart;return i.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(i.data.datasets[t].data[n]):this._getLabels()[n]},_configure:function(){var n=this,t=n.options.offset,i=n.ticks;l.prototype._configure.call(n);n.isHorizontal()||(n._reversePixels=!n._reversePixels);i&&(n._startValue=n.minIndex-(t?.5:0),n._valueRange=Math.max(i.length-(t?0:1),1))},getPixelForValue:function(n,i,r){var f,e,o,u=this;return af(i)||af(r)||(n=u.chart.data.datasets[r].data[i]),af(n)||(f=u.isHorizontal()?n.x:n.y),(void 0!==f||void 0!==n&&isNaN(i))&&(e=u._getLabels(),n=t.valueOrDefault(f,n),i=-1!==(o=e.indexOf(n))?o:i,isNaN(i)&&(i=n)),u.getPixelForDecimal((i-u._startValue)/u._valueRange)},getPixelForTick:function(n){var t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n],n+this.minIndex)},getValueForPixel:function(n){var t=Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});rs._defaults={position:"bottom"};var el=t.noop,ii=t.isNullOrUndef,yr=l.extend({getRightValue:function(n){return"string"==typeof n?+n:l.prototype.getRightValue.call(this,n)},handleTickRangeOptions:function(){var n=this,i=n.options.ticks,r,u,f,e;i.beginAtZero&&(r=t.sign(n.min),u=t.sign(n.max),r<0&&u<0?n.max=0:r>0&&u>0&&(n.min=0));f=void 0!==i.min||void 0!==i.suggestedMin;e=void 0!==i.max||void 0!==i.suggestedMax;void 0!==i.min?n.min=i.min:void 0!==i.suggestedMin&&(n.min=null===n.min?i.suggestedMin:Math.min(n.min,i.suggestedMin));void 0!==i.max?n.max=i.max:void 0!==i.suggestedMax&&(n.max=null===n.max?i.suggestedMax:Math.max(n.max,i.suggestedMax));f!==e&&n.min>=n.max&&(f?n.max=n.min+1:n.min=n.max-1);n.min===n.max&&(n.max++,i.beginAtZero||n.min--)},getTickLimit:function(){var n,r=this.options.ticks,i=r.stepSize,t=r.maxTicksLimit;return i?n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1:(n=this._computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:el,buildTicks:function(){var n=this,i=n.options.ticks,u=n.getTickLimit(),f={maxTicks:u=Math.max(2,u),min:i.min,max:i.max,precision:i.precision,stepSize:t.valueOrDefault(i.fixedStepSize,i.stepSize)},r=n.ticks=function(n,i){var u,e,o,f,c=[],p=n.stepSize,l=p||1,w=n.maxTicks-1,s=n.min,h=n.max,b=n.precision,a=i.min,v=i.max,r=t.niceNum((v-a)/w/l)*l,y;if(r<1e-14&&ii(s)&&ii(h))return[a,v];for((f=Math.ceil(v/r)-Math.floor(a/r))>w&&(r=t.niceNum(f*r/w/l)*l),p||ii(b)?u=Math.pow(10,t._decimalPlaces(r)):(u=Math.pow(10,b),r=Math.ceil(r*u)/u),e=Math.floor(a/r)*r,o=Math.ceil(v/r)*r,p&&(!ii(s)&&t.almostWhole(s/r,r/1e3)&&(e=s),!ii(h)&&t.almostWhole(h/r,r/1e3)&&(o=h)),f=(o-e)/r,f=t.almostEquals(f,Math.round(f),r/1e3)?Math.round(f):Math.ceil(f),e=Math.round(e*u)/u,o=Math.round(o*u)/u,c.push(ii(s)?e:s),y=1;y<f;++y)c.push(Math.round((e+y*r)*u)/u);return c.push(ii(h)?o:h),c}(f,n);n.handleDirectionalChanges();n.max=t.max(r);n.min=t.min(r);i.reverse?(r.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){var n=this;n.ticksAsNumbers=n.ticks.slice();n.zeroLineIndex=n.ticks.indexOf(0);l.prototype.convertTicksToLabels.call(n)},_configure:function(){var r,n=this,u=n.getTicks(),t=n.min,i=n.max;l.prototype._configure.call(n);n.options.offset&&u.length&&(t-=r=(i-t)/Math.max(u.length-1,1)/2,i+=r);n._startValue=t;n._endValue=i;n._valueRange=i-t}}),ol={position:"left",ticks:{callback:bi.formatters.linear}};vf=yr.extend({determineDataLimits:function(){var i,r,f,e,n=this,c=n.options,l=n.chart.data.datasets,o=n._getMatchingVisibleMetas(),u=c.stacked,s={},h=o.length;if(n.min=Number.POSITIVE_INFINITY,n.max=Number.NEGATIVE_INFINITY,void 0===u)for(i=0;!u&&i<h;++i)u=void 0!==(r=o[i]).stack;for(i=0;i<h;++i)f=l[(r=o[i]).index].data,u?sl(n,s,r,f):hl(n,r,f);t.each(s,function(i){e=i.pos.concat(i.neg);n.min=Math.min(n.min,t.min(e));n.max=Math.max(n.max,t.max(e))});n.min=t.isFinite(n.min)&&!isNaN(n.min)?n.min:0;n.max=t.isFinite(n.max)&&!isNaN(n.max)?n.max:1;n.handleTickRangeOptions()},_computeTickLimit:function(){var n;return this.isHorizontal()?Math.ceil(this.width/40):(n=t.options._parseFont(this.options.ticks),Math.ceil(this.height/n.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(n,t){return this._getScaleLabel(this.chart.data.datasets[t].data[n])},getPixelForValue:function(n){return this.getPixelForDecimal((+this.getRightValue(n)-this._startValue)/this._valueRange)},getValueForPixel:function(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange},getPixelForTick:function(n){var t=this.ticksAsNumbers;return n<0||n>t.length-1?null:this.getPixelForValue(t[n])}});us=ol;vf._defaults=us;var yf=t.valueOrDefault,a=t.math.log10,cl={position:"left",ticks:{callback:bi.formatters.logarithmic}};pf=l.extend({determineDataLimits:function(){function p(t){return w?t.xAxisID===n.id:t.yAxisID===n.id}var i,f,r,h,u,c,n=this,y=n.options,e=n.chart,o=e.data.datasets,w=n.isHorizontal(),l,s,a,v;if(n.min=Number.POSITIVE_INFINITY,n.max=Number.NEGATIVE_INFINITY,n.minNotZero=Number.POSITIVE_INFINITY,l=y.stacked,void 0===l)for(i=0;i<o.length;i++)if(f=e.getDatasetMeta(i),e.isDatasetVisible(i)&&p(f)&&void 0!==f.stack){l=!0;break}if(y.stacked||l){for(s={},i=0;i<o.length;i++)if(a=[(f=e.getDatasetMeta(i)).type,void 0===y.stacked&&void 0===f.stack?i:"",f.stack].join("."),e.isDatasetVisible(i)&&p(f))for(void 0===s[a]&&(s[a]=[]),u=0,c=(h=o[i].data).length;u<c;u++)v=s[a],r=n._parseValue(h[u]),isNaN(r.min)||isNaN(r.max)||f.data[u].hidden||r.min<0||r.max<0||(v[u]=v[u]||0,v[u]+=r.max);t.each(s,function(i){if(i.length>0){var r=t.min(i),u=t.max(i);n.min=Math.min(n.min,r);n.max=Math.max(n.max,u)}})}else for(i=0;i<o.length;i++)if(f=e.getDatasetMeta(i),e.isDatasetVisible(i)&&p(f))for(u=0,c=(h=o[i].data).length;u<c;u++)r=n._parseValue(h[u]),isNaN(r.min)||isNaN(r.max)||f.data[u].hidden||r.min<0||r.max<0||(n.min=Math.min(r.min,n.min),n.max=Math.max(r.max,n.max),0!==r.min&&(n.minNotZero=Math.min(r.min,n.minNotZero)));n.min=t.isFinite(n.min)?n.min:null;n.max=t.isFinite(n.max)?n.max:null;n.minNotZero=t.isFinite(n.minNotZero)?n.minNotZero:null;this.handleTickRangeOptions()},handleTickRangeOptions:function(){var n=this,t=n.options.ticks;n.min=pr(t.min,n.min);n.max=pr(t.max,n.max);n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(a(n.min))-1),n.max=Math.pow(10,Math.floor(a(n.max))+1)):(n.min=1,n.max=10));null===n.min&&(n.min=Math.pow(10,Math.floor(a(n.max))-1));null===n.max&&(n.max=0!==n.min?Math.pow(10,Math.floor(a(n.min))+1):10);null===n.minNotZero&&(n.minNotZero=n.min>0?n.min:n.max<1?Math.pow(10,Math.floor(a(n.max))):1)},buildTicks:function(){var n=this,i=n.options.ticks,r=!n.isHorizontal(),f={min:pr(i.min),max:pr(i.max)},u=n.ticks=function(n,t){var i,u,e=[],r=yf(n.min,Math.pow(10,Math.floor(a(t.min)))),o=Math.floor(a(t.max)),h=Math.ceil(t.max/Math.pow(10,o)),f,s;0===r?(i=Math.floor(a(t.minNotZero)),u=Math.floor(t.minNotZero/Math.pow(10,i)),e.push(r),r=u*Math.pow(10,i)):(i=Math.floor(a(r)),u=Math.floor(r/Math.pow(10,i)));f=i<0?Math.pow(10,Math.abs(i)):1;do e.push(r),10==++u&&(u=1,f=++i>=0?1:f),r=Math.round(u*Math.pow(10,i)*f)/f;while(i<o||i===o&&u<h);return s=yf(n.max,r),e.push(s),e}(f,n);n.max=t.max(u);n.min=t.min(u);i.reverse?(r=!r,n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max);r&&u.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();l.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(n,t){return this._getScaleLabel(this.chart.data.datasets[t].data[n])},getPixelForTick:function(n){var t=this.tickValues;return n<0||n>t.length-1?null:this.getPixelForValue(t[n])},_getFirstTickValue:function(n){var t=Math.floor(a(n));return Math.floor(n/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var n=this,t=n.min,r=0;l.prototype._configure.call(n);0===t&&(t=n._getFirstTickValue(n.minNotZero),r=yf(n.options.ticks.fontSize,i.global.defaultFontSize)/n._length);n._startValue=a(t);n._valueOffset=r;n._valueRange=(a(n.max)-a(t))/(1-r)},getPixelForValue:function(n){var t=this,i=0;return(n=+t.getRightValue(n))>t.min&&n>0&&(i=(a(n)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(i)},getValueForPixel:function(n){var t=this,i=t.getDecimalForPixel(n);return 0===i&&0===t.min?0:Math.pow(10,t._startValue+(i-t._valueOffset)*t._valueRange)}});fs=cl;pf._defaults=fs;var wr=t.valueOrDefault,wf=t.valueAtIndexOrDefault,es=t.options.resolve,ll={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:bi.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(n){return n}}};kf=yr.extend({setDimensions:function(){var n=this;n.width=n.maxWidth;n.height=n.maxHeight;n.paddingTop=bf(n.options)/2;n.xCenter=Math.floor(n.width/2);n.yCenter=Math.floor((n.height-n.paddingTop)/2);n.drawingArea=Math.min(n.height-n.paddingTop,n.width)/2},determineDataLimits:function(){var n=this,u=n.chart,i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;t.each(u.data.datasets,function(f,e){if(u.isDatasetVisible(e)){var o=u.getDatasetMeta(e);t.each(f.data,function(t,u){var f=+n.getRightValue(t);isNaN(f)||o.data[u].hidden||(i=Math.min(f,i),r=Math.max(f,r))})}});n.min=i===Number.POSITIVE_INFINITY?0:i;n.max=r===Number.NEGATIVE_INFINITY?0:r;n.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/bf(this.options))},convertTicksToLabels:function(){var n=this;yr.prototype.convertTicksToLabels.call(n);n.pointLabels=n.chart.data.labels.map(function(){var i=t.callback(n.options.pointLabels.callback,arguments,n);return i||0===i?i:""})},getLabelForIndex:function(n,t){return+this.getRightValue(this.chart.data.datasets[t].data[n])},fit:function(){var n=this.options;n.display&&n.pointLabels.display?function(n){var r,o,l,v=t.options._parseFont(n.options.pointLabels),i={l:0,r:n.width,t:0,b:n.height-n.paddingTop},u={},s,a,f,y;for(n.ctx.font=v.string,n._pointLabelSizes=[],y=n.chart.data.labels.length,r=0;r<y;r++){l=n.getPointPosition(r,n.drawingArea+5);s=n.ctx;a=v.lineHeight;f=n.pointLabels[r];o=t.isArray(f)?{w:t.longestText(s,s.font,f),h:f.length*a}:{w:s.measureText(f).width,h:a};n._pointLabelSizes[r]=o;var e=n.getIndexAngle(r),p=t.toDegrees(e)%360,h=os(p,l.x,o.w,0,180),c=os(p,l.y,o.h,90,270);h.start<i.l&&(i.l=h.start,u.l=e);h.end>i.r&&(i.r=h.end,u.r=e);c.start<i.t&&(i.t=c.start,u.t=e);c.end>i.b&&(i.b=c.end,u.b=e)}n.setReductions(n.drawingArea,i,u)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(n,t,i){var r=this,u=t.l/Math.sin(i.l),f=Math.max(t.r-r.width,0)/Math.sin(i.r),e=-t.t/Math.cos(i.t),o=-Math.max(t.b-(r.height-r.paddingTop),0)/Math.cos(i.b);u=br(u);f=br(f);e=br(e);o=br(o);r.drawingArea=Math.min(Math.floor(n-(u+f)/2),Math.floor(n-(e+o)/2));r.setCenterPoint(u,f,e,o)},setCenterPoint:function(n,t,i,r){var u=this,f=u.width-t-u.drawingArea,e=n+u.drawingArea,o=i+u.drawingArea,s=u.height-u.paddingTop-r-u.drawingArea;u.xCenter=Math.floor((e+f)/2+u.left);u.yCenter=Math.floor((o+s)/2+u.top+u.paddingTop)},getIndexAngle:function(n){var i=this.chart,t=(n*(360/i.data.labels.length)+((i.options||{}).startAngle||0))%360;return(t<0?t+360:t)*Math.PI/180},getDistanceFromCenterForValue:function(n){var i=this,r;return t.isNullOrUndef(n)?NaN:(r=i.drawingArea/(i.max-i.min),i.options.ticks.reverse?(i.max-n)*r:(n-i.min)*r)},getPointPosition:function(n,t){var i=this.getIndexAngle(n)-Math.PI/2;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter}},getPointPositionForValue:function(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))},getBasePosition:function(n){var t=this.min,i=this.max;return this.getPointPositionForValue(n||0,this.beginAtZero?0:t<0&&i<0?i:t>0&&i>0?t:0)},_drawGrid:function(){var e,o,h,n=this,r=n.ctx,s=n.options,u=s.gridLines,f=s.angleLines,c=wr(f.lineWidth,u.lineWidth),l=wr(f.color,u.color);if(s.pointLabels.display&&function(n){var u=n.ctx,f=n.options,o=f.pointLabels,l=bf(f),a=n.getDistanceFromCenterForValue(f.ticks.reverse?n.min:n.max),s=t.options._parseFont(o),r,c,e;for(u.save(),u.font=s.string,u.textBaseline="middle",r=n.chart.data.labels.length-1;r>=0;r--){var v=0===r?l/2:0,h=n.getPointPosition(r,a+v+5),y=wf(o.fontColor,r,i.global.defaultFontColor);u.fillStyle=y;c=n.getIndexAngle(r);e=t.toDegrees(c);u.textAlign=al(e);yl(e,n._pointLabelSizes[r],h);vl(u,n.pointLabels[r],h,s.lineHeight)}u.restore()}(n),u.display&&t.each(n.ticks,function(t,i){0!==i&&(o=n.getDistanceFromCenterForValue(n.ticksAsNumbers[i]),function(n,t,i,r){var f,u=n.ctx,o=t.circular,s=n.chart.data.labels.length,h=wf(t.color,r-1),c=wf(t.lineWidth,r-1),e;if((o||s)&&h&&c){if(u.save(),u.strokeStyle=h,u.lineWidth=c,u.setLineDash&&(u.setLineDash(t.borderDash||[]),u.lineDashOffset=t.borderDashOffset||0),u.beginPath(),o)u.arc(n.xCenter,n.yCenter,i,0,2*Math.PI);else for(f=n.getPointPosition(0,i),u.moveTo(f.x,f.y),e=1;e<s;e++)f=n.getPointPosition(e,i),u.lineTo(f.x,f.y);u.closePath();u.stroke();u.restore()}}(n,u,o,i))}),f.display&&c&&l){for(r.save(),r.lineWidth=c,r.strokeStyle=l,r.setLineDash&&(r.setLineDash(es([f.borderDash,u.borderDash,[]])),r.lineDashOffset=es([f.borderDashOffset,u.borderDashOffset,0])),e=n.chart.data.labels.length-1;e>=0;e--)o=n.getDistanceFromCenterForValue(s.ticks.reverse?n.min:n.max),h=n.getPointPosition(e,o),r.beginPath(),r.moveTo(n.xCenter,n.yCenter),r.lineTo(h.x,h.y),r.stroke();r.restore()}},_drawLabels:function(){var u=this,n=u.ctx,r=u.options.ticks;if(r.display){var f,e,s=u.getIndexAngle(0),o=t.options._parseFont(r),h=wr(r.fontColor,i.global.defaultFontColor);n.save();n.font=o.string;n.translate(u.xCenter,u.yCenter);n.rotate(s);n.textAlign="center";n.textBaseline="middle";t.each(u.ticks,function(t,i){(0!==i||r.reverse)&&(f=u.getDistanceFromCenterForValue(u.ticksAsNumbers[i]),r.showLabelBackdrop&&(e=n.measureText(t).width,n.fillStyle=r.backdropColor,n.fillRect(-e/2-r.backdropPaddingX,-f-o.size/2-r.backdropPaddingY,e+2*r.backdropPaddingX,o.size+2*r.backdropPaddingY)),n.fillStyle=h,n.fillText(t,0,-f))});n.restore()}},_drawTitle:t.noop});ss=ll;kf._defaults=ss;var df=t._deprecated,hs=t.options.resolve,pl=t.valueOrDefault,cs=Number.MIN_SAFE_INTEGER||-9007199254740991,gf=Number.MAX_SAFE_INTEGER||9007199254740991,kr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},v=Object.keys(kr);te=l.extend({initialize:function(){this.mergeTicksOptions();l.prototype.initialize.call(this)},update:function(){var i=this,r=i.options,n=r.time||(r.time={}),u=i._adapter=new sf._date(r.adapters.date);return df("time scale",n.format,"time.format","time.parser"),df("time scale",n.min,"time.min","ticks.min"),df("time scale",n.max,"time.max","ticks.max"),t.mergeIf(n.displayFormats,u.formats()),l.prototype.update.apply(i,arguments)},getRightValue:function(n){return n&&void 0!==n.t&&(n=n.t),l.prototype.getRightValue.call(this,n)},determineDataLimits:function(){for(var o,y,c,l,p,i=this,a=i.chart,w=i._adapter,v=i.options,b=v.time.unit||"day",r=gf,u=cs,f=[],h=[],e=[],k=i._getLabels(),n=0,s=k.length;n<s;++n)e.push(ri(i,k[n]));for(n=0,s=(a.data.datasets||[]).length;n<s;++n)if(a.isDatasetVisible(n))if(c=a.data.datasets[n].data,t.isObject(c[0]))for(h[n]=[],o=0,y=c.length;o<y;++o)l=ri(i,c[o]),f.push(l),h[n][o]=l;else h[n]=e.slice(0),p||(f=f.concat(e),p=!0);else h[n]=[];e.length&&(r=Math.min(r,e[0]),u=Math.max(u,e[e.length-1]));f.length&&(f=s>1?function(n){for(var i,u={},f=[],t=0,r=n.length;t<r;++t)u[i=n[t]]||(u[i]=!0,f.push(i));return f}(f).sort(ls):f.sort(ls),r=Math.min(r,f[0]),u=Math.max(u,f[f.length-1]));r=ri(i,as(v))||r;u=ri(i,vs(v))||u;r=r===gf?+w.startOf(Date.now(),b):r;u=u===cs?+w.endOf(Date.now(),b)+1:u;i.min=Math.min(r,u);i.max=Math.max(r+1,u);i._table=[];i._timestamps={data:f,datasets:h,labels:e}},buildTicks:function(){var e,l,s,n=this,i=n.min,r=n.max,u=n.options,o=u.ticks,h=u.time,t=n._timestamps,f=[],a=n.getLabelCapacity(i),c=o.source,y=u.distribution;for(t="data"===c||"auto"===c&&"series"===y?t.data:"labels"===c?t.labels:function(n,t,i,r){var u,s=n._adapter,a=n.options,f=a.time,e=f.unit||ys(f.minUnit,t,i,r),h=hs([f.stepSize,f.unitStepSize,1]),c="week"===e&&f.isoWeekday,o=t,l=[];if(c&&(o=+s.startOf(o,"isoWeek",c)),o=+s.startOf(o,c?"day":e),s.diff(i,t,e)>1e5*h)throw t+" and "+i+" are too far apart with stepSize of "+h+" "+e;for(u=o;u<i;u=+s.add(u,h,e))l.push(u);return u!==i&&"ticks"!==a.bounds||l.push(u),l}(n,i,r,a),"ticks"===u.bounds&&t.length&&(i=t[0],r=t[t.length-1]),i=ri(n,as(u))||i,r=ri(n,vs(u))||r,e=0,l=t.length;e<l;++e)(s=t[e])>=i&&s<=r&&f.push(s);return n.min=i,n.max=r,n._unit=h.unit||(o.autoSkip?ys(h.minUnit,n.min,n.max,a):function(n,t,i,r,u){for(var e,f=v.length-1;f>=v.indexOf(i);f--)if(e=v[f],kr[e].common&&n._adapter.diff(u,r,e)>=t-1)return e;return v[i?v.indexOf(i):0]}(n,f.length,h.minUnit,n.min,n.max)),n._majorUnit=o.major.enabled&&"year"!==n._unit?function(n){for(var t=v.indexOf(n)+1,i=v.length;t<i;++t)if(kr[v[t]].common)return v[t]}(n._unit):void 0,n._table=function(n,t,i,r){if("linear"===r||!n.length)return[{time:t,pos:0},{time:i,pos:1}];for(var s,f,h,c=[],e=[t],u=0,o=n.length;u<o;++u)(f=n[u])>t&&f<i&&e.push(f);for(e.push(i),u=0,o=e.length;u<o;++u)h=e[u+1],s=e[u-1],f=e[u],void 0!==s&&void 0!==h&&Math.round((h+s)/2)===f||c.push({time:f,pos:u/(o-1)});return c}(n._timestamps.data,i,r,y),n._offsets=function(n,t,i,r,u){var f,e,o=0,s=0;return u.offset&&t.length&&(f=si(n,"time",t[0],"pos"),o=1===t.length?1-f:(si(n,"time",t[1],"pos")-f)/2,e=si(n,"time",t[t.length-1],"pos"),s=1===t.length?e:(e-si(n,"time",t[t.length-2],"pos"))/2),{start:o,end:s,factor:1/(o+1+s)}}(n._table,f,0,0,u),o.reverse&&f.reverse(),ps(n,f,n._majorUnit)},getLabelForIndex:function(n,i){var r=this,o=r._adapter,f=r.chart.data,e=r.options.time,u=f.labels&&n<f.labels.length?f.labels[n]:"",s=f.datasets[i].data[n];return t.isObject(s)&&(u=r.getRightValue(s)),e.tooltipFormat?o.format(ne(r,u),e.tooltipFormat):"string"==typeof u?u:o.format(ne(r,u),e.displayFormats.datetime)},tickFormatFunction:function(n,t,i,r){var y=this._adapter,f=this.options,e=f.time.displayFormats,p=e[this._unit],o=this._majorUnit,s=e[o],h=i[t],u=f.ticks,c=o&&s&&h&&h.major,l=y.format(n,r||(c?s:p)),a=c?u.major:u.minor,v=hs([a.callback,a.userCallback,u.callback,u.userCallback]);return v?v(l,t,i):l},convertTicksToLabels:function(n){for(var r=[],t=0,i=n.length;t<i;++t)r.push(this.tickFormatFunction(n[t].value,t,n));return r},getPixelForOffset:function(n){var t=this._offsets,i=si(this._table,"time",n,"pos");return this.getPixelForDecimal((t.start+i)*t.factor)},getPixelForValue:function(n,t,i){var r=null;if(void 0!==t&&void 0!==i&&(r=this._timestamps.datasets[i][t]),null===r&&(r=ri(this,n)),null!==r)return this.getPixelForOffset(r)},getPixelForTick:function(n){var t=this.getTicks();return n>=0&&n<t.length?this.getPixelForOffset(t[n].value):null},getValueForPixel:function(n){var t=this._offsets,i=this.getDecimalForPixel(n)/t.factor-t.end,r=si(this._table,"pos",i,"time");return this._adapter._create(r)},_getLabelSize:function(n){var r=this.options.ticks,u=this.ctx.measureText(n).width,f=t.toRadians(this.isHorizontal()?r.maxRotation:r.minRotation),e=Math.cos(f),o=Math.sin(f),s=pl(r.fontSize,i.global.defaultFontSize);return{w:u*e+s*o,h:u*o+s*e}},getLabelWidth:function(n){return this._getLabelSize(n).w},getLabelCapacity:function(n){var t=this,r=t.options.time,u=r.displayFormats,e=u[r.unit]||u.millisecond,o=t.tickFormatFunction(n,0,ps(t,[n],t._majorUnit),e),f=t._getLabelSize(o),i=Math.floor(t.isHorizontal()?t.width/f.w:t.height/f.h);return t.options.offset&&i--,i>0?i:1}});ws={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};te._defaults=ws;bs={category:rs,linear:vf,logarithmic:pf,radialLinear:kf,time:te};ks={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};sf._date.override("function"==typeof n?{_id:"moment",formats:function(){return ks},parse:function(t,i){return"string"==typeof t&&"string"==typeof i?t=n(t,i):t instanceof n||(t=n(t)),t.isValid()?t.valueOf():null},format:function(t,i){return n(t).format(i)},add:function(t,i,r){return n(t).add(i,r).valueOf()},diff:function(t,i,r){return n(t).diff(n(i),r)},startOf:function(t,i,r){return t=n(t),"isoWeek"===i?t.isoWeekday(r).valueOf():t.startOf(i).valueOf()},endOf:function(t,i){return n(t).endOf(i).valueOf()},_create:function(t){return n(t)}}:{});i._set("global",{plugins:{filler:{propagate:!0}}});ds={dataset:function(n){var t=n.fill,i=n.chart,r=i.getDatasetMeta(t),u=r&&i.isDatasetVisible(t)&&r.dataset._children||[],f=u.length||0;return f?function(n,t){return t<f&&u[t]._view||null}:null},boundary:function(n){var i=n.boundary,r=i?i.x:null,u=i?i.y:null;return t.isArray(i)?function(n,t){return i[t]}:function(n){return{x:null===r?n.x:r,y:null===u?n.y:u}}}};var na={id:"filler",afterDatasetsUpdate:function(n,t){for(var o,u,r,f=(n.data.datasets||[]).length,s=t.propagate,e=[],i=0;i<f;++i)r=null,(u=(o=n.getDatasetMeta(i)).dataset)&&u._model&&u instanceof c.Line&&(r={visible:n.isDatasetVisible(i),fill:wl(u,i,f),chart:n,el:u}),o.$filler=r,e.push(r);for(i=0;i<f;++i)(r=e[i])&&(r.fill=kl(e,i,s),r.boundary=bl(r),r.mapper=dl(r))},beforeDatasetsDraw:function(n){for(var r,f,e,o,s,h,l=n._getSortedVisibleDatasetMetas(),c=n.ctx,u=l.length-1;u>=0;--u)(r=l[u].$filler)&&r.visible&&(e=(f=r.el)._view,o=f._children||[],s=r.mapper,h=e.backgroundColor||i.global.defaultColor,s&&h&&o.length&&(t.canvas.clipArea(c,n.chartArea),gl(c,o,s,e,h,f._loop),t.canvas.unclipArea(c)))}},ta=t.rtl.getRtlAdapter,ct=t.noop,lt=t.valueOrDefault;i._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(n,t){var r=t.datasetIndex,i=this.chart,u=i.getDatasetMeta(r);u.hidden=null===u.hidden?!i.data.datasets[r].hidden:null;i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var i=n.data.datasets,t=n.options.legend||{},r=t.labels&&t.labels.usePointStyle;return n._getSortedDatasetMetas().map(function(t){var u=t.controller.getStyle(r?0:void 0);return{text:i[t.index].label,fillStyle:u.backgroundColor,hidden:!n.isDatasetVisible(t.index),lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:u.borderWidth,strokeStyle:u.borderColor,pointStyle:u.pointStyle,rotation:u.rotation,datasetIndex:t.index}},this)}}},legendCallback:function(n){var t,u,f,r=document.createElement("ul"),i=n.data.datasets;for(r.setAttribute("class",n.id+"-legend"),t=0,u=i.length;t<u;t++)(f=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=i[t].backgroundColor,i[t].label&&f.appendChild(document.createTextNode(i[t].label));return r.outerHTML}});re=nt.extend({initialize:function(n){t.extend(this,n);this.legendHitBoxes=[];this._hoveredItem=null;this.doughnutMode=!1},beforeUpdate:ct,update:function(n,t,i){var r=this;return r.beforeUpdate(),r.maxWidth=n,r.maxHeight=t,r.margins=i,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:ct,beforeSetDimensions:ct,setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0;n.minSize={width:0,height:0}},afterSetDimensions:ct,beforeBuildLabels:ct,buildLabels:function(){var n=this,r=n.options.labels||{},i=t.callback(r.generateLabels,[n.chart],n)||[];r.filter&&(i=i.filter(function(t){return r.filter(t,n.chart.data)}));n.options.reverse&&i.reverse();n.legendItems=i},afterBuildLabels:ct,beforeFit:ct,fit:function(){var n=this,a=n.options,r=a.labels,h=a.display,o=n.ctx,v=t.options._parseFont(r),u=v.size,y=n.legendHitBoxes=[],i=n.minSize,p=n.isHorizontal(),f,c;if(p?(i.width=n.maxWidth,i.height=h?10:0):(i.width=h?10:0,i.height=n.maxHeight),h){if(o.font=v.string,p)f=n.lineWidths=[0],c=0,o.textAlign="left",o.textBaseline="middle",t.each(n.legendItems,function(n,t){var e=ie(r,u)+u/2+o.measureText(n.text).width;(0===t||f[f.length-1]+e+2*r.padding>i.width)&&(c+=u+r.padding,f[f.length-(t>0?0:1)]=0);y[t]={left:0,top:0,width:e,height:u};f[f.length-1]+=e+r.padding}),i.height+=c;else{var w=r.padding,b=n.columnWidths=[],k=n.columnHeights=[],l=r.padding,e=0,s=0;t.each(n.legendItems,function(n,t){var f=ie(r,u)+u/2+o.measureText(n.text).width;t>0&&s+u+2*w>i.height&&(l+=e+r.padding,b.push(e),k.push(s),e=0,s=0);e=Math.max(e,f);s+=u+w;y[t]={left:0,top:0,width:f,height:u}});l+=e;b.push(e);k.push(s);i.width+=l}n.width=i.width;n.height=i.height}else n.width=i.width=n.height=i.height=0},afterFit:ct,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var r=this,h=r.options,f=h.labels,v=i.global,w=v.defaultColor,c=v.elements.line,b=r.height,k=r.columnHeights,d=r.width,g=r.lineWidths,a;if(h.display){var u,o=ta(h.rtl,r.left,r.minSize.width),n=r.ctx,nt=lt(f.fontColor,v.defaultFontColor),tt=t.options._parseFont(f),s=tt.size;n.textAlign=o.textAlign("left");n.textBaseline="middle";n.lineWidth=.5;n.strokeStyle=nt;n.fillStyle=nt;n.font=tt.string;var e=ie(f,s),y=r.legendHitBoxes,l=function(n,t){switch(h.align){case"start":return f.padding;case"end":return n-t;default:return(n-t+f.padding)/2}},p=r.isHorizontal();u=p?{x:r.left+l(d,g[0]),y:r.top+f.padding,line:0}:{x:r.left+f.padding,y:r.top+l(b,k[0]),line:0};t.rtl.overrideTextDirection(r.ctx,h.textDirection);a=s+f.padding;t.each(r.legendItems,function(i,h){var it=n.measureText(i.text).width,rt=e+s/2+it,nt=u.x,v=u.y,tt;o.setWidth(r.minSize.width);p?h>0&&nt+rt+f.padding>r.left+r.minSize.width&&(v=u.y+=a,u.line++,nt=u.x=r.left+l(d,g[u.line])):h>0&&v+a>r.top+r.minSize.height&&(nt=u.x=nt+r.columnWidths[u.line]+f.padding,u.line++,v=u.y=r.top+l(b,k[u.line]));tt=o.x(nt);!function(i,r,u){var h;if(!(isNaN(e)||e<=0)){if(n.save(),h=lt(u.lineWidth,c.borderWidth),n.fillStyle=lt(u.fillStyle,w),n.lineCap=lt(u.lineCap,c.borderCapStyle),n.lineDashOffset=lt(u.lineDashOffset,c.borderDashOffset),n.lineJoin=lt(u.lineJoin,c.borderJoinStyle),n.lineWidth=h,n.strokeStyle=lt(u.strokeStyle,w),n.setLineDash&&n.setLineDash(lt(u.lineDash,c.borderDash)),f&&f.usePointStyle){var l=e*Math.SQRT2/2,a=o.xPlus(i,e/2),v=r+s/2;t.canvas.drawPoint(n,u.pointStyle,l,a,v,u.rotation)}else n.fillRect(o.leftForLtr(i,e),r,e,s),0!==h&&n.strokeRect(o.leftForLtr(i,e),r,e,s);n.restore()}}(tt,v,i);y[h].left=o.leftForLtr(tt,y[h].width);y[h].top=v,function(t,i,r,u){var c=s/2,f=o.xPlus(t,e+c),h=i+c;n.fillText(r.text,f,h);r.hidden&&(n.beginPath(),n.lineWidth=2,n.moveTo(f,h),n.lineTo(o.xPlus(f,u),h),n.stroke())}(tt,v,i,it);p?u.x+=rt+f.padding:u.y+=a});t.rtl.restoreTextDirection(r.ctx,h.textDirection)}},_getLegendItemAt:function(n,t){var u,i,f,r=this;if(n>=r.left&&n<=r.right&&t>=r.top&&t<=r.bottom)for(f=r.legendHitBoxes,u=0;u<f.length;++u)if(n>=(i=f[u]).left&&n<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return r.legendItems[u];return null},handleEvent:function(n){var r,t=this,i=t.options,u="mouseup"===n.type?"click":n.type;if("mousemove"===u){if(!i.onHover&&!i.onLeave)return}else{if("click"!==u)return;if(!i.onClick)return}r=t._getLegendItemAt(n.x,n.y);"click"===u?r&&i.onClick&&i.onClick.call(t,n.native,r):(i.onLeave&&r!==t._hoveredItem&&(t._hoveredItem&&i.onLeave.call(t,n.native,t._hoveredItem),t._hoveredItem=r),i.onHover&&r&&i.onHover.call(t,n.native,r))}});ih={id:"legend",_element:re,beforeInit:function(n){var t=n.options.legend;t&&th(n,t)},beforeUpdate:function(n){var r=n.options.legend,u=n.legend;r?(t.mergeIf(r,i.global.legend),u?(b.configure(n,u,r),u.options=r):th(n,r)):u&&(b.removeBox(n,u),delete n.legend)},afterEvent:function(n,t){var i=n.legend;i&&i.handleEvent(t)}};it=t.noop;i._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});ue=nt.extend({initialize:function(n){t.extend(this,n);this.legendHitBoxes=[]},beforeUpdate:it,update:function(n,t,i){var r=this;return r.beforeUpdate(),r.maxWidth=n,r.maxHeight=t,r.margins=i,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:it,beforeSetDimensions:it,setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0;n.minSize={width:0,height:0}},afterSetDimensions:it,beforeBuildLabels:it,buildLabels:it,afterBuildLabels:it,beforeFit:it,fit:function(){var u,n=this,i=n.options,r=n.minSize={},f=n.isHorizontal();i.display?(u=(t.isArray(i.text)?i.text.length:1)*t.options._parseFont(i).lineHeight+2*i.padding,n.width=r.width=f?n.maxWidth:u,n.height=r.height=f?u:n.maxHeight):n.width=r.width=n.height=r.height=0},afterFit:it,isHorizontal:function(){var n=this.options.position;return"top"===n||"bottom"===n},draw:function(){var r=this,n=r.ctx,u=r.options,f,y,h;if(u.display){var e,c,l,p=t.options._parseFont(u),w=p.lineHeight,a=w/2+u.padding,b=0,o=r.top,s=r.left,k=r.bottom,v=r.right;if(n.fillStyle=t.valueOrDefault(u.fontColor,i.global.defaultFontColor),n.font=p.string,r.isHorizontal()?(c=s+(v-s)/2,l=o+a,e=v-s):(c="left"===u.position?s+a:v-a,l=o+(k-o)/2,e=k-o,b=Math.PI*("left"===u.position?-.5:.5)),n.save(),n.translate(c,l),n.rotate(b),n.textAlign="center",n.textBaseline="middle",f=u.text,t.isArray(f))for(y=0,h=0;h<f.length;++h)n.fillText(f[h],0,y,e),y+=w;else n.fillText(f,0,0,e);n.restore()}}});var at={},ia=na,ra=ih,ua={id:"title",_element:ue,beforeInit:function(n){var t=n.options.title;t&&rh(n,t)},beforeUpdate:function(n){var r=n.options.title,u=n.titleBlock;r?(t.mergeIf(r,i.global.title),u?(b.configure(n,u,r),u.options=r):rh(n,r)):u&&(b.removeBox(n,u),delete n.titleBlock)}};for(fe in at.filler=ia,at.legend=ra,at.title=ua,r.helpers=t,function(){function n(n,t,i){var r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*t.parentNode[i])):r=n,r}function r(n){return null!=n&&"none"!==n}function u(i,u,f){var e=document.defaultView,o=t._getParentNode(i),s=e.getComputedStyle(i)[u],h=e.getComputedStyle(o)[u],c=r(s),l=r(h),a=Number.POSITIVE_INFINITY;return c||l?Math.min(c?n(s,i,f):a,l?n(h,o,f):a):"none"}t.where=function(n,i){if(t.isArray(n)&&Array.prototype.filter)return n.filter(i);var r=[];return t.each(n,function(n){i(n)&&r.push(n)}),r};t.findIndex=Array.prototype.findIndex?function(n,t,i){return n.findIndex(t,i)}:function(n,t,i){i=void 0===i?n:i;for(var r=0,u=n.length;r<u;++r)if(t.call(i,n[r],r,n))return r;return-1};t.findNextWhere=function(n,i,r){var u,f;for(t.isNullOrUndef(r)&&(r=-1),u=r+1;u<n.length;u++)if(f=n[u],i(f))return f};t.findPreviousWhere=function(n,i,r){var u,f;for(t.isNullOrUndef(r)&&(r=n.length),u=r-1;u>=0;u--)if(f=n[u],i(f))return f};t.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};t.almostEquals=function(n,t,i){return Math.abs(n-t)<i};t.almostWhole=function(n,t){var i=Math.round(n);return i-t<=n&&i+t>=n};t.max=function(n){return n.reduce(function(n,t){return isNaN(t)?n:Math.max(n,t)},Number.NEGATIVE_INFINITY)};t.min=function(n){return n.reduce(function(n,t){return isNaN(t)?n:Math.min(n,t)},Number.POSITIVE_INFINITY)};t.sign=Math.sign?function(n){return Math.sign(n)}:function(n){return 0==(n=+n)||isNaN(n)?n:n>0?1:-1};t.toRadians=function(n){return n*(Math.PI/180)};t.toDegrees=function(n){return n*(180/Math.PI)};t._decimalPlaces=function(n){if(t.isFinite(n)){for(var i=1,r=0;Math.round(n*i)/i!==n;)i*=10,r++;return r}};t.getAngleFromPoint=function(n,t){var i=t.x-n.x,r=t.y-n.y,f=Math.sqrt(i*i+r*r),u=Math.atan2(r,i);return u<-.5*Math.PI&&(u+=2*Math.PI),{angle:u,distance:f}};t.distanceBetweenPoints=function(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))};t.aliasPixel=function(n){return n%2==0?0:.5};t._alignPixel=function(n,t,i){var r=n.currentDevicePixelRatio,u=i/2;return Math.round((t-u)*r)/r+u};t.splineCurve=function(n,t,i,r){var f=n.skip?t:n,u=t,e=i.skip?t:i,o=Math.sqrt(Math.pow(u.x-f.x,2)+Math.pow(u.y-f.y,2)),s=Math.sqrt(Math.pow(e.x-u.x,2)+Math.pow(e.y-u.y,2)),h=o/(o+s),c=s/(o+s),l=r*(h=isNaN(h)?0:h),a=r*(c=isNaN(c)?0:c);return{previous:{x:u.x-l*(e.x-f.x),y:u.y-l*(e.y-f.y)},next:{x:u.x+a*(e.x-f.x),y:u.y+a*(e.y-f.y)}}};t.EPSILON=Number.EPSILON||1e-14;t.splineCurveMonotone=function(n){for(var f,i,u,h,c,l,v,o,e=(n||[]).map(function(n){return{model:n._model,deltaK:0,mK:0}}),s=e.length,a,r=0;r<s;++r)(i=e[r]).model.skip||((f=r>0?e[r-1]:null,(u=r<s-1?e[r+1]:null)&&!u.model.skip)&&(a=u.model.x-i.model.x,i.deltaK=0!==a?(u.model.y-i.model.y)/a:0),i.mK=!f||f.model.skip?i.deltaK:!u||u.model.skip?f.deltaK:this.sign(f.deltaK)!==this.sign(i.deltaK)?0:(f.deltaK+i.deltaK)/2);for(r=0;r<s-1;++r)i=e[r],u=e[r+1],i.model.skip||u.model.skip||(t.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=u.mK=0:(h=i.mK/i.deltaK,c=u.mK/i.deltaK,(v=Math.pow(h,2)+Math.pow(c,2))<=9||(l=3/Math.sqrt(v),i.mK=h*l*i.deltaK,u.mK=c*l*i.deltaK)));for(r=0;r<s;++r)(i=e[r]).model.skip||(f=r>0?e[r-1]:null,u=r<s-1?e[r+1]:null,f&&!f.model.skip&&(o=(i.model.x-f.model.x)/3,i.model.controlPointPreviousX=i.model.x-o,i.model.controlPointPreviousY=i.model.y-o*i.mK),u&&!u.model.skip&&(o=(u.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+o,i.model.controlPointNextY=i.model.y+o*i.mK))};t.nextItem=function(n,t,i){return i?t>=n.length-1?n[0]:n[t+1]:t>=n.length-1?n[n.length-1]:n[t+1]};t.previousItem=function(n,t,i){return i?t<=0?n[n.length-1]:n[t-1]:t<=0?n[0]:n[t-1]};t.niceNum=function(n,i){var u=Math.floor(t.log10(n)),r=n/Math.pow(10,u);return(i?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,u)};t.requestAnimFrame="undefined"==typeof window?function(n){n()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return window.setTimeout(n,1e3/60)};t.getRelativePosition=function(n,i){var f,e,s=n.originalEvent||n,r=n.target||n.srcElement,u=r.getBoundingClientRect(),o=s.touches;o&&o.length>0?(f=o[0].clientX,e=o[0].clientY):(f=s.clientX,e=s.clientY);var h=parseFloat(t.getStyle(r,"padding-left")),c=parseFloat(t.getStyle(r,"padding-top")),l=parseFloat(t.getStyle(r,"padding-right")),a=parseFloat(t.getStyle(r,"padding-bottom")),v=u.right-u.left-h-l,y=u.bottom-u.top-c-a;return{x:f=Math.round((f-u.left-h)/v*r.width/i.currentDevicePixelRatio),y:e=Math.round((e-u.top-c)/y*r.height/i.currentDevicePixelRatio)}};t.getConstraintWidth=function(n){return u(n,"max-width","clientWidth")};t.getConstraintHeight=function(n){return u(n,"max-height","clientHeight")};t._calculatePadding=function(n,i,r){return(i=t.getStyle(n,i)).indexOf("%")>-1?r*parseInt(i,10)/100:parseInt(i,10)};t._getParentNode=function(n){var t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t};t.getMaximumWidth=function(n){var i=t._getParentNode(n);if(!i)return n.clientWidth;var r=i.clientWidth,u=r-t._calculatePadding(i,"padding-left",r)-t._calculatePadding(i,"padding-right",r),f=t.getConstraintWidth(n);return isNaN(f)?u:Math.min(u,f)};t.getMaximumHeight=function(n){var i=t._getParentNode(n);if(!i)return n.clientHeight;var r=i.clientHeight,u=r-t._calculatePadding(i,"padding-top",r)-t._calculatePadding(i,"padding-bottom",r),f=t.getConstraintHeight(n);return isNaN(f)?u:Math.min(u,f)};t.getStyle=function(n,t){return n.currentStyle?n.currentStyle[t]:document.defaultView.getComputedStyle(n,null).getPropertyValue(t)};t.retinaScale=function(n,t){var r=n.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==r){var i=n.canvas,u=n.height,f=n.width;i.height=u*r;i.width=f*r;n.ctx.scale(r,r);i.style.height||i.style.width||(i.style.height=u+"px",i.style.width=f+"px")}};t.fontString=function(n,t,i){return t+" "+n+"px "+i};t.longestText=function(n,i,r,u){var h=(u=u||{}).data=u.data||{},e=u.garbageCollect=u.garbageCollect||[],f,c,v,o,a,s,y,l;for(u.font!==i&&(h=u.data={},e=u.garbageCollect=[],u.font=i),n.font=i,s=0,y=r.length,f=0;f<y;f++)if(null!=(o=r[f])&&!0!==t.isArray(o))s=t.measureText(n,h,e,s,o);else if(t.isArray(o))for(c=0,v=o.length;c<v;c++)null==(a=o[c])||t.isArray(a)||(s=t.measureText(n,h,e,s,a));if(l=e.length/2,l>r.length){for(f=0;f<l;f++)delete h[e[f]];e.splice(0,l)}return s};t.measureText=function(n,t,i,r,u){var f=t[u];return f||(f=t[u]=n.measureText(u).width,i.push(u)),f>r&&(r=f),r};t.numberOfLabelLines=function(n){var i=1;return t.each(n,function(n){t.isArray(n)&&n.length>i&&(i=n.length)}),i};t.color=hi?function(n){return n instanceof CanvasGradient&&(n=i.global.defaultColor),hi(n)}:function(n){return console.error("Color.js not found!"),n};t.getHoverColor=function(n){return n instanceof CanvasPattern||n instanceof CanvasGradient?n:t.color(n).saturate(.5).darken(.1).rgbString()}}(),r._adapters=sf,r.Animation=fu,r.animationService=eu,r.controllers=au,r.DatasetController=p,r.defaults=i,r.Element=nt,r.elements=c,r.Interaction=kt,r.layouts=b,r.platform=dt,r.plugins=f,r.Scale=l,r.scaleService=wi,r.Ticks=bi,r.Tooltip=ff,r.helpers.each(bs,function(n,t){r.scaleService.registerScaleType(t,n,n._defaults)}),at)at.hasOwnProperty(fe)&&r.plugins.register(at[fe]);return r.platform.initialize(),uh=r,"undefined"!=typeof window&&(window.Chart=r),r.Chart=r,r.Legend=at.legend._element,r.Title=at.title._element,r.pluginService=r.plugins,r.PluginBase=r.Element.extend({}),r.canvasHelpers=r.helpers.canvas,r.layoutService=r.layouts,r.LinearScaleBase=yr,r.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(n){r[n]=function(t,i){return new r(t,r.helpers.merge(i||{},{type:n.charAt(0).toLowerCase()+n.slice(1)}))}}),uh});!function(n){"object"==typeof exports?module.exports=n(require("jquery"),require("raphael"),require("jquery-mousewheel")):"function"==typeof define&&define.amd?define(["jquery","raphael","mousewheel"],n):n(jQuery,Raphael,jQuery.fn.mousewheel)}(function(n,t,i,r){"use strict";var u=function(t,i){var r=this;r.container=t;r.$container=n(t);r.options=r.extendDefaultOptions(i);r.zoomTO=0;r.zoomCenterX=0;r.zoomCenterY=0;r.previousPinchDist=0;r.zoomData={zoomLevel:0,zoomX:0,zoomY:0,panX:0,panY:0};r.currentViewBox={x:0,y:0,w:0,h:0};r.panning=!1;r.zoomAnimID=null;r.zoomAnimStartTime=null;r.zoomAnimCVBTarget=null;r.$map=n("."+r.options.map.cssClass,r.container);r.initialMapHTMLContent=r.$map.html();r.$tooltip={};r.paper={};r.areas={};r.plots={};r.links={};r.legends={};r.mapConf={};r.customEventHandlers={};r.init()};return u.prototype={MouseOverFilteringTO:120,panningFilteringTO:150,panningEndFilteringTO:50,zoomFilteringTO:150,resizeFilteringTO:150,init:function(){var i=this;if(""===i.options.map.cssClass||0===n("."+i.options.map.cssClass,i.container).length)throw new Error("The map class `"+i.options.map.cssClass+"` doesn't exists");if(i.$tooltip=n("<div>").addClass(i.options.map.tooltip.cssClass).css("display","none"),i.$map.empty().append(i.$tooltip),n.mapael&&n.mapael.maps&&n.mapael.maps[i.options.map.name])i.mapConf=n.mapael.maps[i.options.map.name];else{if(!(n.fn.mapael&&n.fn.mapael.maps&&n.fn.mapael.maps[i.options.map.name]))throw new Error("Unknown map '"+i.options.map.name+"'");i.mapConf=n.fn.mapael.maps[i.options.map.name];window.console&&window.console.warn&&window.console.warn("Extending $.fn.mapael is deprecated (map '"+i.options.map.name+"')")}if(i.paper=new t(i.$map[0],i.mapConf.width,i.mapConf.height),!0===i.isRaphaelBBoxBugPresent())throw i.destroy(),new Error("Can't get boundary box for text (is your container hidden? See #135)");i.$container.addClass("mapael");i.options.map.tooltip.css&&i.$tooltip.css(i.options.map.tooltip.css);i.setViewBox(0,0,i.mapConf.width,i.mapConf.height);i.options.map.width?i.paper.setSize(i.options.map.width,i.mapConf.height*(i.options.map.width/i.mapConf.width)):i.initResponsiveSize();n.each(i.mapConf.elems,function(n){i.areas[n]={};i.areas[n].options=i.getElemOptions(i.options.map.defaultArea,i.options.areas[n]?i.options.areas[n]:{},i.options.legend.area);i.areas[n].mapElem=i.paper.path(i.mapConf.elems[n])});i.options.map.beforeInit&&i.options.map.beforeInit(i.$container,i.paper,i.options);n.each(i.mapConf.elems,function(n){i.initElem(n,"area",i.areas[n])});i.links=i.drawLinksCollection(i.options.links);n.each(i.options.plots,function(n){i.plots[n]=i.drawPlot(n)});i.$container.on("zoom.mapael",function(n,t){i.onZoomEvent(n,t)});i.options.map.zoom.enabled&&i.initZoom(i.mapConf.width,i.mapConf.height,i.options.map.zoom);i.options.map.zoom.init!==r&&(i.options.map.zoom.init.animDuration===r&&(i.options.map.zoom.init.animDuration=0),i.$container.trigger("zoom",i.options.map.zoom.init));i.createLegends("area",i.areas,1);i.createLegends("plot",i.plots,i.paper.width/i.mapConf.width);i.$container.on("update.mapael",function(n,t){i.onUpdateEvent(n,t)});i.$container.on("showElementsInRange.mapael",function(n,t){i.onShowElementsInRange(n,t)});i.initDelegatedMapEvents();i.initDelegatedCustomEvents();i.options.map.afterInit&&i.options.map.afterInit(i.$container,i.paper,i.areas,i.plots,i.options);n(i.paper.desc).append(" and Mapael "+i.version+" (https://www.vincentbroute.fr/mapael/)")},destroy:function(){var t=this;t.$container.off(".mapael");t.$map.off(".mapael");t.onResizeEvent&&n(window).off("resize.mapael",t.onResizeEvent);t.$map.empty();t.$map.html(t.initialMapHTMLContent);n.each(t.legends,function(i){n.each(t.legends[i],function(n){var r=t.legends[i][n];r.container.empty();r.container.html(r.initialHTMLContent)})});t.$container.removeClass("mapael");t.$container.removeData("mapael");t.container=r;t.$container=r;t.options=r;t.paper=r;t.$map=r;t.$tooltip=r;t.mapConf=r;t.areas=r;t.plots=r;t.links=r;t.customEventHandlers=r},initResponsiveSize:function(){var t=this,i=null,r=function(n){var i=t.$map.width(),r;t.paper.width!==i&&(r=i/t.mapConf.width,t.paper.setSize(i,t.mapConf.height*r),!0!==n&&t.options.legend.redrawOnResize&&t.createLegends("plot",t.plots,r))};t.onResizeEvent=function(){clearTimeout(i);i=setTimeout(function(){r()},t.resizeFilteringTO)};n(window).on("resize.mapael",t.onResizeEvent);r(!0)},extendDefaultOptions:function(t){return t=n.extend(!0,{},u.prototype.defaultOptions,t),n.each(["area","plot"],function(i,r){if(n.isArray(t.legend[r]))for(var f=0;f<t.legend[r].length;++f)t.legend[r][f]=n.extend(!0,{},u.prototype.legendDefaultOptions[r],t.legend[r][f]);else t.legend[r]=n.extend(!0,{},u.prototype.legendDefaultOptions[r],t.legend[r])}),t},initDelegatedMapEvents:function(){var u,t=this,i={area:t.areas,"area-text":t.areas,plot:t.plots,"plot-text":t.plots,link:t.links,"link-text":t.links},f;t.$container.on("mouseover.mapael","[data-id]",function(){var f=this;clearTimeout(u);u=setTimeout(function(){var u=n(f),o=u.attr("data-id"),e=u.attr("data-type"),s,h;i[e]!==r?t.elemEnter(i[e][o]):("legend-elem"===e||"legend-label"===e)&&(s=u.attr("data-legend-id"),h=u.attr("data-legend-type"),t.elemEnter(t.legends[h][s].elems[o]))},t.MouseOverFilteringTO)});t.$container.on("mousemove.mapael","[data-id]",function(u){var e=this;clearTimeout(f);f=setTimeout(function(){var f=n(e),s=f.attr("data-id"),o=f.attr("data-type");i[o]!==r&&t.elemHover(i[o][s],u)},0)});t.$container.on("mouseout.mapael","[data-id]",function(){var l=this,h,c;clearTimeout(u);clearTimeout(f);var e=n(l),s=e.attr("data-id"),o=e.attr("data-type");i[o]!==r?t.elemOut(i[o][s]):("legend-elem"===o||"legend-label"===o)&&(h=e.attr("data-legend-id"),c=e.attr("data-legend-type"),t.elemOut(t.legends[c][h].elems[s]))});t.$container.on("click.mapael","[data-id]",function(u,f){var e=n(this),s=e.attr("data-id"),o=e.attr("data-type"),h,c;i[o]!==r?t.elemClick(i[o][s]):("legend-elem"===o||"legend-label"===o)&&(h=e.attr("data-legend-id"),c=e.attr("data-legend-type"),t.handleClickOnLegendElem(t.legends[c][h].elems[s],s,h,c,f))})},initDelegatedCustomEvents:function(){var t=this;n.each(t.customEventHandlers,function(i){var u=i+".mapael.custom";t.$container.off(u).on(u,"[data-id]",function(u){var s=n(this),e=s.attr("data-id"),o=s.attr("data-type").replace("-text",""),f;t.panning||t.customEventHandlers[i][o]===r||t.customEventHandlers[i][o][e]===r||(f=t.customEventHandlers[i][o][e],f.options.eventHandlers[i](u,e,f.mapElem,f.textElem,f.options))})})},initElem:function(t,i,u){var e=this,o=n(u.mapElem.node),f;(u.options.href&&(u.options.attrs.cursor="pointer",u.options.text&&(u.options.text.attrs.cursor="pointer")),u.mapElem.attr(u.options.attrs),o.attr({"data-id":t,"data-type":i}),u.options.cssClass!==r&&o.addClass(u.options.cssClass),u.options.text&&u.options.text.content!==r)&&(f=e.getTextPosition(u.mapElem.getBBox(),u.options.text.position,u.options.text.margin),u.options.text.attrs.text=u.options.text.content,u.options.text.attrs.x=f.x,u.options.text.attrs.y=f.y,u.options.text.attrs["text-anchor"]=f.textAnchor,u.textElem=e.paper.text(f.x,f.y,u.options.text.content),u.textElem.attr(u.options.text.attrs),n(u.textElem.node).attr({"data-id":t,"data-type":i+"-text"}));u.options.eventHandlers&&e.setEventHandlers(t,i,u);e.setHoverOptions(u.mapElem,u.options.attrs,u.options.attrsHover);u.textElem&&e.setHoverOptions(u.textElem,u.options.text.attrs,u.options.text.attrsHover)},initZoom:function(t,i,u){var f=this,e=!1,h=0,c=0,l={reset:function(){f.$container.trigger("zoom",{level:0})},"in":function(){f.$container.trigger("zoom",{level:"+1"})},out:function(){f.$container.trigger("zoom",{level:-1})}},o,s;n.extend(f.zoomData,{zoomLevel:0,panX:0,panY:0});n.each(u.buttons,function(t,i){if(l[t]===r)throw new Error("Unknown zoom button '"+t+"'");var u=n("<div>").addClass(i.cssClass).html(i.content).attr("title",i.title);u.on("click.mapael",l[t]);f.$map.append(u)});f.options.map.zoom.mousewheel&&f.$map.on("mousewheel.mapael",function(n){var i=n.deltaY>0?1:-1,t=f.mapPagePositionToXY(n.pageX,n.pageY);f.$container.trigger("zoom",{fixedCenter:!0,level:f.zoomData.zoomLevel+i,x:t.x,y:t.y});n.preventDefault()});f.options.map.zoom.touch&&(f.$map.on("touchstart.mapael",function(n){2===n.originalEvent.touches.length&&(f.zoomCenterX=(n.originalEvent.touches[0].pageX+n.originalEvent.touches[1].pageX)/2,f.zoomCenterY=(n.originalEvent.touches[0].pageY+n.originalEvent.touches[1].pageY)/2,f.previousPinchDist=Math.sqrt(Math.pow(n.originalEvent.touches[1].pageX-n.originalEvent.touches[0].pageX,2)+Math.pow(n.originalEvent.touches[1].pageY-n.originalEvent.touches[0].pageY,2)))}),f.$map.on("touchmove.mapael",function(n){var t=0,r=0,i;if(2===n.originalEvent.touches.length)return(t=Math.sqrt(Math.pow(n.originalEvent.touches[1].pageX-n.originalEvent.touches[0].pageX,2)+Math.pow(n.originalEvent.touches[1].pageY-n.originalEvent.touches[0].pageY,2)),Math.abs(t-f.previousPinchDist)>15)&&(i=f.mapPagePositionToXY(f.zoomCenterX,f.zoomCenterY),r=(t-f.previousPinchDist)/Math.abs(t-f.previousPinchDist),f.$container.trigger("zoom",{fixedCenter:!0,level:f.zoomData.zoomLevel+r,x:i.x,y:i.y}),f.previousPinchDist=t),!1}));f.$map.on("dragstart",function(){return!1});o=null;s=null;n("body").on("mouseup.mapael"+(u.touch?" touchend.mapael":""),function(){e=!1;clearTimeout(o);clearTimeout(s);o=setTimeout(function(){f.panning=!1},f.panningEndFilteringTO)});f.$map.on("mousedown.mapael"+(u.touch?" touchstart.mapael":""),function(n){clearTimeout(o);clearTimeout(s);n.pageX!==r?(e=!0,h=n.pageX,c=n.pageY):1===n.originalEvent.touches.length&&(e=!0,h=n.originalEvent.touches[0].pageX,c=n.originalEvent.touches[0].pageY)}).on("mousemove.mapael"+(u.touch?" touchmove.mapael":""),function(l){var w=f.zoomData.zoomLevel,y=0,p=0;if(clearTimeout(o),clearTimeout(s),l.pageX!==r?(y=l.pageX,p=l.pageY):1===l.originalEvent.touches.length?(y=l.originalEvent.touches[0].pageX,p=l.originalEvent.touches[0].pageY):e=!1,e&&0!==w){var b=(h-y)/(1+w*u.step)*(t/f.paper.width),k=(c-p)/(1+w*u.step)*(i/f.paper.height),a=Math.min(Math.max(0,f.currentViewBox.x+b),t-f.currentViewBox.w),v=Math.min(Math.max(0,f.currentViewBox.y+k),i-f.currentViewBox.h);return(Math.abs(b)>5||Math.abs(k)>5)&&(n.extend(f.zoomData,{panX:a,panY:v,zoomX:a+f.currentViewBox.w/2,zoomY:v+f.currentViewBox.h/2}),f.setViewBox(a,v,f.currentViewBox.w,f.currentViewBox.h),s=setTimeout(function(){f.$map.trigger("afterPanning",{x1:a,y1:v,x2:a+f.currentViewBox.w,y2:v+f.currentViewBox.h})},f.panningFilteringTO),h=y,c=p,f.panning=!0),!1}})},mapPagePositionToXY:function(n,t){var i=this,r=i.$map.offset(),u=i.options.map.width?i.mapConf.width/i.options.map.width:i.mapConf.width/i.$map.width(),f=1/(1+i.zoomData.zoomLevel*i.options.map.zoom.step);return{x:f*u*(n-r.left)+i.zoomData.panX,y:f*u*(t-r.top)+i.zoomData.panY}},onZoomEvent:function(t,i){var f,e,s,h,o,u=this,c=u.zoomData.zoomLevel,a=1+u.zoomData.zoomLevel*u.options.map.zoom.step,y=i.animDuration!==r?i.animDuration:u.options.map.zoom.animDuration,v;if(i.area!==r){if(u.areas[i.area]===r)throw new Error("Unknown area '"+i.area+"'");var p=i.areaMargin!==r?i.areaMargin:10,l=u.areas[i.area].mapElem.getBBox(),w=l.width+2*p,b=l.height+2*p;i.x=l.cx;i.y=l.cy;c=Math.min(Math.floor((u.mapConf.width/w-1)/u.options.map.zoom.step),Math.floor((u.mapConf.height/b-1)/u.options.map.zoom.step))}else if(i.level!==r&&(c="string"==typeof i.level?"+"===i.level.slice(0,1)||"-"===i.level.slice(0,1)?u.zoomData.zoomLevel+parseInt(i.level,10):parseInt(i.level,10):i.level<0?u.zoomData.zoomLevel+i.level:i.level),i.plot!==r){if(u.plots[i.plot]===r)throw new Error("Unknown plot '"+i.plot+"'");i.x=u.plots[i.plot].coords.x;i.y=u.plots[i.plot].coords.y}else i.latitude!==r&&i.longitude!==r&&(v=u.mapConf.getCoords(i.latitude,i.longitude),i.x=v.x,i.y=v.y),i.x===r&&(i.x=u.currentViewBox.x+u.currentViewBox.w/2),i.y===r&&(i.y=u.currentViewBox.y+u.currentViewBox.h/2);c=Math.min(Math.max(c,u.options.map.zoom.minLevel),u.options.map.zoom.maxLevel);o=1+c*u.options.map.zoom.step;s=u.mapConf.width/o;h=u.mapConf.height/o;0===c?(f=0,e=0):(i.fixedCenter!==r&&!0===i.fixedCenter?(f=u.zoomData.panX+(i.x-u.zoomData.panX)*(o-a)/o,e=u.zoomData.panY+(i.y-u.zoomData.panY)*(o-a)/o):(f=i.x-s/2,e=i.y-h/2),f=Math.min(Math.max(0,f),u.mapConf.width-s),e=Math.min(Math.max(0,e),u.mapConf.height-h));o===a&&f===u.zoomData.panX&&e===u.zoomData.panY||(y>0?u.animateViewBox(f,e,s,h,y,u.options.map.zoom.animEasing):(u.setViewBox(f,e,s,h),clearTimeout(u.zoomTO),u.zoomTO=setTimeout(function(){u.$map.trigger("afterZoom",{x1:f,y1:e,x2:f+s,y2:e+h})},u.zoomFilteringTO)),n.extend(u.zoomData,{zoomLevel:c,panX:f,panY:e,zoomX:f+s/2,zoomY:e+h/2}))},onShowElementsInRange:function(n,t){var i=this;t.animDuration===r&&(t.animDuration=0);t.hiddenOpacity===r&&(t.hiddenOpacity=.3);t.ranges&&t.ranges.area&&i.showElemByRange(t.ranges.area,i.areas,t.hiddenOpacity,t.animDuration);t.ranges&&t.ranges.plot&&i.showElemByRange(t.ranges.plot,i.plots,t.hiddenOpacity,t.animDuration);t.ranges&&t.ranges.link&&i.showElemByRange(t.ranges.link,i.links,t.hiddenOpacity,t.animDuration);t.afterShowRange&&t.afterShowRange()},showElemByRange:function(t,i,u,f){var o=this,e={};t.min===r&&t.max===r||(t={0:t});n.each(t,function(f){var o=t[f];if(o.min===r&&o.max===r)return!0;n.each(i,function(n){var t=i[n].options.value;if("object"!=typeof t&&(t=[t]),t[f]===r)return!0;e[n]=o.min!==r&&t[f]<o.min||o.max!==r&&t[f]>o.max?u:1})});n.each(e,function(n){o.setElementOpacity(i[n],e[n],f)})},setElementOpacity:function(n,t,i){var r=this;t>0&&(n.mapElem.show(),n.textElem&&n.textElem.show());r.animate(n.mapElem,{opacity:t},i,function(){0===t&&n.mapElem.hide()});r.animate(n.textElem,{opacity:t},i,function(){0===t&&n.textElem.hide()})},onUpdateEvent:function(t,i){var u=this,s,h;if("object"==typeof i){var e=0,f=i.animDuration?i.animDuration:0,o=function(n){u.animate(n.mapElem,{opacity:0},f,function(){n.mapElem.remove()});u.animate(n.textElem,{opacity:0},f,function(){n.textElem.remove()})},c=function(n){n.mapElem.attr({opacity:0});n.textElem&&n.textElem.attr({opacity:0});u.setElementOpacity(n,n.mapElem.originalAttrs.opacity!==r?n.mapElem.originalAttrs.opacity:1,f)};if("object"==typeof i.mapOptions&&(!0===i.replaceOptions?u.options=u.extendDefaultOptions(i.mapOptions):n.extend(!0,u.options,i.mapOptions),i.mapOptions.areas===r&&i.mapOptions.plots===r&&i.mapOptions.legend===r||n("[data-type='legend-elem']",u.$container).each(function(t,i){"1"===n(i).attr("data-hidden")&&n(i).trigger("click",{hideOtherElems:!1,animDuration:f})})),"object"==typeof i.deletePlotKeys)for(;e<i.deletePlotKeys.length;e++)u.plots[i.deletePlotKeys[e]]!==r&&(o(u.plots[i.deletePlotKeys[e]]),delete u.plots[i.deletePlotKeys[e]]);else"all"===i.deletePlotKeys&&(n.each(u.plots,function(n,t){o(t)}),u.plots={});if("object"==typeof i.deleteLinkKeys)for(e=0;e<i.deleteLinkKeys.length;e++)u.links[i.deleteLinkKeys[e]]!==r&&(o(u.links[i.deleteLinkKeys[e]]),delete u.links[i.deleteLinkKeys[e]]);else"all"===i.deleteLinkKeys&&(n.each(u.links,function(n,t){o(t)}),u.links={});("object"==typeof i.newPlots&&n.each(i.newPlots,function(n){u.plots[n]===r&&(u.options.plots[n]=i.newPlots[n],u.plots[n]=u.drawPlot(n),f>0&&c(u.plots[n]))}),"object"==typeof i.newLinks)&&(s=u.drawLinksCollection(i.newLinks),n.extend(u.links,s),n.extend(u.options.links,i.newLinks),f>0&&n.each(s,function(n){c(s[n])}));(n.each(u.areas,function(n){("object"==typeof i.mapOptions&&("object"==typeof i.mapOptions.map&&"object"==typeof i.mapOptions.map.defaultArea||"object"==typeof i.mapOptions.areas&&"object"==typeof i.mapOptions.areas[n]||"object"==typeof i.mapOptions.legend&&"object"==typeof i.mapOptions.legend.area)||!0===i.replaceOptions)&&(u.areas[n].options=u.getElemOptions(u.options.map.defaultArea,u.options.areas[n]?u.options.areas[n]:{},u.options.legend.area),u.updateElem(u.areas[n],f))}),n.each(u.plots,function(n){("object"==typeof i.mapOptions&&("object"==typeof i.mapOptions.map&&"object"==typeof i.mapOptions.map.defaultPlot||"object"==typeof i.mapOptions.plots&&"object"==typeof i.mapOptions.plots[n]||"object"==typeof i.mapOptions.legend&&"object"==typeof i.mapOptions.legend.plot)||!0===i.replaceOptions)&&(u.plots[n].options=u.getElemOptions(u.options.map.defaultPlot,u.options.plots[n]?u.options.plots[n]:{},u.options.legend.plot),u.setPlotCoords(u.plots[n]),u.setPlotAttributes(u.plots[n]),u.updateElem(u.plots[n],f))}),n.each(u.links,function(n){("object"==typeof i.mapOptions&&("object"==typeof i.mapOptions.map&&"object"==typeof i.mapOptions.map.defaultLink||"object"==typeof i.mapOptions.links&&"object"==typeof i.mapOptions.links[n])||!0===i.replaceOptions)&&(u.links[n].options=u.getElemOptions(u.options.map.defaultLink,u.options.links[n]?u.options.links[n]:{},{}),u.updateElem(u.links[n],f))}),i.mapOptions&&("object"==typeof i.mapOptions.legend||"object"==typeof i.mapOptions.map&&"object"==typeof i.mapOptions.map.defaultArea||"object"==typeof i.mapOptions.map&&"object"==typeof i.mapOptions.map.defaultPlot)&&(n("[data-type='legend-elem']",u.$container).each(function(t,i){"1"===n(i).attr("data-hidden")&&n(i).trigger("click",{hideOtherElems:!1,animDuration:f})}),u.createLegends("area",u.areas,1),u.options.map.width?u.createLegends("plot",u.plots,u.options.map.width/u.mapConf.width):u.createLegends("plot",u.plots,u.$map.width()/u.mapConf.width)),"object"==typeof i.setLegendElemsState)?n.each(i.setLegendElemsState,function(t,i){var e=u.$container.find("."+t)[0];e!==r&&n("[data-type='legend-elem']",e).each(function(t,r){("0"===n(r).attr("data-hidden")&&"hide"===i||"1"===n(r).attr("data-hidden")&&"show"===i)&&n(r).trigger("click",{hideOtherElems:!1,animDuration:f})})}):(h="hide"===i.setLegendElemsState?"hide":"show",n("[data-type='legend-elem']",u.$container).each(function(t,i){("0"===n(i).attr("data-hidden")&&"hide"===h||"1"===n(i).attr("data-hidden")&&"show"===h)&&n(i).trigger("click",{hideOtherElems:!1,animDuration:f})}));u.initDelegatedCustomEvents();i.afterUpdate&&i.afterUpdate(u.$container,u.paper,u.areas,u.plots,u.options,u.links)}},setPlotCoords:function(n){var t=this,i;n.options.x!==r&&n.options.y!==r?n.coords={x:n.options.x,y:n.options.y}:n.options.plotsOn!==r&&t.areas[n.options.plotsOn]!==r?(i=t.areas[n.options.plotsOn].mapElem.getBBox(),n.coords={x:i.cx,y:i.cy}):n.coords=t.mapConf.getCoords(n.options.latitude,n.options.longitude)},setPlotAttributes:function(n){"square"===n.options.type?(n.options.attrs.width=n.options.size,n.options.attrs.height=n.options.size,n.options.attrs.x=n.coords.x-n.options.size/2,n.options.attrs.y=n.coords.y-n.options.size/2):"image"===n.options.type?(n.options.attrs.src=n.options.url,n.options.attrs.width=n.options.width,n.options.attrs.height=n.options.height,n.options.attrs.x=n.coords.x-n.options.width/2,n.options.attrs.y=n.coords.y-n.options.height/2):"svg"===n.options.type?(n.options.attrs.path=n.options.path,n.options.attrs.transform===r&&(n.options.attrs.transform=""),n.mapElem.originalBBox===r&&(n.mapElem.originalBBox=n.mapElem.getBBox()),n.mapElem.baseTransform="m"+n.options.width/n.mapElem.originalBBox.width+",0,0,"+n.options.height/n.mapElem.originalBBox.height+","+(n.coords.x-n.options.width/2)+","+(n.coords.y-n.options.height/2),n.options.attrs.transform=n.mapElem.baseTransform+n.options.attrs.transform):(n.options.attrs.x=n.coords.x,n.options.attrs.y=n.coords.y,n.options.attrs.r=n.options.size/2)},drawLinksCollection:function(t){var i=this,u={},f={},e={},o={},s={};return n.each(t,function(n){var l=i.getElemOptions(i.options.map.defaultLink,t[n],{}),h,c;(u="string"==typeof t[n].between[0]?i.options.plots[t[n].between[0]]:t[n].between[0],f="string"==typeof t[n].between[1]?i.options.plots[t[n].between[1]]:t[n].between[1],u.plotsOn!==r&&i.areas[u.plotsOn]!==r)?(h=i.areas[u.plotsOn].mapElem.getBBox(),e={x:h.cx,y:h.cy}):u.latitude!==r&&u.longitude!==r?e=i.mapConf.getCoords(u.latitude,u.longitude):(e.x=u.x,e.y=u.y);f.plotsOn!==r&&i.areas[f.plotsOn]!==r?(c=i.areas[f.plotsOn].mapElem.getBBox(),o={x:c.cx,y:c.cy}):f.latitude!==r&&f.longitude!==r?o=i.mapConf.getCoords(f.latitude,f.longitude):(o.x=f.x,o.y=f.y);s[n]=i.drawLink(n,e.x,e.y,o.x,o.y,l)}),s},drawLink:function(n,t,i,r,u,f){var p=this,a={options:f},c=(t+r)/2,s=(i+u)/2,e=-1/((u-i)/(r-t)),o=s-e*c,w=Math.sqrt((r-t)*(r-t)+(u-i)*(u-i)),v=1+e*e,l=-2*c+2*e*o-2*e*s,k=c*c+o*o-o*s-s*o+s*s-f.factor*w*f.factor*w,b=l*l-4*v*k,h=0,y=0;return f.factor>0?(h=(-l+Math.sqrt(b))/(2*v),y=e*h+o):(h=(-l-Math.sqrt(b))/(2*v),y=e*h+o),a.mapElem=p.paper.path("m "+t+","+i+" C "+h+","+y+" "+r+","+u+" "+r+","+u),p.initElem(n,"link",a),a},isAttrsChanged:function(n,t){for(var i in t)if(t.hasOwnProperty(i)&&void 0===n[i]||t[i]!==n[i])return!0;return!1},updateElem:function(t,i){var u,e,o,f=this,s;(!0===t.options.toFront&&t.mapElem.toFront(),t.options.href!==r?(t.options.attrs.cursor="pointer",t.options.text&&(t.options.text.attrs.cursor="pointer")):"pointer"===t.mapElem.attrs.cursor&&(t.options.attrs.cursor="auto",t.options.text&&(t.options.text.attrs.cursor="auto")),t.textElem)&&(t.options.text.attrs.text=t.options.text.content,u=t.mapElem.getBBox(),(t.options.size||t.options.width&&t.options.height)&&("image"===t.options.type||"svg"===t.options.type?(e=(t.options.width-u.width)/2,o=(t.options.height-u.height)/2):(e=(t.options.size-u.width)/2,o=(t.options.size-u.height)/2),u.x-=e,u.x2+=e,u.y-=o,u.y2+=o),s=f.getTextPosition(u,t.options.text.position,t.options.text.margin),t.options.text.attrs.x=s.x,t.options.text.attrs.y=s.y,t.options.text.attrs["text-anchor"]=s.textAnchor,f.setHoverOptions(t.textElem,t.options.text.attrs,t.options.text.attrsHover),f.isAttrsChanged(t.textElem.attrs,t.options.text.attrs)&&f.animate(t.textElem,t.options.text.attrs,i));f.setHoverOptions(t.mapElem,t.options.attrs,t.options.attrsHover);f.isAttrsChanged(t.mapElem.attrs,t.options.attrs)&&f.animate(t.mapElem,t.options.attrs,i);t.options.cssClass!==r&&n(t.mapElem.node).removeClass().addClass(t.options.cssClass)},drawPlot:function(n){var i=this,t={};return t.options=i.getElemOptions(i.options.map.defaultPlot,i.options.plots[n]?i.options.plots[n]:{},i.options.legend.plot),i.setPlotCoords(t),"svg"===t.options.type&&(t.mapElem=i.paper.path(t.options.path)),i.setPlotAttributes(t),"square"===t.options.type?t.mapElem=i.paper.rect(t.options.attrs.x,t.options.attrs.y,t.options.attrs.width,t.options.attrs.height):"image"===t.options.type?t.mapElem=i.paper.image(t.options.attrs.src,t.options.attrs.x,t.options.attrs.y,t.options.attrs.width,t.options.attrs.height):"svg"===t.options.type||(t.mapElem=i.paper.circle(t.options.attrs.x,t.options.attrs.y,t.options.attrs.r)),i.initElem(n,"plot",t),t},setEventHandlers:function(t,i,u){var f=this;n.each(u.options.eventHandlers,function(n){f.customEventHandlers[n]===r&&(f.customEventHandlers[n]={});f.customEventHandlers[n][i]===r&&(f.customEventHandlers[n][i]={});f.customEventHandlers[n][i][t]=u})},drawLegend:function(i,u,f,e,o){var d=this,nt={},w={},a=0,y=0,tt=null,g=null,ut={},s=0,c=0,l=0,b=0,h=[],ft,it,rt;for(nt=n("."+i.cssClass,d.$container),ft=nt.html(),nt.empty(),w=new t(nt.get(0)),n(w.canvas).attr({"data-legend-type":u,"data-legend-id":o}),y=a=0,i.title&&""!==i.title&&(tt=w.text(i.marginLeftTitle,0,i.title).attr(i.titleAttrs),g=tt.getBBox(),tt.attr({y:.5*g.height}),a=i.marginLeftTitle+g.width,y+=i.marginBottomTitle+g.height),s=0;s<i.slices.length;++s)it=0,h[s]=n.extend(!0,{},"plot"===u?d.options.map.defaultPlot:d.options.map.defaultArea,i.slices[s]),i.slices[s].legendSpecificAttrs===r&&(i.slices[s].legendSpecificAttrs={}),n.extend(!0,h[s].attrs,i.slices[s].legendSpecificAttrs),"area"===u?(h[s].attrs.width===r&&(h[s].attrs.width=30),h[s].attrs.height===r&&(h[s].attrs.height=20)):"square"===h[s].type?(h[s].attrs.width===r&&(h[s].attrs.width=h[s].size),h[s].attrs.height===r&&(h[s].attrs.height=h[s].size)):"image"===h[s].type||"svg"===h[s].type?(h[s].attrs.width===r&&(h[s].attrs.width=h[s].width),h[s].attrs.height===r&&(h[s].attrs.height=h[s].height)):h[s].attrs.r===r&&(h[s].attrs.r=h[s].size/2),it=i.marginBottomTitle,tt&&(it+=g.height),it+="plot"!==u||h[s].type!==r&&"circle"!==h[s].type?e*h[s].attrs.height/2:e*h[s].attrs.r,b=Math.max(b,it);for("horizontal"===i.mode&&(a=i.marginLeft),s=0;s<h.length;++s){var v={},p={},k={};(h[s].display===r||!0===h[s].display)&&(("area"===u?("horizontal"===i.mode?(c=a+i.marginLeft,l=b-.5*e*h[s].attrs.height):(c=i.marginLeft,l=y),v=w.rect(c,l,e*h[s].attrs.width,e*h[s].attrs.height)):"square"===h[s].type?("horizontal"===i.mode?(c=a+i.marginLeft,l=b-.5*e*h[s].attrs.height):(c=i.marginLeft,l=y),v=w.rect(c,l,e*h[s].attrs.width,e*h[s].attrs.height)):"image"===h[s].type||"svg"===h[s].type?("horizontal"===i.mode?(c=a+i.marginLeft,l=b-.5*e*h[s].attrs.height):(c=i.marginLeft,l=y),"image"===h[s].type?v=w.image(h[s].url,c,l,e*h[s].attrs.width,e*h[s].attrs.height):(v=w.path(h[s].path),h[s].attrs.transform===r&&(h[s].attrs.transform=""),p=v.getBBox(),h[s].attrs.transform="m"+e*h[s].width/p.width+",0,0,"+e*h[s].height/p.height+","+c+","+l+h[s].attrs.transform)):("horizontal"===i.mode?(c=a+i.marginLeft+e*h[s].attrs.r,l=b):(c=i.marginLeft+e*h[s].attrs.r,l=y+e*h[s].attrs.r),v=w.circle(c,l,e*h[s].attrs.r)),delete h[s].attrs.width,delete h[s].attrs.height,delete h[s].attrs.r,v.attr(h[s].attrs),p=v.getBBox(),"horizontal"===i.mode?(c=a+i.marginLeft+p.width+i.marginLeftLabel,l=b):(c=i.marginLeft+p.width+i.marginLeftLabel,l=y+p.height/2),k=w.text(c,l,h[s].label).attr(i.labelAttrs),"horizontal"===i.mode)?(rt=i.marginBottom+p.height,a+=i.marginLeft+p.width+i.marginLeftLabel+k.getBBox().width,"image"!==h[s].type&&"area"!==u&&(rt+=i.marginBottomTitle),tt&&(rt+=g.height),y=Math.max(y,rt)):(a=Math.max(a,i.marginLeft+p.width+i.marginLeftLabel+k.getBBox().width),y+=i.marginBottom+p.height),n(v.node).attr({"data-legend-id":o,"data-legend-type":u,"data-type":"legend-elem","data-id":s,"data-hidden":0}),n(k.node).attr({"data-legend-id":o,"data-legend-type":u,"data-type":"legend-label","data-id":s,"data-hidden":0}),ut[s]={mapElem:v,textElem:k},i.hideElemsOnClick.enabled&&(k.attr({cursor:"pointer"}),v.attr({cursor:"pointer"}),d.setHoverOptions(v,h[s].attrs,h[s].attrs),d.setHoverOptions(k,i.labelAttrs,i.labelAttrsHover),h[s].clicked!==r&&!0===h[s].clicked&&d.handleClickOnLegendElem(ut[s],s,o,u,{hideOtherElems:!1})))}return"SVG"!==t.type&&i.VMLWidth&&(a=i.VMLWidth),w.setSize(a,y),{container:nt,initialHTMLContent:ft,elems:ut}},handleClickOnLegendElem:function(t,i,u,f,e){var h,o=this;e=e||{};h=n.isArray(o.options.legend[f])?o.options.legend[f][u]:o.options.legend[f];var p=t.mapElem,l=t.textElem,v=n(p.node),w=n(l.node),b=h.slices[i],s="area"===f?o.areas:o.plots,c=e.animDuration!==r?e.animDuration:h.hideElemsOnClick.animDuration,a=v.attr("data-hidden"),y="0"===a?{"data-hidden":"1"}:{"data-hidden":"0"};"0"===a?o.animate(l,{opacity:.5},c):o.animate(l,{opacity:1},c);n.each(s,function(t){var f,i=s[t].mapElem.data("hidden-by");i===r&&(i={});f=n.isArray(s[t].options.value)?s[t].options.value[u]:s[t].options.value;o.getLegendSlice(f,h)===b&&("0"===a?(i[u]=!0,o.setElementOpacity(s[t],h.hideElemsOnClick.opacity,c)):(delete i[u],n.isEmptyObject(i)&&o.setElementOpacity(s[t],s[t].mapElem.originalAttrs.opacity!==r?s[t].mapElem.originalAttrs.opacity:1,c)),s[t].mapElem.data("hidden-by",i))});v.attr(y);w.attr(y);e.hideOtherElems!==r&&!0!==e.hideOtherElems||!0!==h.exclusive||n("[data-type='legend-elem'][data-hidden=0]",o.$container).each(function(){var t=n(this);t.attr("data-id")!==i&&t.trigger("click",{hideOtherElems:!1})})},createLegends:function(t,i,r){var e=this,f=e.options.legend[t],u;for(n.isArray(e.options.legend[t])||(f=[e.options.legend[t]]),e.legends[t]={},u=0;u<f.length;++u)!0===f[u].display&&n.isArray(f[u].slices)&&f[u].slices.length>0&&""!==f[u].cssClass&&0!==n("."+f[u].cssClass,e.$container).length&&(e.legends[t][u]=e.drawLegend(f[u],t,i,r,u))},setHoverOptions:function(i,r,u){"SVG"!==t.type&&delete u.transform;i.attrsHover=u;i.originalAttrs=i.attrsHover.transform?n.extend({transform:"s1"},r):r},elemEnter:function(n){var t=this,i;n!==r&&((n.mapElem!==r&&t.animate(n.mapElem,n.mapElem.attrsHover,n.mapElem.attrsHover.animDuration),n.textElem!==r&&t.animate(n.textElem,n.textElem.attrsHover,n.textElem.attrsHover.animDuration),n.options&&n.options.tooltip!==r)&&(i="",t.$tooltip.removeClass().addClass(t.options.map.tooltip.cssClass),n.options.tooltip.content!==r&&(i="function"==typeof n.options.tooltip.content?n.options.tooltip.content(n.mapElem):n.options.tooltip.content),n.options.tooltip.cssClass!==r&&t.$tooltip.addClass(n.options.tooltip.cssClass),t.$tooltip.html(i).css("display","block")),n.mapElem===r&&n.textElem===r||t.paper.safari&&t.paper.safari())},elemHover:function(n,t){var i=this,u;if(n!==r&&n.options.tooltip!==r){var f=t.pageX,e=t.pageY,o=10,s=20;"object"==typeof n.options.tooltip.offset&&(void 0!==n.options.tooltip.offset.left&&(o=n.options.tooltip.offset.left),void 0!==n.options.tooltip.offset.top&&(s=n.options.tooltip.offset.top));u={left:Math.min(i.$map.width()-i.$tooltip.outerWidth()-5,f-i.$map.offset().left+o),top:Math.min(i.$map.height()-i.$tooltip.outerHeight()-5,e-i.$map.offset().top+s)};"object"==typeof n.options.tooltip.overflow&&(!0===n.options.tooltip.overflow.right&&(u.left=f-i.$map.offset().left+10),!0===n.options.tooltip.overflow.bottom&&(u.top=e-i.$map.offset().top+20));i.$tooltip.css(u)}},elemOut:function(n){var t=this;n!==r&&(n.mapElem!==r&&t.animate(n.mapElem,n.mapElem.originalAttrs,n.mapElem.attrsHover.animDuration),n.textElem!==r&&t.animate(n.textElem,n.textElem.originalAttrs,n.textElem.attrsHover.animDuration),n.options&&n.options.tooltip!==r&&t.$tooltip.css({display:"none",top:-1e3,left:-1e3}),n.mapElem===r&&n.textElem===r||t.paper.safari&&t.paper.safari())},elemClick:function(n){var t=this;n!==r&&(t.panning||n.options.href===r||window.open(n.options.href,n.options.target))},getElemOptions:function(t,i,u){var o=this,f=n.extend(!0,{},t,i),e;if(f.value!==r)if(n.isArray(u))for(e=0;e<u.length;++e)f=n.extend(!0,{},f,o.getLegendSlice(f.value[e],u[e]));else f=n.extend(!0,{},f,o.getLegendSlice(f.value,u));return f},getTextPosition:function(n,t,i){var r=0,u=0,f="";switch("number"==typeof i&&(i="bottom"===t||"top"===t?{x:0,y:i}:"right"===t||"left"===t?{x:i,y:0}:{x:0,y:0}),t){case"bottom":r=(n.x+n.x2)/2+i.x;u=n.y2+i.y;f="middle";break;case"top":r=(n.x+n.x2)/2+i.x;u=n.y-i.y;f="middle";break;case"left":r=n.x-i.x;u=(n.y+n.y2)/2+i.y;f="end";break;case"right":r=n.x2+i.x;u=(n.y+n.y2)/2+i.y;f="start";break;default:r=(n.x+n.x2)/2+i.x;u=(n.y+n.y2)/2+i.y;f="middle"}return{x:r,y:u,textAnchor:f}},getLegendSlice:function(n,t){for(var i=0;i<t.slices.length;++i)if(t.slices[i].sliceValue!==r&&n===t.slices[i].sliceValue||t.slices[i].sliceValue===r&&(t.slices[i].min===r||n>=t.slices[i].min)&&(t.slices[i].max===r||n<=t.slices[i].max))return t.slices[i];return{}},animateViewBox:function(n,i,r,u,f,e){var o=this,h=o.currentViewBox.x,v=n-h,c=o.currentViewBox.y,y=i-c,s=o.currentViewBox.w,p=r-s,l=o.currentViewBox.h,w=u-l,a;o.zoomAnimCVBTarget||(o.zoomAnimCVBTarget={x:n,y:i,w:r,h:u});var b=s>r?"in":"out",k=t.easing_formulas[e||"linear"],g=f-f/50,d=o.zoomAnimStartTime;o.zoomAnimStartTime=(new Date).getTime();a=function(){var ut,tt,it,t,rt,ft,e,nt;o.cancelAnimationFrame(o.zoomAnimID);ut=(new Date).getTime()-o.zoomAnimStartTime;ut<g?(d&&o.zoomAnimCVBTarget&&o.zoomAnimCVBTarget.w!==r?(ft=(new Date).getTime()-d,e=k(ft/f),tt=h+(o.zoomAnimCVBTarget.x-h)*e,it=c+(o.zoomAnimCVBTarget.y-c)*e,t=s+(o.zoomAnimCVBTarget.w-s)*e,rt=l+(o.zoomAnimCVBTarget.h-l)*e,h=tt,v=n-h,c=it,y=i-c,s=t,p=r-s,l=rt,w=u-l,o.zoomAnimCVBTarget={x:n,y:i,w:r,h:u}):(nt=k(ut/f),tt=h+v*nt,it=c+y*nt,t=s+p*nt,rt=l+w*nt),"in"===b&&(t>o.currentViewBox.w||t<r)||"out"===b&&(t<o.currentViewBox.w||t>r)||o.setViewBox(tt,it,t,rt),o.zoomAnimID=o.requestAnimationFrame(a)):(o.zoomAnimStartTime=null,o.zoomAnimCVBTarget=null,o.currentViewBox.w!==r&&o.setViewBox(n,i,r,u),o.$map.trigger("afterZoom",{x1:n,y1:i,x2:n+r,y2:i+u}))};a()},requestAnimationFrame:function(n){return this._requestAnimationFrameFn.call(window,n)},cancelAnimationFrame:function(n){this._cancelAnimationFrameFn.call(window,n)},_requestAnimationFrameFn:function(){var n=function(){var t=(new Date).getTime();return function(i){var r=(new Date).getTime();if(!(r-t>16))return setTimeout(function(){n(i)},0);t=r;i(r)}}();return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||n}(),_cancelAnimationFrameFn:function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||clearTimeout}(),setViewBox:function(n,t,i,r){var u=this;u.currentViewBox.x=n;u.currentViewBox.y=t;u.currentViewBox.w=i;u.currentViewBox.h=r;u.paper.setViewBox(n,t,i,r,!1)},_nonAnimatedAttrs:["arrow-end","arrow-start","gradient","class","cursor","text-anchor","font","font-family","font-style","font-weight","letter-spacing","src","href","target","title","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit"],animate:function(n,t,i,u){var s=this,o,f,e;if(n)if(i>0){for(o={},f=0;f<s._nonAnimatedAttrs.length;f++)e=s._nonAnimatedAttrs[f],t[e]!==r&&(o[e]=t[e]);n.attr(o);n.animate(t,i,"linear",function(){u&&u()})}else n.attr(t),u&&u()},isRaphaelBBoxBugPresent:function(){var i=this,n=i.paper.text(-50,-50,"TEST"),t=n.getBBox();return n.remove(),0===t.width&&0===t.height},defaultOptions:{map:{cssClass:"map",tooltip:{cssClass:"mapTooltip"},defaultArea:{attrs:{fill:"#343434",stroke:"#5d5d5d","stroke-width":1,"stroke-linejoin":"round"},attrsHover:{fill:"#f38a03",animDuration:300},text:{position:"inner",margin:10,attrs:{"font-size":15,fill:"#c7c7c7"},attrsHover:{fill:"#eaeaea",animDuration:300}},target:"_self",cssClass:"area"},defaultPlot:{type:"circle",size:15,attrs:{fill:"#0088db",stroke:"#fff","stroke-width":0,"stroke-linejoin":"round"},attrsHover:{"stroke-width":3,animDuration:300},text:{position:"right",margin:10,attrs:{"font-size":15,fill:"#c7c7c7"},attrsHover:{fill:"#eaeaea",animDuration:300}},target:"_self",cssClass:"plot"},defaultLink:{factor:.5,attrs:{stroke:"#0088db","stroke-width":2},attrsHover:{animDuration:300},text:{position:"inner",margin:10,attrs:{"font-size":15,fill:"#c7c7c7"},attrsHover:{fill:"#eaeaea",animDuration:300}},target:"_self",cssClass:"link"},zoom:{enabled:!1,minLevel:0,maxLevel:10,step:.25,mousewheel:!0,touch:!0,animDuration:200,animEasing:"linear",buttons:{reset:{cssClass:"zoomButton zoomReset",content:"&#8226;",title:"Reset zoom"},"in":{cssClass:"zoomButton zoomIn",content:"+",title:"Zoom in"},out:{cssClass:"zoomButton zoomOut",content:"&#8722;",title:"Zoom out"}}}},legend:{redrawOnResize:!0,area:[],plot:[]},areas:{},plots:{},links:{}},legendDefaultOptions:{area:{cssClass:"areaLegend",display:!0,marginLeft:10,marginLeftTitle:5,marginBottomTitle:10,marginLeftLabel:10,marginBottom:10,titleAttrs:{"font-size":16,fill:"#343434","text-anchor":"start"},labelAttrs:{"font-size":12,fill:"#343434","text-anchor":"start"},labelAttrsHover:{fill:"#787878",animDuration:300},hideElemsOnClick:{enabled:!0,opacity:.2,animDuration:300},slices:[],mode:"vertical"},plot:{cssClass:"plotLegend",display:!0,marginLeft:10,marginLeftTitle:5,marginBottomTitle:10,marginLeftLabel:10,marginBottom:10,titleAttrs:{"font-size":16,fill:"#343434","text-anchor":"start"},labelAttrs:{"font-size":12,fill:"#343434","text-anchor":"start"},labelAttrsHover:{fill:"#787878",animDuration:300},hideElemsOnClick:{enabled:!0,opacity:.2,animDuration:300},slices:[],mode:"vertical"}}},u.version="2.2.0",n.mapael===r&&(n.mapael=u),n.fn.mapael=function(t){return this.each(function(){n.data(this,"mapael")&&n.data(this,"mapael").destroy();n.data(this,"mapael",new u(this,t))})},u});